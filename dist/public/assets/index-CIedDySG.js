var kk=Object.defineProperty;var TT=n=>{throw TypeError(n)};var Uk=(n,e,t)=>e in n?kk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var eo=(n,e,t)=>Uk(n,typeof e!="symbol"?e+"":e,t),nx=(n,e,t)=>e.has(n)||TT("Cannot "+t);var xe=(n,e,t)=>(nx(n,e,"read from private field"),t?t.call(n):e.get(n)),Gt=(n,e,t)=>e.has(n)?TT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Tt=(n,e,t,i)=>(nx(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),fi=(n,e,t)=>(nx(n,e,"access private method"),t);var qp=(n,e,t,i)=>({set _(r){Tt(n,e,r,t)},get _(){return xe(n,e,i)}});function zk(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var Hk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function k0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zP={exports:{}},U0={},HP={exports:{}},Lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph=Symbol.for("react.element"),Gk=Symbol.for("react.portal"),Vk=Symbol.for("react.fragment"),Wk=Symbol.for("react.strict_mode"),jk=Symbol.for("react.profiler"),Xk=Symbol.for("react.provider"),Jk=Symbol.for("react.context"),Kk=Symbol.for("react.forward_ref"),Yk=Symbol.for("react.suspense"),Qk=Symbol.for("react.memo"),qk=Symbol.for("react.lazy"),CT=Symbol.iterator;function Zk(n){return n===null||typeof n!="object"?null:(n=CT&&n[CT]||n["@@iterator"],typeof n=="function"?n:null)}var GP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VP=Object.assign,WP={};function dd(n,e,t){this.props=n,this.context=e,this.refs=WP,this.updater=t||GP}dd.prototype.isReactComponent={};dd.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};dd.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function jP(){}jP.prototype=dd.prototype;function sS(n,e,t){this.props=n,this.context=e,this.refs=WP,this.updater=t||GP}var oS=sS.prototype=new jP;oS.constructor=sS;VP(oS,dd.prototype);oS.isPureReactComponent=!0;var bT=Array.isArray,XP=Object.prototype.hasOwnProperty,aS={current:null},JP={key:!0,ref:!0,__self:!0,__source:!0};function KP(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)XP.call(e,i)&&!JP.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Ph,type:n,key:s,ref:o,props:r,_owner:aS.current}}function $k(n,e){return{$$typeof:Ph,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function lS(n){return typeof n=="object"&&n!==null&&n.$$typeof===Ph}function eU(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var RT=/\/+/g;function ix(n,e){return typeof n=="object"&&n!==null&&n.key!=null?eU(""+n.key):e.toString(36)}function yg(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Ph:case Gk:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+ix(o,0):i,bT(r)?(t="",n!=null&&(t=n.replace(RT,"$&/")+"/"),yg(r,e,t,"",function(c){return c})):r!=null&&(lS(r)&&(r=$k(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(RT,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",bT(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+ix(s,a);o+=yg(s,e,t,l,r)}else if(l=Zk(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+ix(s,a++),o+=yg(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zp(n,e,t){if(n==null)return n;var i=[],r=0;return yg(n,i,"","",function(s){return e.call(t,s,r++)}),i}function tU(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Fi={current:null},xg={transition:null},nU={ReactCurrentDispatcher:Fi,ReactCurrentBatchConfig:xg,ReactCurrentOwner:aS};function YP(){throw Error("act(...) is not supported in production builds of React.")}Lt.Children={map:Zp,forEach:function(n,e,t){Zp(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Zp(n,function(){e++}),e},toArray:function(n){return Zp(n,function(e){return e})||[]},only:function(n){if(!lS(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Lt.Component=dd;Lt.Fragment=Vk;Lt.Profiler=jk;Lt.PureComponent=sS;Lt.StrictMode=Wk;Lt.Suspense=Yk;Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nU;Lt.act=YP;Lt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=VP({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=aS.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)XP.call(e,l)&&!JP.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:Ph,type:n.type,key:r,ref:s,props:i,_owner:o}};Lt.createContext=function(n){return n={$$typeof:Jk,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Xk,_context:n},n.Consumer=n};Lt.createElement=KP;Lt.createFactory=function(n){var e=KP.bind(null,n);return e.type=n,e};Lt.createRef=function(){return{current:null}};Lt.forwardRef=function(n){return{$$typeof:Kk,render:n}};Lt.isValidElement=lS;Lt.lazy=function(n){return{$$typeof:qk,_payload:{_status:-1,_result:n},_init:tU}};Lt.memo=function(n,e){return{$$typeof:Qk,type:n,compare:e===void 0?null:e}};Lt.startTransition=function(n){var e=xg.transition;xg.transition={};try{n()}finally{xg.transition=e}};Lt.unstable_act=YP;Lt.useCallback=function(n,e){return Fi.current.useCallback(n,e)};Lt.useContext=function(n){return Fi.current.useContext(n)};Lt.useDebugValue=function(){};Lt.useDeferredValue=function(n){return Fi.current.useDeferredValue(n)};Lt.useEffect=function(n,e){return Fi.current.useEffect(n,e)};Lt.useId=function(){return Fi.current.useId()};Lt.useImperativeHandle=function(n,e,t){return Fi.current.useImperativeHandle(n,e,t)};Lt.useInsertionEffect=function(n,e){return Fi.current.useInsertionEffect(n,e)};Lt.useLayoutEffect=function(n,e){return Fi.current.useLayoutEffect(n,e)};Lt.useMemo=function(n,e){return Fi.current.useMemo(n,e)};Lt.useReducer=function(n,e,t){return Fi.current.useReducer(n,e,t)};Lt.useRef=function(n){return Fi.current.useRef(n)};Lt.useState=function(n){return Fi.current.useState(n)};Lt.useSyncExternalStore=function(n,e,t){return Fi.current.useSyncExternalStore(n,e,t)};Lt.useTransition=function(){return Fi.current.useTransition()};Lt.version="18.3.1";HP.exports=Lt;var D=HP.exports;const Bi=k0(D),iU=zk({__proto__:null,default:Bi},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rU=D,sU=Symbol.for("react.element"),oU=Symbol.for("react.fragment"),aU=Object.prototype.hasOwnProperty,lU=rU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cU={key:!0,ref:!0,__self:!0,__source:!0};function QP(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)aU.call(e,i)&&!cU.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:sU,type:n,key:s,ref:o,props:r,_owner:lU.current}}U0.Fragment=oU;U0.jsx=QP;U0.jsxs=QP;zP.exports=U0;var U=zP.exports,qP={exports:{}},yr={},ZP={exports:{}},$P={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(I,V){var W=I.length;I.push(V);e:for(;0<W;){var z=W-1>>>1,K=I[z];if(0<r(K,V))I[z]=V,I[W]=K,W=z;else break e}}function t(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var V=I[0],W=I.pop();if(W!==V){I[0]=W;e:for(var z=0,K=I.length,ue=K>>>1;z<ue;){var ve=2*(z+1)-1,Ae=I[ve],be=ve+1,Be=I[be];if(0>r(Ae,W))be<K&&0>r(Be,Ae)?(I[z]=Be,I[be]=W,z=be):(I[z]=Ae,I[ve]=W,z=ve);else if(be<K&&0>r(Be,W))I[z]=Be,I[be]=W,z=be;else break e}}return V}function r(I,V){var W=I.sortIndex-V.sortIndex;return W!==0?W:I.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,m=!1,v=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(I){for(var V=t(c);V!==null;){if(V.callback===null)i(c);else if(V.startTime<=I)i(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=t(c)}}function M(I){if(_=!1,S(I),!v)if(t(l)!==null)v=!0,ee(T);else{var V=t(c);V!==null&&$(M,V.startTime-I)}}function T(I,V){v=!1,_&&(_=!1,g(B),B=-1),m=!0;var W=p;try{for(S(V),h=t(l);h!==null&&(!(h.expirationTime>V)||I&&!O());){var z=h.callback;if(typeof z=="function"){h.callback=null,p=h.priorityLevel;var K=z(h.expirationTime<=V);V=n.unstable_now(),typeof K=="function"?h.callback=K:h===t(l)&&i(l),S(V)}else i(l);h=t(l)}if(h!==null)var ue=!0;else{var ve=t(c);ve!==null&&$(M,ve.startTime-V),ue=!1}return ue}finally{h=null,p=W,m=!1}}var C=!1,P=null,B=-1,R=5,L=-1;function O(){return!(n.unstable_now()-L<R)}function G(){if(P!==null){var I=n.unstable_now();L=I;var V=!0;try{V=P(!0,I)}finally{V?Q():(C=!1,P=null)}}else C=!1}var Q;if(typeof A=="function")Q=function(){A(G)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,q=F.port2;F.port1.onmessage=G,Q=function(){q.postMessage(null)}}else Q=function(){x(G,0)};function ee(I){P=I,C||(C=!0,Q())}function $(I,V){B=x(function(){I(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,ee(T))},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(I){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var W=p;p=V;try{return I()}finally{p=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(I,V){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var W=p;p=I;try{return V()}finally{p=W}},n.unstable_scheduleCallback=function(I,V,W){var z=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?z+W:z):W=z,I){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=W+K,I={id:d++,callback:V,priorityLevel:I,startTime:W,expirationTime:K,sortIndex:-1},W>z?(I.sortIndex=W,e(c,I),t(l)===null&&I===t(c)&&(_?(g(B),B=-1):_=!0,$(M,W-z))):(I.sortIndex=K,e(l,I),v||m||(v=!0,ee(T))),I},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(I){var V=p;return function(){var W=p;p=V;try{return I.apply(this,arguments)}finally{p=W}}}})($P);ZP.exports=$P;var uU=ZP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dU=D,mr=uU;function Te(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var e3=new Set,Hf={};function ac(n,e){ju(n,e),ju(n+"Capture",e)}function ju(n,e){for(Hf[n]=e,n=0;n<e.length;n++)e3.add(e[n])}var To=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),J1=Object.prototype.hasOwnProperty,fU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,PT={},LT={};function hU(n){return J1.call(LT,n)?!0:J1.call(PT,n)?!1:fU.test(n)?LT[n]=!0:(PT[n]=!0,!1)}function pU(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function mU(n,e,t,i){if(e===null||typeof e>"u"||pU(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Oi(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ai={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){ai[n]=new Oi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];ai[e]=new Oi(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){ai[n]=new Oi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){ai[n]=new Oi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){ai[n]=new Oi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){ai[n]=new Oi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){ai[n]=new Oi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){ai[n]=new Oi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){ai[n]=new Oi(n,5,!1,n.toLowerCase(),null,!1,!1)});var cS=/[\-:]([a-z])/g;function uS(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(cS,uS);ai[e]=new Oi(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(cS,uS);ai[e]=new Oi(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(cS,uS);ai[e]=new Oi(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){ai[n]=new Oi(n,1,!1,n.toLowerCase(),null,!1,!1)});ai.xlinkHref=new Oi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){ai[n]=new Oi(n,1,!1,n.toLowerCase(),null,!0,!0)});function dS(n,e,t,i){var r=ai.hasOwnProperty(e)?ai[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mU(e,t,r,i)&&(t=null),i||r===null?hU(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var No=dU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$p=Symbol.for("react.element"),iu=Symbol.for("react.portal"),ru=Symbol.for("react.fragment"),fS=Symbol.for("react.strict_mode"),K1=Symbol.for("react.profiler"),t3=Symbol.for("react.provider"),n3=Symbol.for("react.context"),hS=Symbol.for("react.forward_ref"),Y1=Symbol.for("react.suspense"),Q1=Symbol.for("react.suspense_list"),pS=Symbol.for("react.memo"),sa=Symbol.for("react.lazy"),i3=Symbol.for("react.offscreen"),BT=Symbol.iterator;function Wd(n){return n===null||typeof n!="object"?null:(n=BT&&n[BT]||n["@@iterator"],typeof n=="function"?n:null)}var pn=Object.assign,rx;function mf(n){if(rx===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);rx=e&&e[1]||""}return`
`+rx+n}var sx=!1;function ox(n,e){if(!n||sx)return"";sx=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{sx=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?mf(n):""}function gU(n){switch(n.tag){case 5:return mf(n.type);case 16:return mf("Lazy");case 13:return mf("Suspense");case 19:return mf("SuspenseList");case 0:case 2:case 15:return n=ox(n.type,!1),n;case 11:return n=ox(n.type.render,!1),n;case 1:return n=ox(n.type,!0),n;default:return""}}function q1(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ru:return"Fragment";case iu:return"Portal";case K1:return"Profiler";case fS:return"StrictMode";case Y1:return"Suspense";case Q1:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case n3:return(n.displayName||"Context")+".Consumer";case t3:return(n._context.displayName||"Context")+".Provider";case hS:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case pS:return e=n.displayName||null,e!==null?e:q1(n.type)||"Memo";case sa:e=n._payload,n=n._init;try{return q1(n(e))}catch{}}return null}function vU(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q1(e);case 8:return e===fS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ba(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function r3(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yU(n){var e=r3(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function em(n){n._valueTracker||(n._valueTracker=yU(n))}function s3(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=r3(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Wg(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Z1(n,e){var t=e.checked;return pn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function IT(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Ba(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function o3(n,e){e=e.checked,e!=null&&dS(n,"checked",e,!1)}function $1(n,e){o3(n,e);var t=Ba(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?e_(n,e.type,t):e.hasOwnProperty("defaultValue")&&e_(n,e.type,Ba(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function DT(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function e_(n,e,t){(e!=="number"||Wg(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var gf=Array.isArray;function Mu(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Ba(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function t_(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Te(91));return pn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function NT(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Te(92));if(gf(t)){if(1<t.length)throw Error(Te(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Ba(t)}}function a3(n,e){var t=Ba(e.value),i=Ba(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function FT(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function l3(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function n_(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?l3(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var tm,c3=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(tm=tm||document.createElement("div"),tm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=tm.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Gf(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var wf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xU=["Webkit","ms","Moz","O"];Object.keys(wf).forEach(function(n){xU.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),wf[e]=wf[n]})});function u3(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||wf.hasOwnProperty(n)&&wf[n]?(""+e).trim():e+"px"}function d3(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=u3(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var _U=pn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function i_(n,e){if(e){if(_U[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Te(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Te(62))}}function r_(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var s_=null;function mS(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var o_=null,Eu=null,Tu=null;function OT(n){if(n=Ih(n)){if(typeof o_!="function")throw Error(Te(280));var e=n.stateNode;e&&(e=W0(e),o_(n.stateNode,n.type,e))}}function f3(n){Eu?Tu?Tu.push(n):Tu=[n]:Eu=n}function h3(){if(Eu){var n=Eu,e=Tu;if(Tu=Eu=null,OT(n),e)for(n=0;n<e.length;n++)OT(e[n])}}function p3(n,e){return n(e)}function m3(){}var ax=!1;function g3(n,e,t){if(ax)return n(e,t);ax=!0;try{return p3(n,e,t)}finally{ax=!1,(Eu!==null||Tu!==null)&&(m3(),h3())}}function Vf(n,e){var t=n.stateNode;if(t===null)return null;var i=W0(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Te(231,e,typeof t));return t}var a_=!1;if(To)try{var jd={};Object.defineProperty(jd,"passive",{get:function(){a_=!0}}),window.addEventListener("test",jd,jd),window.removeEventListener("test",jd,jd)}catch{a_=!1}function AU(n,e,t,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(d){this.onError(d)}}var Mf=!1,jg=null,Xg=!1,l_=null,SU={onError:function(n){Mf=!0,jg=n}};function wU(n,e,t,i,r,s,o,a,l){Mf=!1,jg=null,AU.apply(SU,arguments)}function MU(n,e,t,i,r,s,o,a,l){if(wU.apply(this,arguments),Mf){if(Mf){var c=jg;Mf=!1,jg=null}else throw Error(Te(198));Xg||(Xg=!0,l_=c)}}function lc(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function v3(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function kT(n){if(lc(n)!==n)throw Error(Te(188))}function EU(n){var e=n.alternate;if(!e){if(e=lc(n),e===null)throw Error(Te(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return kT(r),n;if(s===i)return kT(r),e;s=s.sibling}throw Error(Te(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(Te(189))}}if(t.alternate!==i)throw Error(Te(190))}if(t.tag!==3)throw Error(Te(188));return t.stateNode.current===t?n:e}function y3(n){return n=EU(n),n!==null?x3(n):null}function x3(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=x3(n);if(e!==null)return e;n=n.sibling}return null}var _3=mr.unstable_scheduleCallback,UT=mr.unstable_cancelCallback,TU=mr.unstable_shouldYield,CU=mr.unstable_requestPaint,bn=mr.unstable_now,bU=mr.unstable_getCurrentPriorityLevel,gS=mr.unstable_ImmediatePriority,A3=mr.unstable_UserBlockingPriority,Jg=mr.unstable_NormalPriority,RU=mr.unstable_LowPriority,S3=mr.unstable_IdlePriority,z0=null,Is=null;function PU(n){if(Is&&typeof Is.onCommitFiberRoot=="function")try{Is.onCommitFiberRoot(z0,n,void 0,(n.current.flags&128)===128)}catch{}}var ss=Math.clz32?Math.clz32:IU,LU=Math.log,BU=Math.LN2;function IU(n){return n>>>=0,n===0?32:31-(LU(n)/BU|0)|0}var nm=64,im=4194304;function vf(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Kg(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=vf(a):(s&=o,s!==0&&(i=vf(s)))}else o=t&~r,o!==0?i=vf(o):s!==0&&(i=vf(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-ss(e),r=1<<t,i|=n[t],e&=~r;return i}function DU(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NU(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-ss(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=DU(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function c_(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function w3(){var n=nm;return nm<<=1,!(nm&4194240)&&(nm=64),n}function lx(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Lh(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ss(e),n[e]=t}function FU(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-ss(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function vS(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-ss(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var Xt=0;function M3(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var E3,yS,T3,C3,b3,u_=!1,rm=[],ya=null,xa=null,_a=null,Wf=new Map,jf=new Map,aa=[],OU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zT(n,e){switch(n){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":xa=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":Wf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jf.delete(e.pointerId)}}function Xd(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Ih(e),e!==null&&yS(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function kU(n,e,t,i,r){switch(e){case"focusin":return ya=Xd(ya,n,e,t,i,r),!0;case"dragenter":return xa=Xd(xa,n,e,t,i,r),!0;case"mouseover":return _a=Xd(_a,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return Wf.set(s,Xd(Wf.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,jf.set(s,Xd(jf.get(s)||null,n,e,t,i,r)),!0}return!1}function R3(n){var e=El(n.target);if(e!==null){var t=lc(e);if(t!==null){if(e=t.tag,e===13){if(e=v3(t),e!==null){n.blockedOn=e,b3(n.priority,function(){T3(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _g(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=d_(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);s_=i,t.target.dispatchEvent(i),s_=null}else return e=Ih(t),e!==null&&yS(e),n.blockedOn=t,!1;e.shift()}return!0}function HT(n,e,t){_g(n)&&t.delete(e)}function UU(){u_=!1,ya!==null&&_g(ya)&&(ya=null),xa!==null&&_g(xa)&&(xa=null),_a!==null&&_g(_a)&&(_a=null),Wf.forEach(HT),jf.forEach(HT)}function Jd(n,e){n.blockedOn===e&&(n.blockedOn=null,u_||(u_=!0,mr.unstable_scheduleCallback(mr.unstable_NormalPriority,UU)))}function Xf(n){function e(r){return Jd(r,n)}if(0<rm.length){Jd(rm[0],n);for(var t=1;t<rm.length;t++){var i=rm[t];i.blockedOn===n&&(i.blockedOn=null)}}for(ya!==null&&Jd(ya,n),xa!==null&&Jd(xa,n),_a!==null&&Jd(_a,n),Wf.forEach(e),jf.forEach(e),t=0;t<aa.length;t++)i=aa[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<aa.length&&(t=aa[0],t.blockedOn===null);)R3(t),t.blockedOn===null&&aa.shift()}var Cu=No.ReactCurrentBatchConfig,Yg=!0;function zU(n,e,t,i){var r=Xt,s=Cu.transition;Cu.transition=null;try{Xt=1,xS(n,e,t,i)}finally{Xt=r,Cu.transition=s}}function HU(n,e,t,i){var r=Xt,s=Cu.transition;Cu.transition=null;try{Xt=4,xS(n,e,t,i)}finally{Xt=r,Cu.transition=s}}function xS(n,e,t,i){if(Yg){var r=d_(n,e,t,i);if(r===null)yx(n,e,i,Qg,t),zT(n,i);else if(kU(r,n,e,t,i))i.stopPropagation();else if(zT(n,i),e&4&&-1<OU.indexOf(n)){for(;r!==null;){var s=Ih(r);if(s!==null&&E3(s),s=d_(n,e,t,i),s===null&&yx(n,e,i,Qg,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else yx(n,e,i,null,t)}}var Qg=null;function d_(n,e,t,i){if(Qg=null,n=mS(i),n=El(n),n!==null)if(e=lc(n),e===null)n=null;else if(t=e.tag,t===13){if(n=v3(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Qg=n,null}function P3(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bU()){case gS:return 1;case A3:return 4;case Jg:case RU:return 16;case S3:return 536870912;default:return 16}default:return 16}}var ma=null,_S=null,Ag=null;function L3(){if(Ag)return Ag;var n,e=_S,t=e.length,i,r="value"in ma?ma.value:ma.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return Ag=r.slice(n,1<i?1-i:void 0)}function Sg(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function sm(){return!0}function GT(){return!1}function xr(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sm:GT,this.isPropagationStopped=GT,this}return pn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=sm)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=sm)},persist:function(){},isPersistent:sm}),e}var fd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},AS=xr(fd),Bh=pn({},fd,{view:0,detail:0}),GU=xr(Bh),cx,ux,Kd,H0=pn({},Bh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:SS,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Kd&&(Kd&&n.type==="mousemove"?(cx=n.screenX-Kd.screenX,ux=n.screenY-Kd.screenY):ux=cx=0,Kd=n),cx)},movementY:function(n){return"movementY"in n?n.movementY:ux}}),VT=xr(H0),VU=pn({},H0,{dataTransfer:0}),WU=xr(VU),jU=pn({},Bh,{relatedTarget:0}),dx=xr(jU),XU=pn({},fd,{animationName:0,elapsedTime:0,pseudoElement:0}),JU=xr(XU),KU=pn({},fd,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),YU=xr(KU),QU=pn({},fd,{data:0}),WT=xr(QU),qU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$U={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e4(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=$U[n])?!!e[n]:!1}function SS(){return e4}var t4=pn({},Bh,{key:function(n){if(n.key){var e=qU[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Sg(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ZU[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:SS,charCode:function(n){return n.type==="keypress"?Sg(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Sg(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),n4=xr(t4),i4=pn({},H0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jT=xr(i4),r4=pn({},Bh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:SS}),s4=xr(r4),o4=pn({},fd,{propertyName:0,elapsedTime:0,pseudoElement:0}),a4=xr(o4),l4=pn({},H0,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),c4=xr(l4),u4=[9,13,27,32],wS=To&&"CompositionEvent"in window,Ef=null;To&&"documentMode"in document&&(Ef=document.documentMode);var d4=To&&"TextEvent"in window&&!Ef,B3=To&&(!wS||Ef&&8<Ef&&11>=Ef),XT=" ",JT=!1;function I3(n,e){switch(n){case"keyup":return u4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function D3(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var su=!1;function f4(n,e){switch(n){case"compositionend":return D3(e);case"keypress":return e.which!==32?null:(JT=!0,XT);case"textInput":return n=e.data,n===XT&&JT?null:n;default:return null}}function h4(n,e){if(su)return n==="compositionend"||!wS&&I3(n,e)?(n=L3(),Ag=_S=ma=null,su=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return B3&&e.locale!=="ko"?null:e.data;default:return null}}var p4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KT(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!p4[n.type]:e==="textarea"}function N3(n,e,t,i){f3(i),e=qg(e,"onChange"),0<e.length&&(t=new AS("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Tf=null,Jf=null;function m4(n){X3(n,0)}function G0(n){var e=lu(n);if(s3(e))return n}function g4(n,e){if(n==="change")return e}var F3=!1;if(To){var fx;if(To){var hx="oninput"in document;if(!hx){var YT=document.createElement("div");YT.setAttribute("oninput","return;"),hx=typeof YT.oninput=="function"}fx=hx}else fx=!1;F3=fx&&(!document.documentMode||9<document.documentMode)}function QT(){Tf&&(Tf.detachEvent("onpropertychange",O3),Jf=Tf=null)}function O3(n){if(n.propertyName==="value"&&G0(Jf)){var e=[];N3(e,Jf,n,mS(n)),g3(m4,e)}}function v4(n,e,t){n==="focusin"?(QT(),Tf=e,Jf=t,Tf.attachEvent("onpropertychange",O3)):n==="focusout"&&QT()}function y4(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return G0(Jf)}function x4(n,e){if(n==="click")return G0(e)}function _4(n,e){if(n==="input"||n==="change")return G0(e)}function A4(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var as=typeof Object.is=="function"?Object.is:A4;function Kf(n,e){if(as(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!J1.call(e,r)||!as(n[r],e[r]))return!1}return!0}function qT(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ZT(n,e){var t=qT(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=qT(t)}}function k3(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?k3(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function U3(){for(var n=window,e=Wg();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Wg(n.document)}return e}function MS(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function S4(n){var e=U3(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&k3(t.ownerDocument.documentElement,t)){if(i!==null&&MS(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=ZT(t,s);var o=ZT(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var w4=To&&"documentMode"in document&&11>=document.documentMode,ou=null,f_=null,Cf=null,h_=!1;function $T(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;h_||ou==null||ou!==Wg(i)||(i=ou,"selectionStart"in i&&MS(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Cf&&Kf(Cf,i)||(Cf=i,i=qg(f_,"onSelect"),0<i.length&&(e=new AS("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=ou)))}function om(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var au={animationend:om("Animation","AnimationEnd"),animationiteration:om("Animation","AnimationIteration"),animationstart:om("Animation","AnimationStart"),transitionend:om("Transition","TransitionEnd")},px={},z3={};To&&(z3=document.createElement("div").style,"AnimationEvent"in window||(delete au.animationend.animation,delete au.animationiteration.animation,delete au.animationstart.animation),"TransitionEvent"in window||delete au.transitionend.transition);function V0(n){if(px[n])return px[n];if(!au[n])return n;var e=au[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in z3)return px[n]=e[t];return n}var H3=V0("animationend"),G3=V0("animationiteration"),V3=V0("animationstart"),W3=V0("transitionend"),j3=new Map,eC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Va(n,e){j3.set(n,e),ac(e,[n])}for(var mx=0;mx<eC.length;mx++){var gx=eC[mx],M4=gx.toLowerCase(),E4=gx[0].toUpperCase()+gx.slice(1);Va(M4,"on"+E4)}Va(H3,"onAnimationEnd");Va(G3,"onAnimationIteration");Va(V3,"onAnimationStart");Va("dblclick","onDoubleClick");Va("focusin","onFocus");Va("focusout","onBlur");Va(W3,"onTransitionEnd");ju("onMouseEnter",["mouseout","mouseover"]);ju("onMouseLeave",["mouseout","mouseover"]);ju("onPointerEnter",["pointerout","pointerover"]);ju("onPointerLeave",["pointerout","pointerover"]);ac("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ac("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ac("onBeforeInput",["compositionend","keypress","textInput","paste"]);ac("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ac("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ac("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T4=new Set("cancel close invalid load scroll toggle".split(" ").concat(yf));function tC(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,MU(i,e,void 0,n),n.currentTarget=null}function X3(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;tC(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;tC(r,a,c),s=l}}}if(Xg)throw n=l_,Xg=!1,l_=null,n}function tn(n,e){var t=e[y_];t===void 0&&(t=e[y_]=new Set);var i=n+"__bubble";t.has(i)||(J3(e,n,2,!1),t.add(i))}function vx(n,e,t){var i=0;e&&(i|=4),J3(t,n,i,e)}var am="_reactListening"+Math.random().toString(36).slice(2);function Yf(n){if(!n[am]){n[am]=!0,e3.forEach(function(t){t!=="selectionchange"&&(T4.has(t)||vx(t,!1,n),vx(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[am]||(e[am]=!0,vx("selectionchange",!1,e))}}function J3(n,e,t,i){switch(P3(e)){case 1:var r=zU;break;case 4:r=HU;break;default:r=xS}t=r.bind(null,e,t,n),r=void 0,!a_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function yx(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=El(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}g3(function(){var c=s,d=mS(t),h=[];e:{var p=j3.get(n);if(p!==void 0){var m=AS,v=n;switch(n){case"keypress":if(Sg(t)===0)break e;case"keydown":case"keyup":m=n4;break;case"focusin":v="focus",m=dx;break;case"focusout":v="blur",m=dx;break;case"beforeblur":case"afterblur":m=dx;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=VT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=WU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=s4;break;case H3:case G3:case V3:m=JU;break;case W3:m=a4;break;case"scroll":m=GU;break;case"wheel":m=c4;break;case"copy":case"cut":case"paste":m=YU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=jT}var _=(e&4)!==0,x=!_&&n==="scroll",g=_?p!==null?p+"Capture":null:p;_=[];for(var A=c,S;A!==null;){S=A;var M=S.stateNode;if(S.tag===5&&M!==null&&(S=M,g!==null&&(M=Vf(A,g),M!=null&&_.push(Qf(A,M,S)))),x)break;A=A.return}0<_.length&&(p=new m(p,v,null,t,d),h.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==s_&&(v=t.relatedTarget||t.fromElement)&&(El(v)||v[Co]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=c,v=v?El(v):null,v!==null&&(x=lc(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(_=VT,M="onMouseLeave",g="onMouseEnter",A="mouse",(n==="pointerout"||n==="pointerover")&&(_=jT,M="onPointerLeave",g="onPointerEnter",A="pointer"),x=m==null?p:lu(m),S=v==null?p:lu(v),p=new _(M,A+"leave",m,t,d),p.target=x,p.relatedTarget=S,M=null,El(d)===c&&(_=new _(g,A+"enter",v,t,d),_.target=S,_.relatedTarget=x,M=_),x=M,m&&v)t:{for(_=m,g=v,A=0,S=_;S;S=Lc(S))A++;for(S=0,M=g;M;M=Lc(M))S++;for(;0<A-S;)_=Lc(_),A--;for(;0<S-A;)g=Lc(g),S--;for(;A--;){if(_===g||g!==null&&_===g.alternate)break t;_=Lc(_),g=Lc(g)}_=null}else _=null;m!==null&&nC(h,p,m,_,!1),v!==null&&x!==null&&nC(h,x,v,_,!0)}}e:{if(p=c?lu(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var T=g4;else if(KT(p))if(F3)T=_4;else{T=y4;var C=v4}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=x4);if(T&&(T=T(n,c))){N3(h,T,t,d);break e}C&&C(n,p,c),n==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&e_(p,"number",p.value)}switch(C=c?lu(c):window,n){case"focusin":(KT(C)||C.contentEditable==="true")&&(ou=C,f_=c,Cf=null);break;case"focusout":Cf=f_=ou=null;break;case"mousedown":h_=!0;break;case"contextmenu":case"mouseup":case"dragend":h_=!1,$T(h,t,d);break;case"selectionchange":if(w4)break;case"keydown":case"keyup":$T(h,t,d)}var P;if(wS)e:{switch(n){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else su?I3(n,t)&&(B="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(B="onCompositionStart");B&&(B3&&t.locale!=="ko"&&(su||B!=="onCompositionStart"?B==="onCompositionEnd"&&su&&(P=L3()):(ma=d,_S="value"in ma?ma.value:ma.textContent,su=!0)),C=qg(c,B),0<C.length&&(B=new WT(B,n,null,t,d),h.push({event:B,listeners:C}),P?B.data=P:(P=D3(t),P!==null&&(B.data=P)))),(P=d4?f4(n,t):h4(n,t))&&(c=qg(c,"onBeforeInput"),0<c.length&&(d=new WT("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:c}),d.data=P))}X3(h,e)})}function Qf(n,e,t){return{instance:n,listener:e,currentTarget:t}}function qg(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Vf(n,t),s!=null&&i.unshift(Qf(n,s,r)),s=Vf(n,e),s!=null&&i.push(Qf(n,s,r))),n=n.return}return i}function Lc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function nC(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=Vf(t,s),l!=null&&o.unshift(Qf(t,l,a))):r||(l=Vf(t,s),l!=null&&o.push(Qf(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var C4=/\r\n?/g,b4=/\u0000|\uFFFD/g;function iC(n){return(typeof n=="string"?n:""+n).replace(C4,`
`).replace(b4,"")}function lm(n,e,t){if(e=iC(e),iC(n)!==e&&t)throw Error(Te(425))}function Zg(){}var p_=null,m_=null;function g_(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var v_=typeof setTimeout=="function"?setTimeout:void 0,R4=typeof clearTimeout=="function"?clearTimeout:void 0,rC=typeof Promise=="function"?Promise:void 0,P4=typeof queueMicrotask=="function"?queueMicrotask:typeof rC<"u"?function(n){return rC.resolve(null).then(n).catch(L4)}:v_;function L4(n){setTimeout(function(){throw n})}function xx(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),Xf(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);Xf(e)}function Aa(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function sC(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var hd=Math.random().toString(36).slice(2),Ps="__reactFiber$"+hd,qf="__reactProps$"+hd,Co="__reactContainer$"+hd,y_="__reactEvents$"+hd,B4="__reactListeners$"+hd,I4="__reactHandles$"+hd;function El(n){var e=n[Ps];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Co]||t[Ps]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=sC(n);n!==null;){if(t=n[Ps])return t;n=sC(n)}return e}n=t,t=n.parentNode}return null}function Ih(n){return n=n[Ps]||n[Co],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function lu(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Te(33))}function W0(n){return n[qf]||null}var x_=[],cu=-1;function Wa(n){return{current:n}}function nn(n){0>cu||(n.current=x_[cu],x_[cu]=null,cu--)}function Zt(n,e){cu++,x_[cu]=n.current,n.current=e}var Ia={},Si=Wa(Ia),Ji=Wa(!1),Xl=Ia;function Xu(n,e){var t=n.type.contextTypes;if(!t)return Ia;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Ki(n){return n=n.childContextTypes,n!=null}function $g(){nn(Ji),nn(Si)}function oC(n,e,t){if(Si.current!==Ia)throw Error(Te(168));Zt(Si,e),Zt(Ji,t)}function K3(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Te(108,vU(n)||"Unknown",r));return pn({},t,i)}function e0(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ia,Xl=Si.current,Zt(Si,n),Zt(Ji,Ji.current),!0}function aC(n,e,t){var i=n.stateNode;if(!i)throw Error(Te(169));t?(n=K3(n,e,Xl),i.__reactInternalMemoizedMergedChildContext=n,nn(Ji),nn(Si),Zt(Si,n)):nn(Ji),Zt(Ji,t)}var fo=null,j0=!1,_x=!1;function Y3(n){fo===null?fo=[n]:fo.push(n)}function D4(n){j0=!0,Y3(n)}function ja(){if(!_x&&fo!==null){_x=!0;var n=0,e=Xt;try{var t=fo;for(Xt=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}fo=null,j0=!1}catch(r){throw fo!==null&&(fo=fo.slice(n+1)),_3(gS,ja),r}finally{Xt=e,_x=!1}}return null}var uu=[],du=0,t0=null,n0=0,Fr=[],Or=0,Jl=null,mo=1,go="";function gl(n,e){uu[du++]=n0,uu[du++]=t0,t0=n,n0=e}function Q3(n,e,t){Fr[Or++]=mo,Fr[Or++]=go,Fr[Or++]=Jl,Jl=n;var i=mo;n=go;var r=32-ss(i)-1;i&=~(1<<r),t+=1;var s=32-ss(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,mo=1<<32-ss(e)+r|t<<r|i,go=s+n}else mo=1<<s|t<<r|i,go=n}function ES(n){n.return!==null&&(gl(n,1),Q3(n,1,0))}function TS(n){for(;n===t0;)t0=uu[--du],uu[du]=null,n0=uu[--du],uu[du]=null;for(;n===Jl;)Jl=Fr[--Or],Fr[Or]=null,go=Fr[--Or],Fr[Or]=null,mo=Fr[--Or],Fr[Or]=null}var fr=null,ur=null,sn=!1,ns=null;function q3(n,e){var t=kr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function lC(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,fr=n,ur=Aa(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,fr=n,ur=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Jl!==null?{id:mo,overflow:go}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=kr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,fr=n,ur=null,!0):!1;default:return!1}}function __(n){return(n.mode&1)!==0&&(n.flags&128)===0}function A_(n){if(sn){var e=ur;if(e){var t=e;if(!lC(n,e)){if(__(n))throw Error(Te(418));e=Aa(t.nextSibling);var i=fr;e&&lC(n,e)?q3(i,t):(n.flags=n.flags&-4097|2,sn=!1,fr=n)}}else{if(__(n))throw Error(Te(418));n.flags=n.flags&-4097|2,sn=!1,fr=n}}}function cC(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;fr=n}function cm(n){if(n!==fr)return!1;if(!sn)return cC(n),sn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!g_(n.type,n.memoizedProps)),e&&(e=ur)){if(__(n))throw Z3(),Error(Te(418));for(;e;)q3(n,e),e=Aa(e.nextSibling)}if(cC(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Te(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ur=Aa(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ur=null}}else ur=fr?Aa(n.stateNode.nextSibling):null;return!0}function Z3(){for(var n=ur;n;)n=Aa(n.nextSibling)}function Ju(){ur=fr=null,sn=!1}function CS(n){ns===null?ns=[n]:ns.push(n)}var N4=No.ReactCurrentBatchConfig;function Yd(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Te(309));var i=t.stateNode}if(!i)throw Error(Te(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Te(284));if(!t._owner)throw Error(Te(290,n))}return n}function um(n,e){throw n=Object.prototype.toString.call(e),Error(Te(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function uC(n){var e=n._init;return e(n._payload)}function $3(n){function e(g,A){if(n){var S=g.deletions;S===null?(g.deletions=[A],g.flags|=16):S.push(A)}}function t(g,A){if(!n)return null;for(;A!==null;)e(g,A),A=A.sibling;return null}function i(g,A){for(g=new Map;A!==null;)A.key!==null?g.set(A.key,A):g.set(A.index,A),A=A.sibling;return g}function r(g,A){return g=Ea(g,A),g.index=0,g.sibling=null,g}function s(g,A,S){return g.index=S,n?(S=g.alternate,S!==null?(S=S.index,S<A?(g.flags|=2,A):S):(g.flags|=2,A)):(g.flags|=1048576,A)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,A,S,M){return A===null||A.tag!==6?(A=Cx(S,g.mode,M),A.return=g,A):(A=r(A,S),A.return=g,A)}function l(g,A,S,M){var T=S.type;return T===ru?d(g,A,S.props.children,M,S.key):A!==null&&(A.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===sa&&uC(T)===A.type)?(M=r(A,S.props),M.ref=Yd(g,A,S),M.return=g,M):(M=Rg(S.type,S.key,S.props,null,g.mode,M),M.ref=Yd(g,A,S),M.return=g,M)}function c(g,A,S,M){return A===null||A.tag!==4||A.stateNode.containerInfo!==S.containerInfo||A.stateNode.implementation!==S.implementation?(A=bx(S,g.mode,M),A.return=g,A):(A=r(A,S.children||[]),A.return=g,A)}function d(g,A,S,M,T){return A===null||A.tag!==7?(A=zl(S,g.mode,M,T),A.return=g,A):(A=r(A,S),A.return=g,A)}function h(g,A,S){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Cx(""+A,g.mode,S),A.return=g,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case $p:return S=Rg(A.type,A.key,A.props,null,g.mode,S),S.ref=Yd(g,null,A),S.return=g,S;case iu:return A=bx(A,g.mode,S),A.return=g,A;case sa:var M=A._init;return h(g,M(A._payload),S)}if(gf(A)||Wd(A))return A=zl(A,g.mode,S,null),A.return=g,A;um(g,A)}return null}function p(g,A,S,M){var T=A!==null?A.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return T!==null?null:a(g,A,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case $p:return S.key===T?l(g,A,S,M):null;case iu:return S.key===T?c(g,A,S,M):null;case sa:return T=S._init,p(g,A,T(S._payload),M)}if(gf(S)||Wd(S))return T!==null?null:d(g,A,S,M,null);um(g,S)}return null}function m(g,A,S,M,T){if(typeof M=="string"&&M!==""||typeof M=="number")return g=g.get(S)||null,a(A,g,""+M,T);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case $p:return g=g.get(M.key===null?S:M.key)||null,l(A,g,M,T);case iu:return g=g.get(M.key===null?S:M.key)||null,c(A,g,M,T);case sa:var C=M._init;return m(g,A,S,C(M._payload),T)}if(gf(M)||Wd(M))return g=g.get(S)||null,d(A,g,M,T,null);um(A,M)}return null}function v(g,A,S,M){for(var T=null,C=null,P=A,B=A=0,R=null;P!==null&&B<S.length;B++){P.index>B?(R=P,P=null):R=P.sibling;var L=p(g,P,S[B],M);if(L===null){P===null&&(P=R);break}n&&P&&L.alternate===null&&e(g,P),A=s(L,A,B),C===null?T=L:C.sibling=L,C=L,P=R}if(B===S.length)return t(g,P),sn&&gl(g,B),T;if(P===null){for(;B<S.length;B++)P=h(g,S[B],M),P!==null&&(A=s(P,A,B),C===null?T=P:C.sibling=P,C=P);return sn&&gl(g,B),T}for(P=i(g,P);B<S.length;B++)R=m(P,g,B,S[B],M),R!==null&&(n&&R.alternate!==null&&P.delete(R.key===null?B:R.key),A=s(R,A,B),C===null?T=R:C.sibling=R,C=R);return n&&P.forEach(function(O){return e(g,O)}),sn&&gl(g,B),T}function _(g,A,S,M){var T=Wd(S);if(typeof T!="function")throw Error(Te(150));if(S=T.call(S),S==null)throw Error(Te(151));for(var C=T=null,P=A,B=A=0,R=null,L=S.next();P!==null&&!L.done;B++,L=S.next()){P.index>B?(R=P,P=null):R=P.sibling;var O=p(g,P,L.value,M);if(O===null){P===null&&(P=R);break}n&&P&&O.alternate===null&&e(g,P),A=s(O,A,B),C===null?T=O:C.sibling=O,C=O,P=R}if(L.done)return t(g,P),sn&&gl(g,B),T;if(P===null){for(;!L.done;B++,L=S.next())L=h(g,L.value,M),L!==null&&(A=s(L,A,B),C===null?T=L:C.sibling=L,C=L);return sn&&gl(g,B),T}for(P=i(g,P);!L.done;B++,L=S.next())L=m(P,g,B,L.value,M),L!==null&&(n&&L.alternate!==null&&P.delete(L.key===null?B:L.key),A=s(L,A,B),C===null?T=L:C.sibling=L,C=L);return n&&P.forEach(function(G){return e(g,G)}),sn&&gl(g,B),T}function x(g,A,S,M){if(typeof S=="object"&&S!==null&&S.type===ru&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case $p:e:{for(var T=S.key,C=A;C!==null;){if(C.key===T){if(T=S.type,T===ru){if(C.tag===7){t(g,C.sibling),A=r(C,S.props.children),A.return=g,g=A;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===sa&&uC(T)===C.type){t(g,C.sibling),A=r(C,S.props),A.ref=Yd(g,C,S),A.return=g,g=A;break e}t(g,C);break}else e(g,C);C=C.sibling}S.type===ru?(A=zl(S.props.children,g.mode,M,S.key),A.return=g,g=A):(M=Rg(S.type,S.key,S.props,null,g.mode,M),M.ref=Yd(g,A,S),M.return=g,g=M)}return o(g);case iu:e:{for(C=S.key;A!==null;){if(A.key===C)if(A.tag===4&&A.stateNode.containerInfo===S.containerInfo&&A.stateNode.implementation===S.implementation){t(g,A.sibling),A=r(A,S.children||[]),A.return=g,g=A;break e}else{t(g,A);break}else e(g,A);A=A.sibling}A=bx(S,g.mode,M),A.return=g,g=A}return o(g);case sa:return C=S._init,x(g,A,C(S._payload),M)}if(gf(S))return v(g,A,S,M);if(Wd(S))return _(g,A,S,M);um(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,A!==null&&A.tag===6?(t(g,A.sibling),A=r(A,S),A.return=g,g=A):(t(g,A),A=Cx(S,g.mode,M),A.return=g,g=A),o(g)):t(g,A)}return x}var Ku=$3(!0),eL=$3(!1),i0=Wa(null),r0=null,fu=null,bS=null;function RS(){bS=fu=r0=null}function PS(n){var e=i0.current;nn(i0),n._currentValue=e}function S_(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function bu(n,e){r0=n,bS=fu=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Xi=!0),n.firstContext=null)}function zr(n){var e=n._currentValue;if(bS!==n)if(n={context:n,memoizedValue:e,next:null},fu===null){if(r0===null)throw Error(Te(308));fu=n,r0.dependencies={lanes:0,firstContext:n}}else fu=fu.next=n;return e}var Tl=null;function LS(n){Tl===null?Tl=[n]:Tl.push(n)}function tL(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,LS(e)):(t.next=r.next,r.next=t),e.interleaved=t,bo(n,i)}function bo(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var oa=!1;function BS(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nL(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function _o(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Sa(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Ot&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,bo(n,t)}return r=i.interleaved,r===null?(e.next=e,LS(i)):(e.next=r.next,r.next=e),i.interleaved=e,bo(n,t)}function wg(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,vS(n,t)}}function dC(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function s0(n,e,t,i){var r=n.updateQueue;oa=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,_=a;switch(p=e,m=t,_.tag){case 1:if(v=_.payload,typeof v=="function"){h=v.call(m,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,p=typeof v=="function"?v.call(m,h,p):v,p==null)break e;h=pn({},h,p);break e;case 2:oa=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(d===null&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Yl|=o,n.lanes=o,n.memoizedState=h}}function fC(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Te(191,r));r.call(i)}}}var Dh={},Ds=Wa(Dh),Zf=Wa(Dh),$f=Wa(Dh);function Cl(n){if(n===Dh)throw Error(Te(174));return n}function IS(n,e){switch(Zt($f,e),Zt(Zf,n),Zt(Ds,Dh),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:n_(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=n_(e,n)}nn(Ds),Zt(Ds,e)}function Yu(){nn(Ds),nn(Zf),nn($f)}function iL(n){Cl($f.current);var e=Cl(Ds.current),t=n_(e,n.type);e!==t&&(Zt(Zf,n),Zt(Ds,t))}function DS(n){Zf.current===n&&(nn(Ds),nn(Zf))}var ln=Wa(0);function o0(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ax=[];function NS(){for(var n=0;n<Ax.length;n++)Ax[n]._workInProgressVersionPrimary=null;Ax.length=0}var Mg=No.ReactCurrentDispatcher,Sx=No.ReactCurrentBatchConfig,Kl=0,fn=null,Nn=null,Yn=null,a0=!1,bf=!1,eh=0,F4=0;function hi(){throw Error(Te(321))}function FS(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!as(n[t],e[t]))return!1;return!0}function OS(n,e,t,i,r,s){if(Kl=s,fn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Mg.current=n===null||n.memoizedState===null?z4:H4,n=t(i,r),bf){s=0;do{if(bf=!1,eh=0,25<=s)throw Error(Te(301));s+=1,Yn=Nn=null,e.updateQueue=null,Mg.current=G4,n=t(i,r)}while(bf)}if(Mg.current=l0,e=Nn!==null&&Nn.next!==null,Kl=0,Yn=Nn=fn=null,a0=!1,e)throw Error(Te(300));return n}function kS(){var n=eh!==0;return eh=0,n}function Ts(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yn===null?fn.memoizedState=Yn=n:Yn=Yn.next=n,Yn}function Hr(){if(Nn===null){var n=fn.alternate;n=n!==null?n.memoizedState:null}else n=Nn.next;var e=Yn===null?fn.memoizedState:Yn.next;if(e!==null)Yn=e,Nn=n;else{if(n===null)throw Error(Te(310));Nn=n,n={memoizedState:Nn.memoizedState,baseState:Nn.baseState,baseQueue:Nn.baseQueue,queue:Nn.queue,next:null},Yn===null?fn.memoizedState=Yn=n:Yn=Yn.next=n}return Yn}function th(n,e){return typeof e=="function"?e(n):e}function wx(n){var e=Hr(),t=e.queue;if(t===null)throw Error(Te(311));t.lastRenderedReducer=n;var i=Nn,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Kl&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,fn.lanes|=d,Yl|=d}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,as(i,e.memoizedState)||(Xi=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,fn.lanes|=s,Yl|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Mx(n){var e=Hr(),t=e.queue;if(t===null)throw Error(Te(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);as(s,e.memoizedState)||(Xi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function rL(){}function sL(n,e){var t=fn,i=Hr(),r=e(),s=!as(i.memoizedState,r);if(s&&(i.memoizedState=r,Xi=!0),i=i.queue,US(lL.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Yn!==null&&Yn.memoizedState.tag&1){if(t.flags|=2048,nh(9,aL.bind(null,t,i,r,e),void 0,null),Zn===null)throw Error(Te(349));Kl&30||oL(t,e,r)}return r}function oL(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=fn.updateQueue,e===null?(e={lastEffect:null,stores:null},fn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function aL(n,e,t,i){e.value=t,e.getSnapshot=i,cL(e)&&uL(n)}function lL(n,e,t){return t(function(){cL(e)&&uL(n)})}function cL(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!as(n,t)}catch{return!0}}function uL(n){var e=bo(n,1);e!==null&&os(e,n,1,-1)}function hC(n){var e=Ts();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:th,lastRenderedState:n},e.queue=n,n=n.dispatch=U4.bind(null,fn,n),[e.memoizedState,n]}function nh(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=fn.updateQueue,e===null?(e={lastEffect:null,stores:null},fn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function dL(){return Hr().memoizedState}function Eg(n,e,t,i){var r=Ts();fn.flags|=n,r.memoizedState=nh(1|e,t,void 0,i===void 0?null:i)}function X0(n,e,t,i){var r=Hr();i=i===void 0?null:i;var s=void 0;if(Nn!==null){var o=Nn.memoizedState;if(s=o.destroy,i!==null&&FS(i,o.deps)){r.memoizedState=nh(e,t,s,i);return}}fn.flags|=n,r.memoizedState=nh(1|e,t,s,i)}function pC(n,e){return Eg(8390656,8,n,e)}function US(n,e){return X0(2048,8,n,e)}function fL(n,e){return X0(4,2,n,e)}function hL(n,e){return X0(4,4,n,e)}function pL(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function mL(n,e,t){return t=t!=null?t.concat([n]):null,X0(4,4,pL.bind(null,e,n),t)}function zS(){}function gL(n,e){var t=Hr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&FS(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function vL(n,e){var t=Hr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&FS(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function yL(n,e,t){return Kl&21?(as(t,e)||(t=w3(),fn.lanes|=t,Yl|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Xi=!0),n.memoizedState=t)}function O4(n,e){var t=Xt;Xt=t!==0&&4>t?t:4,n(!0);var i=Sx.transition;Sx.transition={};try{n(!1),e()}finally{Xt=t,Sx.transition=i}}function xL(){return Hr().memoizedState}function k4(n,e,t){var i=Ma(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},_L(n))AL(e,t);else if(t=tL(n,e,t,i),t!==null){var r=Di();os(t,n,i,r),SL(t,e,i)}}function U4(n,e,t){var i=Ma(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(_L(n))AL(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,as(a,o)){var l=e.interleaved;l===null?(r.next=r,LS(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=tL(n,e,r,i),t!==null&&(r=Di(),os(t,n,i,r),SL(t,e,i))}}function _L(n){var e=n.alternate;return n===fn||e!==null&&e===fn}function AL(n,e){bf=a0=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function SL(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,vS(n,t)}}var l0={readContext:zr,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},z4={readContext:zr,useCallback:function(n,e){return Ts().memoizedState=[n,e===void 0?null:e],n},useContext:zr,useEffect:pC,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Eg(4194308,4,pL.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Eg(4194308,4,n,e)},useInsertionEffect:function(n,e){return Eg(4,2,n,e)},useMemo:function(n,e){var t=Ts();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Ts();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=k4.bind(null,fn,n),[i.memoizedState,n]},useRef:function(n){var e=Ts();return n={current:n},e.memoizedState=n},useState:hC,useDebugValue:zS,useDeferredValue:function(n){return Ts().memoizedState=n},useTransition:function(){var n=hC(!1),e=n[0];return n=O4.bind(null,n[1]),Ts().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=fn,r=Ts();if(sn){if(t===void 0)throw Error(Te(407));t=t()}else{if(t=e(),Zn===null)throw Error(Te(349));Kl&30||oL(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,pC(lL.bind(null,i,s,n),[n]),i.flags|=2048,nh(9,aL.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Ts(),e=Zn.identifierPrefix;if(sn){var t=go,i=mo;t=(i&~(1<<32-ss(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=eh++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=F4++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},H4={readContext:zr,useCallback:gL,useContext:zr,useEffect:US,useImperativeHandle:mL,useInsertionEffect:fL,useLayoutEffect:hL,useMemo:vL,useReducer:wx,useRef:dL,useState:function(){return wx(th)},useDebugValue:zS,useDeferredValue:function(n){var e=Hr();return yL(e,Nn.memoizedState,n)},useTransition:function(){var n=wx(th)[0],e=Hr().memoizedState;return[n,e]},useMutableSource:rL,useSyncExternalStore:sL,useId:xL,unstable_isNewReconciler:!1},G4={readContext:zr,useCallback:gL,useContext:zr,useEffect:US,useImperativeHandle:mL,useInsertionEffect:fL,useLayoutEffect:hL,useMemo:vL,useReducer:Mx,useRef:dL,useState:function(){return Mx(th)},useDebugValue:zS,useDeferredValue:function(n){var e=Hr();return Nn===null?e.memoizedState=n:yL(e,Nn.memoizedState,n)},useTransition:function(){var n=Mx(th)[0],e=Hr().memoizedState;return[n,e]},useMutableSource:rL,useSyncExternalStore:sL,useId:xL,unstable_isNewReconciler:!1};function qr(n,e){if(n&&n.defaultProps){e=pn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function w_(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:pn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var J0={isMounted:function(n){return(n=n._reactInternals)?lc(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=Di(),r=Ma(n),s=_o(i,r);s.payload=e,t!=null&&(s.callback=t),e=Sa(n,s,r),e!==null&&(os(e,n,r,i),wg(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=Di(),r=Ma(n),s=_o(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Sa(n,s,r),e!==null&&(os(e,n,r,i),wg(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Di(),i=Ma(n),r=_o(t,i);r.tag=2,e!=null&&(r.callback=e),e=Sa(n,r,i),e!==null&&(os(e,n,i,t),wg(e,n,i))}};function mC(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Kf(t,i)||!Kf(r,s):!0}function wL(n,e,t){var i=!1,r=Ia,s=e.contextType;return typeof s=="object"&&s!==null?s=zr(s):(r=Ki(e)?Xl:Si.current,i=e.contextTypes,s=(i=i!=null)?Xu(n,r):Ia),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=J0,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function gC(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&J0.enqueueReplaceState(e,e.state,null)}function M_(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},BS(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=zr(s):(s=Ki(e)?Xl:Si.current,r.context=Xu(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(w_(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&J0.enqueueReplaceState(r,r.state,null),s0(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Qu(n,e){try{var t="",i=e;do t+=gU(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function Ex(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function E_(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var V4=typeof WeakMap=="function"?WeakMap:Map;function ML(n,e,t){t=_o(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){u0||(u0=!0,N_=i),E_(n,e)},t}function EL(n,e,t){t=_o(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){E_(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){E_(n,e),typeof i!="function"&&(wa===null?wa=new Set([this]):wa.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function vC(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new V4;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=i5.bind(null,n,e,t),e.then(n,n))}function yC(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function xC(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=_o(-1,1),e.tag=2,Sa(t,e,1))),t.lanes|=1),n)}var W4=No.ReactCurrentOwner,Xi=!1;function Li(n,e,t,i){e.child=n===null?eL(e,null,t,i):Ku(e,n.child,t,i)}function _C(n,e,t,i,r){t=t.render;var s=e.ref;return bu(e,r),i=OS(n,e,t,i,s,r),t=kS(),n!==null&&!Xi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Ro(n,e,r)):(sn&&t&&ES(e),e.flags|=1,Li(n,e,i,r),e.child)}function AC(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!KS(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,TL(n,e,s,i,r)):(n=Rg(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Kf,t(o,i)&&n.ref===e.ref)return Ro(n,e,r)}return e.flags|=1,n=Ea(s,i),n.ref=e.ref,n.return=e,e.child=n}function TL(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Kf(s,i)&&n.ref===e.ref)if(Xi=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Xi=!0);else return e.lanes=n.lanes,Ro(n,e,r)}return T_(n,e,t,i,r)}function CL(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(pu,ar),ar|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Zt(pu,ar),ar|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Zt(pu,ar),ar|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Zt(pu,ar),ar|=i;return Li(n,e,r,t),e.child}function bL(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function T_(n,e,t,i,r){var s=Ki(t)?Xl:Si.current;return s=Xu(e,s),bu(e,r),t=OS(n,e,t,i,s,r),i=kS(),n!==null&&!Xi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Ro(n,e,r)):(sn&&i&&ES(e),e.flags|=1,Li(n,e,t,r),e.child)}function SC(n,e,t,i,r){if(Ki(t)){var s=!0;e0(e)}else s=!1;if(bu(e,r),e.stateNode===null)Tg(n,e),wL(e,t,i),M_(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=zr(c):(c=Ki(t)?Xl:Si.current,c=Xu(e,c));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&gC(e,o,i,c),oa=!1;var p=e.memoizedState;o.state=p,s0(e,i,o,r),l=e.memoizedState,a!==i||p!==l||Ji.current||oa?(typeof d=="function"&&(w_(e,t,d,i),l=e.memoizedState),(a=oa||mC(e,t,a,i,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,nL(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:qr(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=zr(l):(l=Ki(t)?Xl:Si.current,l=Xu(e,l));var m=t.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&gC(e,o,i,l),oa=!1,p=e.memoizedState,o.state=p,s0(e,i,o,r);var v=e.memoizedState;a!==h||p!==v||Ji.current||oa?(typeof m=="function"&&(w_(e,t,m,i),v=e.memoizedState),(c=oa||mC(e,t,c,i,p,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return C_(n,e,t,i,s,r)}function C_(n,e,t,i,r,s){bL(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&aC(e,t,!1),Ro(n,e,s);i=e.stateNode,W4.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=Ku(e,n.child,null,s),e.child=Ku(e,null,a,s)):Li(n,e,a,s),e.memoizedState=i.state,r&&aC(e,t,!0),e.child}function RL(n){var e=n.stateNode;e.pendingContext?oC(n,e.pendingContext,e.pendingContext!==e.context):e.context&&oC(n,e.context,!1),IS(n,e.containerInfo)}function wC(n,e,t,i,r){return Ju(),CS(r),e.flags|=256,Li(n,e,t,i),e.child}var b_={dehydrated:null,treeContext:null,retryLane:0};function R_(n){return{baseLanes:n,cachePool:null,transitions:null}}function PL(n,e,t){var i=e.pendingProps,r=ln.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Zt(ln,r&1),n===null)return A_(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Q0(o,i,0,null),n=zl(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=R_(t),e.memoizedState=b_,n):HS(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return j4(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Ea(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Ea(a,s):(s=zl(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?R_(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=b_,i}return s=n.child,n=s.sibling,i=Ea(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function HS(n,e){return e=Q0({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function dm(n,e,t,i){return i!==null&&CS(i),Ku(e,n.child,null,t),n=HS(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function j4(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=Ex(Error(Te(422))),dm(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Q0({mode:"visible",children:i.children},r,0,null),s=zl(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Ku(e,n.child,null,o),e.child.memoizedState=R_(o),e.memoizedState=b_,s);if(!(e.mode&1))return dm(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Te(419)),i=Ex(s,i,void 0),dm(n,e,o,i)}if(a=(o&n.childLanes)!==0,Xi||a){if(i=Zn,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,bo(n,r),os(i,n,r,-1))}return JS(),i=Ex(Error(Te(421))),dm(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=r5.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,ur=Aa(r.nextSibling),fr=e,sn=!0,ns=null,n!==null&&(Fr[Or++]=mo,Fr[Or++]=go,Fr[Or++]=Jl,mo=n.id,go=n.overflow,Jl=e),e=HS(e,i.children),e.flags|=4096,e)}function MC(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),S_(n.return,e,t)}function Tx(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function LL(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Li(n,e,i.children,t),i=ln.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&MC(n,t,e);else if(n.tag===19)MC(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Zt(ln,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&o0(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Tx(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&o0(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Tx(e,!0,t,null,s);break;case"together":Tx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Tg(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ro(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Yl|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Te(153));if(e.child!==null){for(n=e.child,t=Ea(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Ea(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function X4(n,e,t){switch(e.tag){case 3:RL(e),Ju();break;case 5:iL(e);break;case 1:Ki(e.type)&&e0(e);break;case 4:IS(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Zt(i0,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Zt(ln,ln.current&1),e.flags|=128,null):t&e.child.childLanes?PL(n,e,t):(Zt(ln,ln.current&1),n=Ro(n,e,t),n!==null?n.sibling:null);Zt(ln,ln.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return LL(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Zt(ln,ln.current),i)break;return null;case 22:case 23:return e.lanes=0,CL(n,e,t)}return Ro(n,e,t)}var BL,P_,IL,DL;BL=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};P_=function(){};IL=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,Cl(Ds.current);var s=null;switch(t){case"input":r=Z1(n,r),i=Z1(n,i),s=[];break;case"select":r=pn({},r,{value:void 0}),i=pn({},i,{value:void 0}),s=[];break;case"textarea":r=t_(n,r),i=t_(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Zg)}i_(t,i);var o;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Hf.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Hf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&tn("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};DL=function(n,e,t,i){t!==i&&(e.flags|=4)};function Qd(n,e){if(!sn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function pi(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function J4(n,e,t){var i=e.pendingProps;switch(TS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pi(e),null;case 1:return Ki(e.type)&&$g(),pi(e),null;case 3:return i=e.stateNode,Yu(),nn(Ji),nn(Si),NS(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(cm(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ns!==null&&(k_(ns),ns=null))),P_(n,e),pi(e),null;case 5:DS(e);var r=Cl($f.current);if(t=e.type,n!==null&&e.stateNode!=null)IL(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Te(166));return pi(e),null}if(n=Cl(Ds.current),cm(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[Ps]=e,i[qf]=s,n=(e.mode&1)!==0,t){case"dialog":tn("cancel",i),tn("close",i);break;case"iframe":case"object":case"embed":tn("load",i);break;case"video":case"audio":for(r=0;r<yf.length;r++)tn(yf[r],i);break;case"source":tn("error",i);break;case"img":case"image":case"link":tn("error",i),tn("load",i);break;case"details":tn("toggle",i);break;case"input":IT(i,s),tn("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},tn("invalid",i);break;case"textarea":NT(i,s),tn("invalid",i)}i_(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&lm(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&lm(i.textContent,a,n),r=["children",""+a]):Hf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&tn("scroll",i)}switch(t){case"input":em(i),DT(i,s,!0);break;case"textarea":em(i),FT(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Zg)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=l3(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[Ps]=e,n[qf]=i,BL(n,e,!1,!1),e.stateNode=n;e:{switch(o=r_(t,i),t){case"dialog":tn("cancel",n),tn("close",n),r=i;break;case"iframe":case"object":case"embed":tn("load",n),r=i;break;case"video":case"audio":for(r=0;r<yf.length;r++)tn(yf[r],n);r=i;break;case"source":tn("error",n),r=i;break;case"img":case"image":case"link":tn("error",n),tn("load",n),r=i;break;case"details":tn("toggle",n),r=i;break;case"input":IT(n,i),r=Z1(n,i),tn("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=pn({},i,{value:void 0}),tn("invalid",n);break;case"textarea":NT(n,i),r=t_(n,i),tn("invalid",n);break;default:r=i}i_(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?d3(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&c3(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Gf(n,l):typeof l=="number"&&Gf(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Hf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&tn("scroll",n):l!=null&&dS(n,s,l,o))}switch(t){case"input":em(n),DT(n,i,!1);break;case"textarea":em(n),FT(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Ba(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Mu(n,!!i.multiple,s,!1):i.defaultValue!=null&&Mu(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Zg)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pi(e),null;case 6:if(n&&e.stateNode!=null)DL(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Te(166));if(t=Cl($f.current),Cl(Ds.current),cm(e)){if(i=e.stateNode,t=e.memoizedProps,i[Ps]=e,(s=i.nodeValue!==t)&&(n=fr,n!==null))switch(n.tag){case 3:lm(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&lm(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Ps]=e,e.stateNode=i}return pi(e),null;case 13:if(nn(ln),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(sn&&ur!==null&&e.mode&1&&!(e.flags&128))Z3(),Ju(),e.flags|=98560,s=!1;else if(s=cm(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Te(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Te(317));s[Ps]=e}else Ju(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pi(e),s=!1}else ns!==null&&(k_(ns),ns=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||ln.current&1?kn===0&&(kn=3):JS())),e.updateQueue!==null&&(e.flags|=4),pi(e),null);case 4:return Yu(),P_(n,e),n===null&&Yf(e.stateNode.containerInfo),pi(e),null;case 10:return PS(e.type._context),pi(e),null;case 17:return Ki(e.type)&&$g(),pi(e),null;case 19:if(nn(ln),s=e.memoizedState,s===null)return pi(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Qd(s,!1);else{if(kn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=o0(n),o!==null){for(e.flags|=128,Qd(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Zt(ln,ln.current&1|2),e.child}n=n.sibling}s.tail!==null&&bn()>qu&&(e.flags|=128,i=!0,Qd(s,!1),e.lanes=4194304)}else{if(!i)if(n=o0(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Qd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!sn)return pi(e),null}else 2*bn()-s.renderingStartTime>qu&&t!==1073741824&&(e.flags|=128,i=!0,Qd(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=bn(),e.sibling=null,t=ln.current,Zt(ln,i?t&1|2:t&1),e):(pi(e),null);case 22:case 23:return XS(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?ar&1073741824&&(pi(e),e.subtreeFlags&6&&(e.flags|=8192)):pi(e),null;case 24:return null;case 25:return null}throw Error(Te(156,e.tag))}function K4(n,e){switch(TS(e),e.tag){case 1:return Ki(e.type)&&$g(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Yu(),nn(Ji),nn(Si),NS(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return DS(e),null;case 13:if(nn(ln),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Te(340));Ju()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return nn(ln),null;case 4:return Yu(),null;case 10:return PS(e.type._context),null;case 22:case 23:return XS(),null;case 24:return null;default:return null}}var fm=!1,xi=!1,Y4=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function hu(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){_n(n,e,i)}else t.current=null}function L_(n,e,t){try{t()}catch(i){_n(n,e,i)}}var EC=!1;function Q4(n,e){if(p_=Yg,n=U3(),MS(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=n,p=null;t:for(;;){for(var m;h!==t||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===n)break t;if(p===t&&++c===r&&(a=o),p===s&&++d===i&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(m_={focusedElem:n,selectionRange:t},Yg=!1,Xe=e;Xe!==null;)if(e=Xe,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Xe=n;else for(;Xe!==null;){e=Xe;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,x=v.memoizedState,g=e.stateNode,A=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:qr(e.type,_),x);g.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Te(163))}}catch(M){_n(e,e.return,M)}if(n=e.sibling,n!==null){n.return=e.return,Xe=n;break}Xe=e.return}return v=EC,EC=!1,v}function Rf(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&L_(e,t,s)}r=r.next}while(r!==i)}}function K0(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function B_(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function NL(n){var e=n.alternate;e!==null&&(n.alternate=null,NL(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Ps],delete e[qf],delete e[y_],delete e[B4],delete e[I4])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function FL(n){return n.tag===5||n.tag===3||n.tag===4}function TC(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||FL(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function I_(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Zg));else if(i!==4&&(n=n.child,n!==null))for(I_(n,e,t),n=n.sibling;n!==null;)I_(n,e,t),n=n.sibling}function D_(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(D_(n,e,t),n=n.sibling;n!==null;)D_(n,e,t),n=n.sibling}var ii=null,ts=!1;function Xo(n,e,t){for(t=t.child;t!==null;)OL(n,e,t),t=t.sibling}function OL(n,e,t){if(Is&&typeof Is.onCommitFiberUnmount=="function")try{Is.onCommitFiberUnmount(z0,t)}catch{}switch(t.tag){case 5:xi||hu(t,e);case 6:var i=ii,r=ts;ii=null,Xo(n,e,t),ii=i,ts=r,ii!==null&&(ts?(n=ii,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):ii.removeChild(t.stateNode));break;case 18:ii!==null&&(ts?(n=ii,t=t.stateNode,n.nodeType===8?xx(n.parentNode,t):n.nodeType===1&&xx(n,t),Xf(n)):xx(ii,t.stateNode));break;case 4:i=ii,r=ts,ii=t.stateNode.containerInfo,ts=!0,Xo(n,e,t),ii=i,ts=r;break;case 0:case 11:case 14:case 15:if(!xi&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&L_(t,e,o),r=r.next}while(r!==i)}Xo(n,e,t);break;case 1:if(!xi&&(hu(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){_n(t,e,a)}Xo(n,e,t);break;case 21:Xo(n,e,t);break;case 22:t.mode&1?(xi=(i=xi)||t.memoizedState!==null,Xo(n,e,t),xi=i):Xo(n,e,t);break;default:Xo(n,e,t)}}function CC(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new Y4),e.forEach(function(i){var r=s5.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Xr(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ii=a.stateNode,ts=!1;break e;case 3:ii=a.stateNode.containerInfo,ts=!0;break e;case 4:ii=a.stateNode.containerInfo,ts=!0;break e}a=a.return}if(ii===null)throw Error(Te(160));OL(s,o,r),ii=null,ts=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){_n(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kL(e,n),e=e.sibling}function kL(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Xr(e,n),Es(n),i&4){try{Rf(3,n,n.return),K0(3,n)}catch(_){_n(n,n.return,_)}try{Rf(5,n,n.return)}catch(_){_n(n,n.return,_)}}break;case 1:Xr(e,n),Es(n),i&512&&t!==null&&hu(t,t.return);break;case 5:if(Xr(e,n),Es(n),i&512&&t!==null&&hu(t,t.return),n.flags&32){var r=n.stateNode;try{Gf(r,"")}catch(_){_n(n,n.return,_)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&o3(r,s),r_(a,o);var c=r_(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?d3(r,h):d==="dangerouslySetInnerHTML"?c3(r,h):d==="children"?Gf(r,h):dS(r,d,h,c)}switch(a){case"input":$1(r,s);break;case"textarea":a3(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Mu(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Mu(r,!!s.multiple,s.defaultValue,!0):Mu(r,!!s.multiple,s.multiple?[]:"",!1))}r[qf]=s}catch(_){_n(n,n.return,_)}}break;case 6:if(Xr(e,n),Es(n),i&4){if(n.stateNode===null)throw Error(Te(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(_){_n(n,n.return,_)}}break;case 3:if(Xr(e,n),Es(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Xf(e.containerInfo)}catch(_){_n(n,n.return,_)}break;case 4:Xr(e,n),Es(n);break;case 13:Xr(e,n),Es(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(WS=bn())),i&4&&CC(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(xi=(c=xi)||d,Xr(e,n),xi=c):Xr(e,n),Es(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!d&&n.mode&1)for(Xe=n,d=n.child;d!==null;){for(h=Xe=d;Xe!==null;){switch(p=Xe,m=p.child,p.tag){case 0:case 11:case 14:case 15:Rf(4,p,p.return);break;case 1:hu(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(_){_n(i,t,_)}}break;case 5:hu(p,p.return);break;case 22:if(p.memoizedState!==null){RC(h);continue}}m!==null?(m.return=p,Xe=m):RC(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=u3("display",o))}catch(_){_n(n,n.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(_){_n(n,n.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xr(e,n),Es(n),i&4&&CC(n);break;case 21:break;default:Xr(e,n),Es(n)}}function Es(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(FL(t)){var i=t;break e}t=t.return}throw Error(Te(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Gf(r,""),i.flags&=-33);var s=TC(n);D_(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=TC(n);I_(n,a,o);break;default:throw Error(Te(161))}}catch(l){_n(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function q4(n,e,t){Xe=n,UL(n)}function UL(n,e,t){for(var i=(n.mode&1)!==0;Xe!==null;){var r=Xe,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||fm;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||xi;a=fm;var c=xi;if(fm=o,(xi=l)&&!c)for(Xe=r;Xe!==null;)o=Xe,l=o.child,o.tag===22&&o.memoizedState!==null?PC(r):l!==null?(l.return=o,Xe=l):PC(r);for(;s!==null;)Xe=s,UL(s),s=s.sibling;Xe=r,fm=a,xi=c}bC(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,Xe=s):bC(n)}}function bC(n){for(;Xe!==null;){var e=Xe;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xi||K0(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!xi)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:qr(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&fC(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}fC(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Xf(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Te(163))}xi||e.flags&512&&B_(e)}catch(p){_n(e,e.return,p)}}if(e===n){Xe=null;break}if(t=e.sibling,t!==null){t.return=e.return,Xe=t;break}Xe=e.return}}function RC(n){for(;Xe!==null;){var e=Xe;if(e===n){Xe=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Xe=t;break}Xe=e.return}}function PC(n){for(;Xe!==null;){var e=Xe;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{K0(4,e)}catch(l){_n(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){_n(e,r,l)}}var s=e.return;try{B_(e)}catch(l){_n(e,s,l)}break;case 5:var o=e.return;try{B_(e)}catch(l){_n(e,o,l)}}}catch(l){_n(e,e.return,l)}if(e===n){Xe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Xe=a;break}Xe=e.return}}var Z4=Math.ceil,c0=No.ReactCurrentDispatcher,GS=No.ReactCurrentOwner,Ur=No.ReactCurrentBatchConfig,Ot=0,Zn=null,In=null,oi=0,ar=0,pu=Wa(0),kn=0,ih=null,Yl=0,Y0=0,VS=0,Pf=null,Gi=null,WS=0,qu=1/0,co=null,u0=!1,N_=null,wa=null,hm=!1,ga=null,d0=0,Lf=0,F_=null,Cg=-1,bg=0;function Di(){return Ot&6?bn():Cg!==-1?Cg:Cg=bn()}function Ma(n){return n.mode&1?Ot&2&&oi!==0?oi&-oi:N4.transition!==null?(bg===0&&(bg=w3()),bg):(n=Xt,n!==0||(n=window.event,n=n===void 0?16:P3(n.type)),n):1}function os(n,e,t,i){if(50<Lf)throw Lf=0,F_=null,Error(Te(185));Lh(n,t,i),(!(Ot&2)||n!==Zn)&&(n===Zn&&(!(Ot&2)&&(Y0|=t),kn===4&&la(n,oi)),Yi(n,i),t===1&&Ot===0&&!(e.mode&1)&&(qu=bn()+500,j0&&ja()))}function Yi(n,e){var t=n.callbackNode;NU(n,e);var i=Kg(n,n===Zn?oi:0);if(i===0)t!==null&&UT(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&UT(t),e===1)n.tag===0?D4(LC.bind(null,n)):Y3(LC.bind(null,n)),P4(function(){!(Ot&6)&&ja()}),t=null;else{switch(M3(i)){case 1:t=gS;break;case 4:t=A3;break;case 16:t=Jg;break;case 536870912:t=S3;break;default:t=Jg}t=JL(t,zL.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function zL(n,e){if(Cg=-1,bg=0,Ot&6)throw Error(Te(327));var t=n.callbackNode;if(Ru()&&n.callbackNode!==t)return null;var i=Kg(n,n===Zn?oi:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=f0(n,i);else{e=i;var r=Ot;Ot|=2;var s=GL();(Zn!==n||oi!==e)&&(co=null,qu=bn()+500,Ul(n,e));do try{t5();break}catch(a){HL(n,a)}while(!0);RS(),c0.current=s,Ot=r,In!==null?e=0:(Zn=null,oi=0,e=kn)}if(e!==0){if(e===2&&(r=c_(n),r!==0&&(i=r,e=O_(n,r))),e===1)throw t=ih,Ul(n,0),la(n,i),Yi(n,bn()),t;if(e===6)la(n,i);else{if(r=n.current.alternate,!(i&30)&&!$4(r)&&(e=f0(n,i),e===2&&(s=c_(n),s!==0&&(i=s,e=O_(n,s))),e===1))throw t=ih,Ul(n,0),la(n,i),Yi(n,bn()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Te(345));case 2:vl(n,Gi,co);break;case 3:if(la(n,i),(i&130023424)===i&&(e=WS+500-bn(),10<e)){if(Kg(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){Di(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=v_(vl.bind(null,n,Gi,co),e);break}vl(n,Gi,co);break;case 4:if(la(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-ss(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=bn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Z4(i/1960))-i,10<i){n.timeoutHandle=v_(vl.bind(null,n,Gi,co),i);break}vl(n,Gi,co);break;case 5:vl(n,Gi,co);break;default:throw Error(Te(329))}}}return Yi(n,bn()),n.callbackNode===t?zL.bind(null,n):null}function O_(n,e){var t=Pf;return n.current.memoizedState.isDehydrated&&(Ul(n,e).flags|=256),n=f0(n,e),n!==2&&(e=Gi,Gi=t,e!==null&&k_(e)),n}function k_(n){Gi===null?Gi=n:Gi.push.apply(Gi,n)}function $4(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!as(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function la(n,e){for(e&=~VS,e&=~Y0,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-ss(e),i=1<<t;n[t]=-1,e&=~i}}function LC(n){if(Ot&6)throw Error(Te(327));Ru();var e=Kg(n,0);if(!(e&1))return Yi(n,bn()),null;var t=f0(n,e);if(n.tag!==0&&t===2){var i=c_(n);i!==0&&(e=i,t=O_(n,i))}if(t===1)throw t=ih,Ul(n,0),la(n,e),Yi(n,bn()),t;if(t===6)throw Error(Te(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,vl(n,Gi,co),Yi(n,bn()),null}function jS(n,e){var t=Ot;Ot|=1;try{return n(e)}finally{Ot=t,Ot===0&&(qu=bn()+500,j0&&ja())}}function Ql(n){ga!==null&&ga.tag===0&&!(Ot&6)&&Ru();var e=Ot;Ot|=1;var t=Ur.transition,i=Xt;try{if(Ur.transition=null,Xt=1,n)return n()}finally{Xt=i,Ur.transition=t,Ot=e,!(Ot&6)&&ja()}}function XS(){ar=pu.current,nn(pu)}function Ul(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,R4(t)),In!==null)for(t=In.return;t!==null;){var i=t;switch(TS(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&$g();break;case 3:Yu(),nn(Ji),nn(Si),NS();break;case 5:DS(i);break;case 4:Yu();break;case 13:nn(ln);break;case 19:nn(ln);break;case 10:PS(i.type._context);break;case 22:case 23:XS()}t=t.return}if(Zn=n,In=n=Ea(n.current,null),oi=ar=e,kn=0,ih=null,VS=Y0=Yl=0,Gi=Pf=null,Tl!==null){for(e=0;e<Tl.length;e++)if(t=Tl[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}Tl=null}return n}function HL(n,e){do{var t=In;try{if(RS(),Mg.current=l0,a0){for(var i=fn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}a0=!1}if(Kl=0,Yn=Nn=fn=null,bf=!1,eh=0,GS.current=null,t===null||t.return===null){kn=1,ih=e,In=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=oi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=yC(o);if(m!==null){m.flags&=-257,xC(m,o,a,s,e),m.mode&1&&vC(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var _=new Set;_.add(l),e.updateQueue=_}else v.add(l);break e}else{if(!(e&1)){vC(s,c,e),JS();break e}l=Error(Te(426))}}else if(sn&&a.mode&1){var x=yC(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),xC(x,o,a,s,e),CS(Qu(l,a));break e}}s=l=Qu(l,a),kn!==4&&(kn=2),Pf===null?Pf=[s]:Pf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=ML(s,l,e);dC(s,g);break e;case 1:a=l;var A=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof A.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(wa===null||!wa.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=EL(s,a,e);dC(s,M);break e}}s=s.return}while(s!==null)}WL(t)}catch(T){e=T,In===t&&t!==null&&(In=t=t.return);continue}break}while(!0)}function GL(){var n=c0.current;return c0.current=l0,n===null?l0:n}function JS(){(kn===0||kn===3||kn===2)&&(kn=4),Zn===null||!(Yl&268435455)&&!(Y0&268435455)||la(Zn,oi)}function f0(n,e){var t=Ot;Ot|=2;var i=GL();(Zn!==n||oi!==e)&&(co=null,Ul(n,e));do try{e5();break}catch(r){HL(n,r)}while(!0);if(RS(),Ot=t,c0.current=i,In!==null)throw Error(Te(261));return Zn=null,oi=0,kn}function e5(){for(;In!==null;)VL(In)}function t5(){for(;In!==null&&!TU();)VL(In)}function VL(n){var e=XL(n.alternate,n,ar);n.memoizedProps=n.pendingProps,e===null?WL(n):In=e,GS.current=null}function WL(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=K4(t,e),t!==null){t.flags&=32767,In=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{kn=6,In=null;return}}else if(t=J4(t,e,ar),t!==null){In=t;return}if(e=e.sibling,e!==null){In=e;return}In=e=n}while(e!==null);kn===0&&(kn=5)}function vl(n,e,t){var i=Xt,r=Ur.transition;try{Ur.transition=null,Xt=1,n5(n,e,t,i)}finally{Ur.transition=r,Xt=i}return null}function n5(n,e,t,i){do Ru();while(ga!==null);if(Ot&6)throw Error(Te(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Te(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(FU(n,s),n===Zn&&(In=Zn=null,oi=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||hm||(hm=!0,JL(Jg,function(){return Ru(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Ur.transition,Ur.transition=null;var o=Xt;Xt=1;var a=Ot;Ot|=4,GS.current=null,Q4(n,t),kL(t,n),S4(m_),Yg=!!p_,m_=p_=null,n.current=t,q4(t),CU(),Ot=a,Xt=o,Ur.transition=s}else n.current=t;if(hm&&(hm=!1,ga=n,d0=r),s=n.pendingLanes,s===0&&(wa=null),PU(t.stateNode),Yi(n,bn()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(u0)throw u0=!1,n=N_,N_=null,n;return d0&1&&n.tag!==0&&Ru(),s=n.pendingLanes,s&1?n===F_?Lf++:(Lf=0,F_=n):Lf=0,ja(),null}function Ru(){if(ga!==null){var n=M3(d0),e=Ur.transition,t=Xt;try{if(Ur.transition=null,Xt=16>n?16:n,ga===null)var i=!1;else{if(n=ga,ga=null,d0=0,Ot&6)throw Error(Te(331));var r=Ot;for(Ot|=4,Xe=n.current;Xe!==null;){var s=Xe,o=s.child;if(Xe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Xe=c;Xe!==null;){var d=Xe;switch(d.tag){case 0:case 11:case 15:Rf(8,d,s)}var h=d.child;if(h!==null)h.return=d,Xe=h;else for(;Xe!==null;){d=Xe;var p=d.sibling,m=d.return;if(NL(d),d===c){Xe=null;break}if(p!==null){p.return=m,Xe=p;break}Xe=m}}}var v=s.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}Xe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Xe=o;else e:for(;Xe!==null;){if(s=Xe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Rf(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Xe=g;break e}Xe=s.return}}var A=n.current;for(Xe=A;Xe!==null;){o=Xe;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Xe=S;else e:for(o=A;Xe!==null;){if(a=Xe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:K0(9,a)}}catch(T){_n(a,a.return,T)}if(a===o){Xe=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,Xe=M;break e}Xe=a.return}}if(Ot=r,ja(),Is&&typeof Is.onPostCommitFiberRoot=="function")try{Is.onPostCommitFiberRoot(z0,n)}catch{}i=!0}return i}finally{Xt=t,Ur.transition=e}}return!1}function BC(n,e,t){e=Qu(t,e),e=ML(n,e,1),n=Sa(n,e,1),e=Di(),n!==null&&(Lh(n,1,e),Yi(n,e))}function _n(n,e,t){if(n.tag===3)BC(n,n,t);else for(;e!==null;){if(e.tag===3){BC(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(wa===null||!wa.has(i))){n=Qu(t,n),n=EL(e,n,1),e=Sa(e,n,1),n=Di(),e!==null&&(Lh(e,1,n),Yi(e,n));break}}e=e.return}}function i5(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=Di(),n.pingedLanes|=n.suspendedLanes&t,Zn===n&&(oi&t)===t&&(kn===4||kn===3&&(oi&130023424)===oi&&500>bn()-WS?Ul(n,0):VS|=t),Yi(n,e)}function jL(n,e){e===0&&(n.mode&1?(e=im,im<<=1,!(im&130023424)&&(im=4194304)):e=1);var t=Di();n=bo(n,e),n!==null&&(Lh(n,e,t),Yi(n,t))}function r5(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),jL(n,t)}function s5(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Te(314))}i!==null&&i.delete(e),jL(n,t)}var XL;XL=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Ji.current)Xi=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Xi=!1,X4(n,e,t);Xi=!!(n.flags&131072)}else Xi=!1,sn&&e.flags&1048576&&Q3(e,n0,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Tg(n,e),n=e.pendingProps;var r=Xu(e,Si.current);bu(e,t),r=OS(null,e,i,n,r,t);var s=kS();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ki(i)?(s=!0,e0(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,BS(e),r.updater=J0,e.stateNode=r,r._reactInternals=e,M_(e,i,n,t),e=C_(null,e,i,!0,s,t)):(e.tag=0,sn&&s&&ES(e),Li(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Tg(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=a5(i),n=qr(i,n),r){case 0:e=T_(null,e,i,n,t);break e;case 1:e=SC(null,e,i,n,t);break e;case 11:e=_C(null,e,i,n,t);break e;case 14:e=AC(null,e,i,qr(i.type,n),t);break e}throw Error(Te(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:qr(i,r),T_(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:qr(i,r),SC(n,e,i,r,t);case 3:e:{if(RL(e),n===null)throw Error(Te(387));i=e.pendingProps,s=e.memoizedState,r=s.element,nL(n,e),s0(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Qu(Error(Te(423)),e),e=wC(n,e,i,t,r);break e}else if(i!==r){r=Qu(Error(Te(424)),e),e=wC(n,e,i,t,r);break e}else for(ur=Aa(e.stateNode.containerInfo.firstChild),fr=e,sn=!0,ns=null,t=eL(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Ju(),i===r){e=Ro(n,e,t);break e}Li(n,e,i,t)}e=e.child}return e;case 5:return iL(e),n===null&&A_(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,g_(i,r)?o=null:s!==null&&g_(i,s)&&(e.flags|=32),bL(n,e),Li(n,e,o,t),e.child;case 6:return n===null&&A_(e),null;case 13:return PL(n,e,t);case 4:return IS(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Ku(e,null,i,t):Li(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:qr(i,r),_C(n,e,i,r,t);case 7:return Li(n,e,e.pendingProps,t),e.child;case 8:return Li(n,e,e.pendingProps.children,t),e.child;case 12:return Li(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Zt(i0,i._currentValue),i._currentValue=o,s!==null)if(as(s.value,o)){if(s.children===r.children&&!Ji.current){e=Ro(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=_o(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),S_(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Te(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),S_(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Li(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,bu(e,t),r=zr(r),i=i(r),e.flags|=1,Li(n,e,i,t),e.child;case 14:return i=e.type,r=qr(i,e.pendingProps),r=qr(i.type,r),AC(n,e,i,r,t);case 15:return TL(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:qr(i,r),Tg(n,e),e.tag=1,Ki(i)?(n=!0,e0(e)):n=!1,bu(e,t),wL(e,i,r),M_(e,i,r,t),C_(null,e,i,!0,n,t);case 19:return LL(n,e,t);case 22:return CL(n,e,t)}throw Error(Te(156,e.tag))};function JL(n,e){return _3(n,e)}function o5(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kr(n,e,t,i){return new o5(n,e,t,i)}function KS(n){return n=n.prototype,!(!n||!n.isReactComponent)}function a5(n){if(typeof n=="function")return KS(n)?1:0;if(n!=null){if(n=n.$$typeof,n===hS)return 11;if(n===pS)return 14}return 2}function Ea(n,e){var t=n.alternate;return t===null?(t=kr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Rg(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")KS(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case ru:return zl(t.children,r,s,e);case fS:o=8,r|=8;break;case K1:return n=kr(12,t,e,r|2),n.elementType=K1,n.lanes=s,n;case Y1:return n=kr(13,t,e,r),n.elementType=Y1,n.lanes=s,n;case Q1:return n=kr(19,t,e,r),n.elementType=Q1,n.lanes=s,n;case i3:return Q0(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case t3:o=10;break e;case n3:o=9;break e;case hS:o=11;break e;case pS:o=14;break e;case sa:o=16,i=null;break e}throw Error(Te(130,n==null?n:typeof n,""))}return e=kr(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function zl(n,e,t,i){return n=kr(7,n,i,e),n.lanes=t,n}function Q0(n,e,t,i){return n=kr(22,n,i,e),n.elementType=i3,n.lanes=t,n.stateNode={isHidden:!1},n}function Cx(n,e,t){return n=kr(6,n,null,e),n.lanes=t,n}function bx(n,e,t){return e=kr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function l5(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lx(0),this.expirationTimes=lx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lx(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function YS(n,e,t,i,r,s,o,a,l){return n=new l5(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=kr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},BS(s),n}function c5(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:iu,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function KL(n){if(!n)return Ia;n=n._reactInternals;e:{if(lc(n)!==n||n.tag!==1)throw Error(Te(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ki(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Te(171))}if(n.tag===1){var t=n.type;if(Ki(t))return K3(n,t,e)}return e}function YL(n,e,t,i,r,s,o,a,l){return n=YS(t,i,!0,n,r,s,o,a,l),n.context=KL(null),t=n.current,i=Di(),r=Ma(t),s=_o(i,r),s.callback=e??null,Sa(t,s,r),n.current.lanes=r,Lh(n,r,i),Yi(n,i),n}function q0(n,e,t,i){var r=e.current,s=Di(),o=Ma(r);return t=KL(t),e.context===null?e.context=t:e.pendingContext=t,e=_o(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Sa(r,e,o),n!==null&&(os(n,r,o,s),wg(n,r,o)),o}function h0(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function IC(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function QS(n,e){IC(n,e),(n=n.alternate)&&IC(n,e)}function u5(){return null}var QL=typeof reportError=="function"?reportError:function(n){console.error(n)};function qS(n){this._internalRoot=n}Z0.prototype.render=qS.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Te(409));q0(n,e,null,null)};Z0.prototype.unmount=qS.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Ql(function(){q0(null,n,null,null)}),e[Co]=null}};function Z0(n){this._internalRoot=n}Z0.prototype.unstable_scheduleHydration=function(n){if(n){var e=C3();n={blockedOn:null,target:n,priority:e};for(var t=0;t<aa.length&&e!==0&&e<aa[t].priority;t++);aa.splice(t,0,n),t===0&&R3(n)}};function ZS(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function $0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function DC(){}function d5(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=h0(o);s.call(c)}}var o=YL(e,i,n,0,null,!1,!1,"",DC);return n._reactRootContainer=o,n[Co]=o.current,Yf(n.nodeType===8?n.parentNode:n),Ql(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=h0(l);a.call(c)}}var l=YS(n,0,!1,null,null,!1,!1,"",DC);return n._reactRootContainer=l,n[Co]=l.current,Yf(n.nodeType===8?n.parentNode:n),Ql(function(){q0(e,l,t,i)}),l}function ev(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=h0(o);a.call(l)}}q0(e,o,n,r)}else o=d5(t,e,n,r,i);return h0(o)}E3=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=vf(e.pendingLanes);t!==0&&(vS(e,t|1),Yi(e,bn()),!(Ot&6)&&(qu=bn()+500,ja()))}break;case 13:Ql(function(){var i=bo(n,1);if(i!==null){var r=Di();os(i,n,1,r)}}),QS(n,1)}};yS=function(n){if(n.tag===13){var e=bo(n,134217728);if(e!==null){var t=Di();os(e,n,134217728,t)}QS(n,134217728)}};T3=function(n){if(n.tag===13){var e=Ma(n),t=bo(n,e);if(t!==null){var i=Di();os(t,n,e,i)}QS(n,e)}};C3=function(){return Xt};b3=function(n,e){var t=Xt;try{return Xt=n,e()}finally{Xt=t}};o_=function(n,e,t){switch(e){case"input":if($1(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=W0(i);if(!r)throw Error(Te(90));s3(i),$1(i,r)}}}break;case"textarea":a3(n,t);break;case"select":e=t.value,e!=null&&Mu(n,!!t.multiple,e,!1)}};p3=jS;m3=Ql;var f5={usingClientEntryPoint:!1,Events:[Ih,lu,W0,f3,h3,jS]},qd={findFiberByHostInstance:El,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},h5={bundleType:qd.bundleType,version:qd.version,rendererPackageName:qd.rendererPackageName,rendererConfig:qd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:No.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=y3(n),n===null?null:n.stateNode},findFiberByHostInstance:qd.findFiberByHostInstance||u5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pm.isDisabled&&pm.supportsFiber)try{z0=pm.inject(h5),Is=pm}catch{}}yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f5;yr.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ZS(e))throw Error(Te(200));return c5(n,e,null,t)};yr.createRoot=function(n,e){if(!ZS(n))throw Error(Te(299));var t=!1,i="",r=QL;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=YS(n,1,!1,null,null,t,!1,i,r),n[Co]=e.current,Yf(n.nodeType===8?n.parentNode:n),new qS(e)};yr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Te(188)):(n=Object.keys(n).join(","),Error(Te(268,n)));return n=y3(e),n=n===null?null:n.stateNode,n};yr.flushSync=function(n){return Ql(n)};yr.hydrate=function(n,e,t){if(!$0(e))throw Error(Te(200));return ev(null,n,e,!0,t)};yr.hydrateRoot=function(n,e,t){if(!ZS(n))throw Error(Te(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=QL;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=YL(e,null,n,1,t??null,r,!1,s,o),n[Co]=e.current,Yf(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new Z0(e)};yr.render=function(n,e,t){if(!$0(e))throw Error(Te(200));return ev(null,n,e,!1,t)};yr.unmountComponentAtNode=function(n){if(!$0(n))throw Error(Te(40));return n._reactRootContainer?(Ql(function(){ev(null,null,n,!1,function(){n._reactRootContainer=null,n[Co]=null})}),!0):!1};yr.unstable_batchedUpdates=jS;yr.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!$0(t))throw Error(Te(200));if(n==null||n._reactInternals===void 0)throw Error(Te(38));return ev(n,e,t,!1,i)};yr.version="18.3.1-next-f1338f8080-20240426";function qL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qL)}catch(n){console.error(n)}}qL(),qP.exports=yr;var Nh=qP.exports;const p5=k0(Nh);var ZL,NC=Nh;ZL=NC.createRoot,NC.hydrateRoot;function m5(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,i,r,s,o=[],a="",l=n.split("/");for(l[0]||l.shift();r=l.shift();)t=r[0],t==="*"?(o.push(t),a+=r[1]==="?"?"(?:/(.*))?":"/(.*)"):t===":"?(i=r.indexOf("?",1),s=r.indexOf(".",1),o.push(r.substring(1,~i?i:~s?s:r.length)),a+=~i&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~i?"?":"")+"\\"+r.substring(s))):a+="/"+r;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var $L={exports:{}},eB={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zu=D;function g5(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var v5=typeof Object.is=="function"?Object.is:g5,y5=Zu.useState,x5=Zu.useEffect,_5=Zu.useLayoutEffect,A5=Zu.useDebugValue;function S5(n,e){var t=e(),i=y5({inst:{value:t,getSnapshot:e}}),r=i[0].inst,s=i[1];return _5(function(){r.value=t,r.getSnapshot=e,Rx(r)&&s({inst:r})},[n,t,e]),x5(function(){return Rx(r)&&s({inst:r}),n(function(){Rx(r)&&s({inst:r})})},[n]),A5(t),t}function Rx(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!v5(n,t)}catch{return!0}}function w5(n,e){return e()}var M5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?w5:S5;eB.useSyncExternalStore=Zu.useSyncExternalStore!==void 0?Zu.useSyncExternalStore:M5;$L.exports=eB;var E5=$L.exports;const T5=iU.useInsertionEffect,C5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",b5=C5?D.useLayoutEffect:D.useEffect,R5=T5||b5,tB=n=>{const e=D.useRef([n,(...t)=>e[0](...t)]).current;return R5(()=>{e[0]=n}),e[1]},P5="popstate",$S="pushState",ew="replaceState",L5="hashchange",FC=[P5,$S,ew,L5],B5=n=>{for(const e of FC)addEventListener(e,n);return()=>{for(const e of FC)removeEventListener(e,n)}},nB=(n,e)=>E5.useSyncExternalStore(B5,n,e),I5=()=>location.search,D5=({ssrSearch:n=""}={})=>nB(I5,()=>n),OC=()=>location.pathname,N5=({ssrPath:n}={})=>nB(OC,n?()=>n:OC),F5=(n,{replace:e=!1,state:t=null}={})=>history[e?ew:$S](t,"",n),O5=(n={})=>[N5(n),F5],kC=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[kC]>"u"){for(const n of[$S,ew]){const e=history[n];history[n]=function(){const t=e.apply(this,arguments),i=new Event(n);return i.arguments=arguments,dispatchEvent(i),t}}Object.defineProperty(window,kC,{value:!0})}const k5=(n,e)=>e.toLowerCase().indexOf(n.toLowerCase())?"~"+e:e.slice(n.length)||"/",iB=(n="")=>n==="/"?"":n,U5=(n,e)=>n[0]==="~"?n.slice(1):iB(e)+n,z5=(n="",e)=>k5(UC(iB(n)),UC(e)),UC=n=>{try{return decodeURI(n)}catch{return n}},rB={hook:O5,searchHook:D5,parser:m5,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:n=>n},sB=D.createContext(rB),tv=()=>D.useContext(sB),oB={},aB=D.createContext(oB),H5=()=>D.useContext(aB),tw=n=>{const[e,t]=n.hook(n);return[z5(n.base,e),tB((i,r)=>t(U5(i,n.base),r))]},lB=(n,e,t,i)=>{const{pattern:r,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:n(e||"*",i),o=r.exec(t)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((h,p)=>[h,l[p]])):o.groups;let d={...l};return c&&Object.assign(d,c),d})(),...i?[a]:[]]:[!1,null]},G5=({children:n,...e})=>{var d,h;const t=tv(),i=e.hook?rB:t;let r=i;const[s,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let a=D.useRef({}),l=a.current,c=l;for(let p in i){const m=p==="base"?i[p]+(e[p]||""):e[p]||i[p];l===c&&m!==c[p]&&(a.current=c={...c}),c[p]=m,m!==i[p]&&(r=c)}return D.createElement(sB.Provider,{value:r,children:n})},zC=({children:n,component:e},t)=>e?D.createElement(e,{params:t}):typeof n=="function"?n(t):n,V5=n=>{let e=D.useRef(oB),t=e.current;for(const i in n)n[i]!==t[i]&&(t=n);return Object.keys(n).length===0&&(t=n),e.current=t},HC=({path:n,nest:e,match:t,...i})=>{const r=tv(),[s]=tw(r),[o,a,l]=t??lB(r.parser,n,s,e),c=V5({...H5(),...a});if(!o)return null;const d=l?D.createElement(G5,{base:l},zC(i,c)):zC(i,c);return D.createElement(aB.Provider,{value:c,children:d})};D.forwardRef((n,e)=>{const t=tv(),[i,r]=tw(t),{to:s="",href:o=s,onClick:a,asChild:l,children:c,className:d,replace:h,state:p,...m}=n,v=tB(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(a==null||a(x),x.defaultPrevented||(x.preventDefault(),r(o,n)))}),_=t.hrefs(o[0]==="~"?o.slice(1):t.base+o,t);return l&&D.isValidElement(c)?D.cloneElement(c,{onClick:v,href:_}):D.createElement("a",{...m,onClick:v,href:_,className:d!=null&&d.call?d(i===o):d,children:c,ref:e})});const cB=n=>Array.isArray(n)?n.flatMap(e=>cB(e&&e.type===D.Fragment?e.props.children:e)):[n],W5=({children:n,location:e})=>{const t=tv(),[i]=tw(t);for(const r of cB(n)){let s=0;if(D.isValidElement(r)&&(s=lB(t.parser,r.props.path,e||i,r.props.nest))[0])return D.cloneElement(r,{match:s})}return null};var nv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},iv=typeof window>"u"||"Deno"in globalThis;function Zr(){}function j5(n,e){return typeof n=="function"?n(e):n}function X5(n){return typeof n=="number"&&n>=0&&n!==1/0}function J5(n,e){return Math.max(n+(e||0)-Date.now(),0)}function GC(n,e){return typeof n=="function"?n(e):n}function K5(n,e){return typeof n=="function"?n(e):n}function VC(n,e){const{type:t="all",exact:i,fetchStatus:r,predicate:s,queryKey:o,stale:a}=n;if(o){if(i){if(e.queryHash!==nw(o,e.options))return!1}else if(!sh(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||r&&r!==e.state.fetchStatus||s&&!s(e))}function WC(n,e){const{exact:t,status:i,predicate:r,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if(rh(e.options.mutationKey)!==rh(s))return!1}else if(!sh(e.options.mutationKey,s))return!1}return!(i&&e.state.status!==i||r&&!r(e))}function nw(n,e){return((e==null?void 0:e.queryKeyHashFn)||rh)(n)}function rh(n){return JSON.stringify(n,(e,t)=>U_(t)?Object.keys(t).sort().reduce((i,r)=>(i[r]=t[r],i),{}):t)}function sh(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!sh(n[t],e[t])):!1}function uB(n,e){if(n===e)return n;const t=jC(n)&&jC(e);if(t||U_(n)&&U_(e)){const i=t?n:Object.keys(n),r=i.length,s=t?e:Object.keys(e),o=s.length,a=t?[]:{};let l=0;for(let c=0;c<o;c++){const d=t?c:s[c];(!t&&i.includes(d)||t)&&n[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=uB(n[d],e[d]),a[d]===n[d]&&n[d]!==void 0&&l++)}return r===o&&l===r?n:a}return e}function jC(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function U_(n){if(!XC(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!XC(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function XC(n){return Object.prototype.toString.call(n)==="[object Object]"}function Y5(n){return new Promise(e=>{setTimeout(e,n)})}function Q5(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?uB(n,e):e}function q5(n,e,t=0){const i=[...n,e];return t&&i.length>t?i.slice(1):i}function Z5(n,e,t=0){const i=[e,...n];return t&&i.length>t?i.slice(0,-1):i}var iw=Symbol();function dB(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===iw?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Nl,ua,Fu,BP,$5=(BP=class extends nv{constructor(){super();Gt(this,Nl);Gt(this,ua);Gt(this,Fu);Tt(this,Fu,e=>{if(!iv&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){xe(this,ua)||this.setEventListener(xe(this,Fu))}onUnsubscribe(){var e;this.hasListeners()||((e=xe(this,ua))==null||e.call(this),Tt(this,ua,void 0))}setEventListener(e){var t;Tt(this,Fu,e),(t=xe(this,ua))==null||t.call(this),Tt(this,ua,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){xe(this,Nl)!==e&&(Tt(this,Nl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof xe(this,Nl)=="boolean"?xe(this,Nl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Nl=new WeakMap,ua=new WeakMap,Fu=new WeakMap,BP),fB=new $5,Ou,da,ku,IP,ez=(IP=class extends nv{constructor(){super();Gt(this,Ou,!0);Gt(this,da);Gt(this,ku);Tt(this,ku,e=>{if(!iv&&window.addEventListener){const t=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",i)}}})}onSubscribe(){xe(this,da)||this.setEventListener(xe(this,ku))}onUnsubscribe(){var e;this.hasListeners()||((e=xe(this,da))==null||e.call(this),Tt(this,da,void 0))}setEventListener(e){var t;Tt(this,ku,e),(t=xe(this,da))==null||t.call(this),Tt(this,da,e(this.setOnline.bind(this)))}setOnline(e){xe(this,Ou)!==e&&(Tt(this,Ou,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return xe(this,Ou)}},Ou=new WeakMap,da=new WeakMap,ku=new WeakMap,IP),p0=new ez;function tz(){let n,e;const t=new Promise((r,s)=>{n=r,e=s});t.status="pending",t.catch(()=>{});function i(r){Object.assign(t,r),delete t.resolve,delete t.reject}return t.resolve=r=>{i({status:"fulfilled",value:r}),n(r)},t.reject=r=>{i({status:"rejected",reason:r}),e(r)},t}function nz(n){return Math.min(1e3*2**n,3e4)}function hB(n){return(n??"online")==="online"?p0.isOnline():!0}var pB=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Px(n){return n instanceof pB}function mB(n){let e=!1,t=0,i=!1,r;const s=tz(),o=_=>{var x;i||(p(new pB(_)),(x=n.abort)==null||x.call(n))},a=()=>{e=!0},l=()=>{e=!1},c=()=>fB.isFocused()&&(n.networkMode==="always"||p0.isOnline())&&n.canRun(),d=()=>hB(n.networkMode)&&n.canRun(),h=_=>{var x;i||(i=!0,(x=n.onSuccess)==null||x.call(n,_),r==null||r(),s.resolve(_))},p=_=>{var x;i||(i=!0,(x=n.onError)==null||x.call(n,_),r==null||r(),s.reject(_))},m=()=>new Promise(_=>{var x;r=g=>{(i||c())&&_(g)},(x=n.onPause)==null||x.call(n)}).then(()=>{var _;r=void 0,i||(_=n.onContinue)==null||_.call(n)}),v=()=>{if(i)return;let _;const x=t===0?n.initialPromise:void 0;try{_=x??n.fn()}catch(g){_=Promise.reject(g)}Promise.resolve(_).then(h).catch(g=>{var C;if(i)return;const A=n.retry??(iv?0:3),S=n.retryDelay??nz,M=typeof S=="function"?S(t,g):S,T=A===!0||typeof A=="number"&&t<A||typeof A=="function"&&A(t,g);if(e||!T){p(g);return}t++,(C=n.onFail)==null||C.call(n,t,g),Y5(M).then(()=>c()?void 0:m()).then(()=>{e?p(g):v()})})};return{promise:s,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?v():m().then(v),s)}}function iz(){let n=[],e=0,t=a=>{a()},i=a=>{a()},r=a=>setTimeout(a,0);const s=a=>{e?n.push(a):r(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&r(()=>{i(()=>{a.forEach(l=>{t(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{i=a},setScheduler:a=>{r=a}}}var Ii=iz(),Fl,DP,gB=(DP=class{constructor(){Gt(this,Fl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),X5(this.gcTime)&&Tt(this,Fl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(iv?1/0:5*60*1e3))}clearGcTimeout(){xe(this,Fl)&&(clearTimeout(xe(this,Fl)),Tt(this,Fl,void 0))}},Fl=new WeakMap,DP),Uu,zu,Nr,vi,bh,Ol,es,lo,NP,rz=(NP=class extends gB{constructor(e){super();Gt(this,es);Gt(this,Uu);Gt(this,zu);Gt(this,Nr);Gt(this,vi);Gt(this,bh);Gt(this,Ol);Tt(this,Ol,!1),Tt(this,bh,e.defaultOptions),this.setOptions(e.options),this.observers=[],Tt(this,Nr,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Tt(this,Uu,oz(this.options)),this.state=e.state??xe(this,Uu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=xe(this,vi))==null?void 0:e.promise}setOptions(e){this.options={...xe(this,bh),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&xe(this,Nr).remove(this)}setData(e,t){const i=Q5(this.state.data,e,this.options);return fi(this,es,lo).call(this,{data:i,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),i}setState(e,t){fi(this,es,lo).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var i,r;const t=(i=xe(this,vi))==null?void 0:i.promise;return(r=xe(this,vi))==null||r.cancel(e),t?t.then(Zr).catch(Zr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(xe(this,Uu))}isActive(){return this.observers.some(e=>K5(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===iw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!J5(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=xe(this,vi))==null||t.continue()}onOnline(){var t;const e=this.observers.find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=xe(this,vi))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),xe(this,Nr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(xe(this,vi)&&(xe(this,Ol)?xe(this,vi).cancel({revert:!0}):xe(this,vi).cancelRetry()),this.scheduleGc()),xe(this,Nr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||fi(this,es,lo).call(this,{type:"invalidate"})}fetch(e,t){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(xe(this,vi))return xe(this,vi).continueRetry(),xe(this,vi).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,r=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Tt(this,Ol,!0),i.signal)})},s=()=>{const h=dB(this.options,t),p={queryKey:this.queryKey,meta:this.meta};return r(p),Tt(this,Ol,!1),this.options.persister?this.options.persister(h,p,this):h(p)},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};r(o),(l=this.options.behavior)==null||l.onFetch(o,this),Tt(this,zu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&fi(this,es,lo).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=h=>{var p,m,v,_;Px(h)&&h.silent||fi(this,es,lo).call(this,{type:"error",error:h}),Px(h)||((m=(p=xe(this,Nr).config).onError)==null||m.call(p,h,this),(_=(v=xe(this,Nr).config).onSettled)==null||_.call(v,this.state.data,h,this)),this.scheduleGc()};return Tt(this,vi,mB({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var p,m,v,_;if(h===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){a(x);return}(m=(p=xe(this,Nr).config).onSuccess)==null||m.call(p,h,this),(_=(v=xe(this,Nr).config).onSettled)==null||_.call(v,h,this.state.error,this),this.scheduleGc()},onError:a,onFail:(h,p)=>{fi(this,es,lo).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{fi(this,es,lo).call(this,{type:"pause"})},onContinue:()=>{fi(this,es,lo).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),xe(this,vi).start()}},Uu=new WeakMap,zu=new WeakMap,Nr=new WeakMap,vi=new WeakMap,bh=new WeakMap,Ol=new WeakMap,es=new WeakSet,lo=function(e){const t=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...sz(i.data,this.options),fetchMeta:e.meta??null};case"success":return{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return Px(r)&&r.revert&&xe(this,zu)?{...xe(this,zu),fetchStatus:"idle"}:{...i,error:r,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=t(this.state),Ii.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),xe(this,Nr).notify({query:this,type:"updated",action:e})})},NP);function sz(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hB(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function oz(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,i=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Cs,FP,az=(FP=class extends nv{constructor(e={}){super();Gt(this,Cs);this.config=e,Tt(this,Cs,new Map)}build(e,t,i){const r=t.queryKey,s=t.queryHash??nw(r,t);let o=this.get(s);return o||(o=new rz({cache:this,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:i,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){xe(this,Cs).has(e.queryHash)||(xe(this,Cs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=xe(this,Cs).get(e.queryHash);t&&(e.destroy(),t===e&&xe(this,Cs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ii.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return xe(this,Cs).get(e)}getAll(){return[...xe(this,Cs).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(i=>VC(t,i))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(i=>VC(e,i)):t}notify(e){Ii.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Ii.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ii.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Cs=new WeakMap,FP),bs,Pi,kl,Rs,ia,OP,lz=(OP=class extends gB{constructor(e){super();Gt(this,Rs);Gt(this,bs);Gt(this,Pi);Gt(this,kl);this.mutationId=e.mutationId,Tt(this,Pi,e.mutationCache),Tt(this,bs,[]),this.state=e.state||cz(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){xe(this,bs).includes(e)||(xe(this,bs).push(e),this.clearGcTimeout(),xe(this,Pi).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Tt(this,bs,xe(this,bs).filter(t=>t!==e)),this.scheduleGc(),xe(this,Pi).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){xe(this,bs).length||(this.state.status==="pending"?this.scheduleGc():xe(this,Pi).remove(this))}continue(){var e;return((e=xe(this,kl))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var r,s,o,a,l,c,d,h,p,m,v,_,x,g,A,S,M,T,C,P;Tt(this,kl,mB({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(B,R)=>{fi(this,Rs,ia).call(this,{type:"failed",failureCount:B,error:R})},onPause:()=>{fi(this,Rs,ia).call(this,{type:"pause"})},onContinue:()=>{fi(this,Rs,ia).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>xe(this,Pi).canRun(this)}));const t=this.state.status==="pending",i=!xe(this,kl).canStart();try{if(!t){fi(this,Rs,ia).call(this,{type:"pending",variables:e,isPaused:i}),await((s=(r=xe(this,Pi).config).onMutate)==null?void 0:s.call(r,e,this));const R=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));R!==this.state.context&&fi(this,Rs,ia).call(this,{type:"pending",context:R,variables:e,isPaused:i})}const B=await xe(this,kl).start();return await((c=(l=xe(this,Pi).config).onSuccess)==null?void 0:c.call(l,B,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,B,e,this.state.context)),await((m=(p=xe(this,Pi).config).onSettled)==null?void 0:m.call(p,B,null,this.state.variables,this.state.context,this)),await((_=(v=this.options).onSettled)==null?void 0:_.call(v,B,null,e,this.state.context)),fi(this,Rs,ia).call(this,{type:"success",data:B}),B}catch(B){try{throw await((g=(x=xe(this,Pi).config).onError)==null?void 0:g.call(x,B,e,this.state.context,this)),await((S=(A=this.options).onError)==null?void 0:S.call(A,B,e,this.state.context)),await((T=(M=xe(this,Pi).config).onSettled)==null?void 0:T.call(M,void 0,B,this.state.variables,this.state.context,this)),await((P=(C=this.options).onSettled)==null?void 0:P.call(C,void 0,B,e,this.state.context)),B}finally{fi(this,Rs,ia).call(this,{type:"error",error:B})}}finally{xe(this,Pi).runNext(this)}}},bs=new WeakMap,Pi=new WeakMap,kl=new WeakMap,Rs=new WeakSet,ia=function(e){const t=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Ii.batch(()=>{xe(this,bs).forEach(i=>{i.onMutationUpdate(e)}),xe(this,Pi).notify({mutation:this,type:"updated",action:e})})},OP);function cz(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var or,Rh,kP,uz=(kP=class extends nv{constructor(e={}){super();Gt(this,or);Gt(this,Rh);this.config=e,Tt(this,or,new Map),Tt(this,Rh,Date.now())}build(e,t,i){const r=new lz({mutationCache:this,mutationId:++qp(this,Rh)._,options:e.defaultMutationOptions(t),state:i});return this.add(r),r}add(e){const t=mm(e),i=xe(this,or).get(t)??[];i.push(e),xe(this,or).set(t,i),this.notify({type:"added",mutation:e})}remove(e){var i;const t=mm(e);if(xe(this,or).has(t)){const r=(i=xe(this,or).get(t))==null?void 0:i.filter(s=>s!==e);r&&(r.length===0?xe(this,or).delete(t):xe(this,or).set(t,r))}this.notify({type:"removed",mutation:e})}canRun(e){var i;const t=(i=xe(this,or).get(mm(e)))==null?void 0:i.find(r=>r.state.status==="pending");return!t||t===e}runNext(e){var i;const t=(i=xe(this,or).get(mm(e)))==null?void 0:i.find(r=>r!==e&&r.state.isPaused);return(t==null?void 0:t.continue())??Promise.resolve()}clear(){Ii.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...xe(this,or).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(i=>WC(t,i))}findAll(e={}){return this.getAll().filter(t=>WC(e,t))}notify(e){Ii.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Ii.batch(()=>Promise.all(e.map(t=>t.continue().catch(Zr))))}},or=new WeakMap,Rh=new WeakMap,kP);function mm(n){var e;return((e=n.options.scope)==null?void 0:e.id)??String(n.mutationId)}function JC(n){return{onFetch:(e,t)=>{var d,h,p,m,v;const i=e.options,r=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let _=!1;const x=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},g=dB(e.options,e.fetchOptions),A=async(S,M,T)=>{if(_)return Promise.reject();if(M==null&&S.pages.length)return Promise.resolve(S);const C={queryKey:e.queryKey,pageParam:M,direction:T?"backward":"forward",meta:e.options.meta};x(C);const P=await g(C),{maxPages:B}=e.options,R=T?Z5:q5;return{pages:R(S.pages,P,B),pageParams:R(S.pageParams,M,B)}};if(r&&s.length){const S=r==="backward",M=S?dz:KC,T={pages:s,pageParams:o},C=M(i,T);a=await A(T,C,S)}else{const S=n??s.length;do{const M=l===0?o[0]??i.initialPageParam:KC(i,a);if(l>0&&M==null)break;a=await A(a,M),l++}while(l<S)}return a};e.options.persister?e.fetchFn=()=>{var _,x;return(x=(_=e.options).persister)==null?void 0:x.call(_,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=c}}}function KC(n,{pages:e,pageParams:t}){const i=e.length-1;return e.length>0?n.getNextPageParam(e[i],e,t[i],t):void 0}function dz(n,{pages:e,pageParams:t}){var i;return e.length>0?(i=n.getPreviousPageParam)==null?void 0:i.call(n,e[0],e,t[0],t):void 0}var yn,fa,ha,Hu,Gu,pa,Vu,Wu,UP,fz=(UP=class{constructor(n={}){Gt(this,yn);Gt(this,fa);Gt(this,ha);Gt(this,Hu);Gt(this,Gu);Gt(this,pa);Gt(this,Vu);Gt(this,Wu);Tt(this,yn,n.queryCache||new az),Tt(this,fa,n.mutationCache||new uz),Tt(this,ha,n.defaultOptions||{}),Tt(this,Hu,new Map),Tt(this,Gu,new Map),Tt(this,pa,0)}mount(){qp(this,pa)._++,xe(this,pa)===1&&(Tt(this,Vu,fB.subscribe(async n=>{n&&(await this.resumePausedMutations(),xe(this,yn).onFocus())})),Tt(this,Wu,p0.subscribe(async n=>{n&&(await this.resumePausedMutations(),xe(this,yn).onOnline())})))}unmount(){var n,e;qp(this,pa)._--,xe(this,pa)===0&&((n=xe(this,Vu))==null||n.call(this),Tt(this,Vu,void 0),(e=xe(this,Wu))==null||e.call(this),Tt(this,Wu,void 0))}isFetching(n){return xe(this,yn).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return xe(this,fa).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=xe(this,yn).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.getQueryData(n.queryKey);if(e===void 0)return this.fetchQuery(n);{const t=this.defaultQueryOptions(n),i=xe(this,yn).build(this,t);return n.revalidateIfStale&&i.isStaleByTime(GC(t.staleTime,i))&&this.prefetchQuery(t),Promise.resolve(e)}}getQueriesData(n){return xe(this,yn).findAll(n).map(({queryKey:e,state:t})=>{const i=t.data;return[e,i]})}setQueryData(n,e,t){const i=this.defaultQueryOptions({queryKey:n}),r=xe(this,yn).get(i.queryHash),s=r==null?void 0:r.state.data,o=j5(e,s);if(o!==void 0)return xe(this,yn).build(this,i).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return Ii.batch(()=>xe(this,yn).findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=xe(this,yn).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=xe(this,yn);Ii.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=xe(this,yn),i={type:"active",...n};return Ii.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries(i,e)))}cancelQueries(n={},e={}){const t={revert:!0,...e},i=Ii.batch(()=>xe(this,yn).findAll(n).map(r=>r.cancel(t)));return Promise.all(i).then(Zr).catch(Zr)}invalidateQueries(n={},e={}){return Ii.batch(()=>{if(xe(this,yn).findAll(n).forEach(i=>{i.invalidate()}),n.refetchType==="none")return Promise.resolve();const t={...n,type:n.refetchType??n.type??"active"};return this.refetchQueries(t,e)})}refetchQueries(n={},e){const t={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},i=Ii.batch(()=>xe(this,yn).findAll(n).filter(r=>!r.isDisabled()).map(r=>{let s=r.fetch(void 0,t);return t.throwOnError||(s=s.catch(Zr)),r.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(Zr)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=xe(this,yn).build(this,e);return t.isStaleByTime(GC(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Zr).catch(Zr)}fetchInfiniteQuery(n){return n.behavior=JC(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Zr).catch(Zr)}ensureInfiniteQueryData(n){return n.behavior=JC(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return p0.isOnline()?xe(this,fa).resumePausedMutations():Promise.resolve()}getQueryCache(){return xe(this,yn)}getMutationCache(){return xe(this,fa)}getDefaultOptions(){return xe(this,ha)}setDefaultOptions(n){Tt(this,ha,n)}setQueryDefaults(n,e){xe(this,Hu).set(rh(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...xe(this,Hu).values()];let t={};return e.forEach(i=>{sh(n,i.queryKey)&&(t={...t,...i.defaultOptions})}),t}setMutationDefaults(n,e){xe(this,Gu).set(rh(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...xe(this,Gu).values()];let t={};return e.forEach(i=>{sh(n,i.mutationKey)&&(t={...t,...i.defaultOptions})}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...xe(this,ha).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=nw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===iw&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...xe(this,ha).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){xe(this,yn).clear(),xe(this,fa).clear()}},yn=new WeakMap,fa=new WeakMap,ha=new WeakMap,Hu=new WeakMap,Gu=new WeakMap,pa=new WeakMap,Vu=new WeakMap,Wu=new WeakMap,UP),hz=D.createContext(void 0),pz=({client:n,children:e})=>(D.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),U.jsx(hz.Provider,{value:n,children:e}));async function mz(n){if(!n.ok){const e=await n.text()||n.statusText;throw new Error(`${n.status}: ${e}`)}}const gz=({on401:n})=>async({queryKey:e})=>{const t=await fetch(e.join("/"),{credentials:"include"});return n==="returnNull"&&t.status===401?null:(await mz(t),await t.json())},vz=new fz({defaultOptions:{queries:{queryFn:gz({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!0,staleTime:0,gcTime:5*60*1e3,retry:!1},mutations:{retry:!1}}}),yz=1,xz=1e6;let Lx=0;function _z(){return Lx=(Lx+1)%Number.MAX_SAFE_INTEGER,Lx.toString()}const Bx=new Map,YC=n=>{if(Bx.has(n))return;const e=setTimeout(()=>{Bx.delete(n),Bf({type:"REMOVE_TOAST",toastId:n})},xz);Bx.set(n,e)},Az=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,yz)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?YC(t):n.toasts.forEach(i=>{YC(i.id)}),{...n,toasts:n.toasts.map(i=>i.id===t||t===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},Pg=[];let Lg={toasts:[]};function Bf(n){Lg=Az(Lg,n),Pg.forEach(e=>{e(Lg)})}function Sz({...n}){const e=_z(),t=r=>Bf({type:"UPDATE_TOAST",toast:{...r,id:e}}),i=()=>Bf({type:"DISMISS_TOAST",toastId:e});return Bf({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:r=>{r||i()}}}),{id:e,dismiss:i,update:t}}function wz(){const[n,e]=D.useState(Lg);return D.useEffect(()=>(Pg.push(e),()=>{const t=Pg.indexOf(e);t>-1&&Pg.splice(t,1)}),[n]),{...n,toast:Sz,dismiss:t=>Bf({type:"DISMISS_TOAST",toastId:t})}}function On(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n==null||n(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function QC(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function vB(...n){return e=>{let t=!1;const i=n.map(r=>{const s=QC(r,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():QC(n[r],null)}}}}function ls(...n){return D.useCallback(vB(...n),n)}function rv(n,e=[]){let t=[];function i(s,o){const a=D.createContext(o),l=t.length;t=[...t,o];const c=h=>{var g;const{scope:p,children:m,...v}=h,_=((g=p==null?void 0:p[n])==null?void 0:g[l])||a,x=D.useMemo(()=>v,Object.values(v));return U.jsx(_.Provider,{value:x,children:m})};c.displayName=s+"Provider";function d(h,p){var _;const m=((_=p==null?void 0:p[n])==null?void 0:_[l])||a,v=D.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,d]}const r=()=>{const s=t.map(o=>D.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return D.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return r.scopeName=n,[i,Mz(r,...e)]}function Mz(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return D.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function m0(n){const e=Tz(n),t=D.forwardRef((i,r)=>{const{children:s,...o}=i,a=D.Children.toArray(s),l=a.find(bz);if(l){const c=l.props.children,d=a.map(h=>h===l?D.Children.count(c)>1?D.Children.only(null):D.isValidElement(c)?c.props.children:null:h);return U.jsx(e,{...o,ref:r,children:D.isValidElement(c)?D.cloneElement(c,void 0,d):null})}return U.jsx(e,{...o,ref:r,children:s})});return t.displayName=`${n}.Slot`,t}var Ez=m0("Slot");function Tz(n){const e=D.forwardRef((t,i)=>{const{children:r,...s}=t;if(D.isValidElement(r)){const o=Pz(r),a=Rz(s,r.props);return r.type!==D.Fragment&&(a.ref=i?vB(i,o):o),D.cloneElement(r,a)}return D.Children.count(r)>1?D.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var yB=Symbol("radix.slottable");function Cz(n){const e=({children:t})=>U.jsx(U.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=yB,e}function bz(n){return D.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===yB}function Rz(n,e){const t={...e};for(const i in e){const r=n[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?t[i]=(...a)=>{s(...a),r(...a)}:r&&(t[i]=r):i==="style"?t[i]={...r,...s}:i==="className"&&(t[i]=[r,s].filter(Boolean).join(" "))}return{...n,...t}}function Pz(n){var i,r;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Lz(n){const e=n+"CollectionProvider",[t,i]=rv(e),[r,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:x,children:g}=_,A=Bi.useRef(null),S=Bi.useRef(new Map).current;return U.jsx(r,{scope:x,itemMap:S,collectionRef:A,children:g})};o.displayName=e;const a=n+"CollectionSlot",l=m0(a),c=Bi.forwardRef((_,x)=>{const{scope:g,children:A}=_,S=s(a,g),M=ls(x,S.collectionRef);return U.jsx(l,{ref:M,children:A})});c.displayName=a;const d=n+"CollectionItemSlot",h="data-radix-collection-item",p=m0(d),m=Bi.forwardRef((_,x)=>{const{scope:g,children:A,...S}=_,M=Bi.useRef(null),T=ls(x,M),C=s(d,g);return Bi.useEffect(()=>(C.itemMap.set(M,{ref:M,...S}),()=>void C.itemMap.delete(M))),U.jsx(p,{[h]:"",ref:T,children:A})});m.displayName=d;function v(_){const x=s(n+"CollectionConsumer",_);return Bi.useCallback(()=>{const A=x.collectionRef.current;if(!A)return[];const S=Array.from(A.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((C,P)=>S.indexOf(C.ref.current)-S.indexOf(P.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},v,i]}var Bz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Qi=Bz.reduce((n,e)=>{const t=m0(`Primitive.${e}`),i=D.forwardRef((r,s)=>{const{asChild:o,...a}=r,l=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),U.jsx(l,{...a,ref:s})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function xB(n,e){n&&Nh.flushSync(()=>n.dispatchEvent(e))}function Hs(n){const e=D.useRef(n);return D.useEffect(()=>{e.current=n}),D.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function Iz(n,e=globalThis==null?void 0:globalThis.document){const t=Hs(n);D.useEffect(()=>{const i=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var Dz="DismissableLayer",z_="dismissableLayer.update",Nz="dismissableLayer.pointerDownOutside",Fz="dismissableLayer.focusOutside",qC,_B=D.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rw=D.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,c=D.useContext(_B),[d,h]=D.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=D.useState({}),v=ls(e,P=>h(P)),_=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=_.indexOf(x),A=d?_.indexOf(d):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,M=A>=g,T=kz(P=>{const B=P.target,R=[...c.branches].some(L=>L.contains(B));!M||R||(r==null||r(P),o==null||o(P),P.defaultPrevented||a==null||a())},p),C=Uz(P=>{const B=P.target;[...c.branches].some(L=>L.contains(B))||(s==null||s(P),o==null||o(P),P.defaultPrevented||a==null||a())},p);return Iz(P=>{A===c.layers.size-1&&(i==null||i(P),!P.defaultPrevented&&a&&(P.preventDefault(),a()))},p),D.useEffect(()=>{if(d)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(qC=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),ZC(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=qC)}},[d,p,t,c]),D.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),ZC())},[d,c]),D.useEffect(()=>{const P=()=>m({});return document.addEventListener(z_,P),()=>document.removeEventListener(z_,P)},[]),U.jsx(Qi.div,{...l,ref:v,style:{pointerEvents:S?M?"auto":"none":void 0,...n.style},onFocusCapture:On(n.onFocusCapture,C.onFocusCapture),onBlurCapture:On(n.onBlurCapture,C.onBlurCapture),onPointerDownCapture:On(n.onPointerDownCapture,T.onPointerDownCapture)})});rw.displayName=Dz;var Oz="DismissableLayerBranch",AB=D.forwardRef((n,e)=>{const t=D.useContext(_B),i=D.useRef(null),r=ls(e,i);return D.useEffect(()=>{const s=i.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),U.jsx(Qi.div,{...n,ref:r})});AB.displayName=Oz;function kz(n,e=globalThis==null?void 0:globalThis.document){const t=Hs(n),i=D.useRef(!1),r=D.useRef(()=>{});return D.useEffect(()=>{const s=a=>{if(a.target&&!i.current){let l=function(){SB(Nz,t,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=l,e.addEventListener("click",r.current,{once:!0})):l()}else e.removeEventListener("click",r.current);i.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function Uz(n,e=globalThis==null?void 0:globalThis.document){const t=Hs(n),i=D.useRef(!1);return D.useEffect(()=>{const r=s=>{s.target&&!i.current&&SB(Fz,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function ZC(){const n=new CustomEvent(z_);document.dispatchEvent(n)}function SB(n,e,t,{discrete:i}){const r=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),i?xB(r,s):r.dispatchEvent(s)}var zz=rw,Hz=AB,ql=globalThis!=null&&globalThis.document?D.useLayoutEffect:()=>{},Gz="Portal",wB=D.forwardRef((n,e)=>{var a;const{container:t,...i}=n,[r,s]=D.useState(!1);ql(()=>s(!0),[]);const o=t||r&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?p5.createPortal(U.jsx(Qi.div,{...i,ref:e}),o):null});wB.displayName=Gz;function Vz(n,e){return D.useReducer((t,i)=>e[t][i]??t,n)}var sw=n=>{const{present:e,children:t}=n,i=Wz(e),r=typeof t=="function"?t({present:i.isPresent}):D.Children.only(t),s=ls(i.ref,jz(r));return typeof t=="function"||i.isPresent?D.cloneElement(r,{ref:s}):null};sw.displayName="Presence";function Wz(n){const[e,t]=D.useState(),i=D.useRef({}),r=D.useRef(n),s=D.useRef("none"),o=n?"mounted":"unmounted",[a,l]=Vz(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return D.useEffect(()=>{const c=gm(i.current);s.current=a==="mounted"?c:"none"},[a]),ql(()=>{const c=i.current,d=r.current;if(d!==n){const p=s.current,m=gm(c);n?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,l]),ql(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=m=>{const _=gm(i.current).includes(m.animationName);if(m.target===e&&_&&(l("ANIMATION_END"),!r.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=m=>{m.target===e&&(s.current=gm(i.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:D.useCallback(c=>{c&&(i.current=getComputedStyle(c)),t(c)},[])}}function gm(n){return(n==null?void 0:n.animationName)||"none"}function jz(n){var i,r;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Xz({prop:n,defaultProp:e,onChange:t=()=>{}}){const[i,r]=Jz({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:i,a=Hs(t),l=D.useCallback(c=>{if(s){const h=typeof c=="function"?c(n):c;h!==n&&a(h)}else r(c)},[s,n,r,a]);return[o,l]}function Jz({defaultProp:n,onChange:e}){const t=D.useState(n),[i]=t,r=D.useRef(i),s=Hs(e);return D.useEffect(()=>{r.current!==i&&(s(i),r.current=i)},[i,r,s]),t}var Kz="VisuallyHidden",sv=D.forwardRef((n,e)=>U.jsx(Qi.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));sv.displayName=Kz;var Yz=sv,ow="ToastProvider",[aw,Qz,qz]=Lz("Toast"),[MB,zee]=rv("Toast",[qz]),[Zz,ov]=MB(ow),EB=n=>{const{__scopeToast:e,label:t="Notification",duration:i=5e3,swipeDirection:r="right",swipeThreshold:s=50,children:o}=n,[a,l]=D.useState(null),[c,d]=D.useState(0),h=D.useRef(!1),p=D.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${ow}\`. Expected non-empty \`string\`.`),U.jsx(aw.Provider,{scope:e,children:U.jsx(Zz,{scope:e,label:t,duration:i,swipeDirection:r,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:D.useCallback(()=>d(m=>m+1),[]),onToastRemove:D.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};EB.displayName=ow;var TB="ToastViewport",$z=["F8"],H_="toast.viewportPause",G_="toast.viewportResume",CB=D.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:i=$z,label:r="Notifications ({hotkey})",...s}=n,o=ov(TB,t),a=Qz(t),l=D.useRef(null),c=D.useRef(null),d=D.useRef(null),h=D.useRef(null),p=ls(e,h,o.onViewportChange),m=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;D.useEffect(()=>{const x=g=>{var S;i.length!==0&&i.every(M=>g[M]||g.code===M)&&((S=h.current)==null||S.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[i]),D.useEffect(()=>{const x=l.current,g=h.current;if(v&&x&&g){const A=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(H_);g.dispatchEvent(C),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(G_);g.dispatchEvent(C),o.isClosePausedRef.current=!1}},M=C=>{!x.contains(C.relatedTarget)&&S()},T=()=>{x.contains(document.activeElement)||S()};return x.addEventListener("focusin",A),x.addEventListener("focusout",M),x.addEventListener("pointermove",A),x.addEventListener("pointerleave",T),window.addEventListener("blur",A),window.addEventListener("focus",S),()=>{x.removeEventListener("focusin",A),x.removeEventListener("focusout",M),x.removeEventListener("pointermove",A),x.removeEventListener("pointerleave",T),window.removeEventListener("blur",A),window.removeEventListener("focus",S)}}},[v,o.isClosePausedRef]);const _=D.useCallback(({tabbingDirection:x})=>{const A=a().map(S=>{const M=S.ref.current,T=[M,...fH(M)];return x==="forwards"?T:T.reverse()});return(x==="forwards"?A.reverse():A).flat()},[a]);return D.useEffect(()=>{const x=h.current;if(x){const g=A=>{var T,C,P;const S=A.altKey||A.ctrlKey||A.metaKey;if(A.key==="Tab"&&!S){const B=document.activeElement,R=A.shiftKey;if(A.target===x&&R){(T=c.current)==null||T.focus();return}const G=_({tabbingDirection:R?"backwards":"forwards"}),Q=G.findIndex(F=>F===B);Ix(G.slice(Q+1))?A.preventDefault():R?(C=c.current)==null||C.focus():(P=d.current)==null||P.focus()}};return x.addEventListener("keydown",g),()=>x.removeEventListener("keydown",g)}},[a,_]),U.jsxs(Hz,{ref:l,role:"region","aria-label":r.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&U.jsx(V_,{ref:c,onFocusFromOutsideViewport:()=>{const x=_({tabbingDirection:"forwards"});Ix(x)}}),U.jsx(aw.Slot,{scope:t,children:U.jsx(Qi.ol,{tabIndex:-1,...s,ref:p})}),v&&U.jsx(V_,{ref:d,onFocusFromOutsideViewport:()=>{const x=_({tabbingDirection:"backwards"});Ix(x)}})]})});CB.displayName=TB;var bB="ToastFocusProxy",V_=D.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:i,...r}=n,s=ov(bB,t);return U.jsx(sv,{"aria-hidden":!0,tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&i()}})});V_.displayName=bB;var av="Toast",eH="toast.swipeStart",tH="toast.swipeMove",nH="toast.swipeCancel",iH="toast.swipeEnd",RB=D.forwardRef((n,e)=>{const{forceMount:t,open:i,defaultOpen:r,onOpenChange:s,...o}=n,[a=!0,l]=Xz({prop:i,defaultProp:r,onChange:s});return U.jsx(sw,{present:t||a,children:U.jsx(oH,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Hs(n.onPause),onResume:Hs(n.onResume),onSwipeStart:On(n.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:On(n.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:On(n.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:On(n.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});RB.displayName=av;var[rH,sH]=MB(av,{onClose(){}}),oH=D.forwardRef((n,e)=>{const{__scopeToast:t,type:i="foreground",duration:r,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:m,...v}=n,_=ov(av,t),[x,g]=D.useState(null),A=ls(e,F=>g(F)),S=D.useRef(null),M=D.useRef(null),T=r||_.duration,C=D.useRef(0),P=D.useRef(T),B=D.useRef(0),{onToastAdd:R,onToastRemove:L}=_,O=Hs(()=>{var q;(x==null?void 0:x.contains(document.activeElement))&&((q=_.viewport)==null||q.focus()),o()}),G=D.useCallback(F=>{!F||F===1/0||(window.clearTimeout(B.current),C.current=new Date().getTime(),B.current=window.setTimeout(O,F))},[O]);D.useEffect(()=>{const F=_.viewport;if(F){const q=()=>{G(P.current),c==null||c()},ee=()=>{const $=new Date().getTime()-C.current;P.current=P.current-$,window.clearTimeout(B.current),l==null||l()};return F.addEventListener(H_,ee),F.addEventListener(G_,q),()=>{F.removeEventListener(H_,ee),F.removeEventListener(G_,q)}}},[_.viewport,T,l,c,G]),D.useEffect(()=>{s&&!_.isClosePausedRef.current&&G(T)},[s,T,_.isClosePausedRef,G]),D.useEffect(()=>(R(),()=>L()),[R,L]);const Q=D.useMemo(()=>x?FB(x):null,[x]);return _.viewport?U.jsxs(U.Fragment,{children:[Q&&U.jsx(aH,{__scopeToast:t,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:Q}),U.jsx(rH,{scope:t,onClose:O,children:Nh.createPortal(U.jsx(aw.ItemSlot,{scope:t,children:U.jsx(zz,{asChild:!0,onEscapeKeyDown:On(a,()=>{_.isFocusedToastEscapeKeyDownRef.current||O(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:U.jsx(Qi.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":_.swipeDirection,...v,ref:A,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:On(n.onKeyDown,F=>{F.key==="Escape"&&(a==null||a(F.nativeEvent),F.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:On(n.onPointerDown,F=>{F.button===0&&(S.current={x:F.clientX,y:F.clientY})}),onPointerMove:On(n.onPointerMove,F=>{if(!S.current)return;const q=F.clientX-S.current.x,ee=F.clientY-S.current.y,$=!!M.current,I=["left","right"].includes(_.swipeDirection),V=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,W=I?V(0,q):0,z=I?0:V(0,ee),K=F.pointerType==="touch"?10:2,ue={x:W,y:z},ve={originalEvent:F,delta:ue};$?(M.current=ue,vm(tH,h,ve,{discrete:!1})):$C(ue,_.swipeDirection,K)?(M.current=ue,vm(eH,d,ve,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(q)>K||Math.abs(ee)>K)&&(S.current=null)}),onPointerUp:On(n.onPointerUp,F=>{const q=M.current,ee=F.target;if(ee.hasPointerCapture(F.pointerId)&&ee.releasePointerCapture(F.pointerId),M.current=null,S.current=null,q){const $=F.currentTarget,I={originalEvent:F,delta:q};$C(q,_.swipeDirection,_.swipeThreshold)?vm(iH,m,I,{discrete:!0}):vm(nH,p,I,{discrete:!0}),$.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),aH=n=>{const{__scopeToast:e,children:t,...i}=n,r=ov(av,e),[s,o]=D.useState(!1),[a,l]=D.useState(!1);return uH(()=>o(!0)),D.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:U.jsx(wB,{asChild:!0,children:U.jsx(sv,{...i,children:s&&U.jsxs(U.Fragment,{children:[r.label," ",t]})})})},lH="ToastTitle",PB=D.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n;return U.jsx(Qi.div,{...i,ref:e})});PB.displayName=lH;var cH="ToastDescription",LB=D.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n;return U.jsx(Qi.div,{...i,ref:e})});LB.displayName=cH;var BB="ToastAction",IB=D.forwardRef((n,e)=>{const{altText:t,...i}=n;return t.trim()?U.jsx(NB,{altText:t,asChild:!0,children:U.jsx(lw,{...i,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${BB}\`. Expected non-empty \`string\`.`),null)});IB.displayName=BB;var DB="ToastClose",lw=D.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n,r=sH(DB,t);return U.jsx(NB,{asChild:!0,children:U.jsx(Qi.button,{type:"button",...i,ref:e,onClick:On(n.onClick,r.onClose)})})});lw.displayName=DB;var NB=D.forwardRef((n,e)=>{const{__scopeToast:t,altText:i,...r}=n;return U.jsx(Qi.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...r,ref:e})});function FB(n){const e=[];return Array.from(n.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&e.push(i.textContent),dH(i)){const r=i.ariaHidden||i.hidden||i.style.display==="none",s=i.dataset.radixToastAnnounceExclude==="";if(!r)if(s){const o=i.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...FB(i))}}),e}function vm(n,e,t,{discrete:i}){const r=t.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),i?xB(r,s):r.dispatchEvent(s)}var $C=(n,e,t=0)=>{const i=Math.abs(n.x),r=Math.abs(n.y),s=i>r;return e==="left"||e==="right"?s&&i>t:!s&&r>t};function uH(n=()=>{}){const e=Hs(n);ql(()=>{let t=0,i=0;return t=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(i)}},[e])}function dH(n){return n.nodeType===n.ELEMENT_NODE}function fH(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Ix(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var hH=EB,OB=CB,kB=RB,UB=PB,zB=LB,HB=IB,GB=lw;function VB(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=VB(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function WB(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=VB(n))&&(i&&(i+=" "),i+=e);return i}const eb=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,tb=WB,jB=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return tb(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:r,defaultVariants:s}=e,o=Object.keys(r).map(c=>{const d=t==null?void 0:t[c],h=s==null?void 0:s[c];if(d===null)return null;const p=eb(d)||eb(h);return r[c][p]}),a=t&&Object.entries(t).reduce((c,d)=>{let[h,p]=d;return p===void 0||(c[h]=p),c},{}),l=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((c,d)=>{let{class:h,className:p,...m}=d;return Object.entries(m).every(v=>{let[_,x]=v;return Array.isArray(x)?x.includes({...s,...a}[_]):{...s,...a}[_]===x})?[...c,h,p]:c},[]);return tb(n,o,l,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XB=(...n)=>n.filter((e,t,i)=>!!e&&i.indexOf(e)===t).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=D.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...a},l)=>D.createElement("svg",{ref:l,...mH,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:XB("lucide",r),...a},[...o.map(([c,d])=>D.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=(n,e)=>{const t=D.forwardRef(({className:i,...r},s)=>D.createElement(gH,{ref:s,iconNode:e,className:XB(`lucide-${pH(n)}`,i),...r}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=qi("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=qi("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=qi("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=qi("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=qi("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=qi("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=qi("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=qi("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=qi("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=qi("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=qi("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=qi("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=qi("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=qi("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),cw="-",PH=n=>{const e=BH(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:o=>{const a=o.split(cw);return a[0]===""&&a.length!==1&&a.shift(),JB(a,e)||LH(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&i[o]?[...l,...i[o]]:l}}},JB=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),r=i?JB(n.slice(1),i):void 0;if(r)return r;if(e.validators.length===0)return;const s=n.join(cw);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},nb=/^\[(.+)\]$/,LH=n=>{if(nb.test(n)){const e=nb.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},BH=n=>{const{theme:e,prefix:t}=n,i={nextPart:new Map,validators:[]};return DH(Object.entries(n.classGroups),t).forEach(([s,o])=>{W_(o,i,s,e)}),i},W_=(n,e,t,i)=>{n.forEach(r=>{if(typeof r=="string"){const s=r===""?e:ib(e,r);s.classGroupId=t;return}if(typeof r=="function"){if(IH(r)){W_(r(i),e,t,i);return}e.validators.push({validator:r,classGroupId:t});return}Object.entries(r).forEach(([s,o])=>{W_(o,ib(e,s),t,i)})})},ib=(n,e)=>{let t=n;return e.split(cw).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},IH=n=>n.isThemeGetter,DH=(n,e)=>e?n.map(([t,i])=>{const r=i.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[t,r]}):n,NH=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const r=(s,o)=>{t.set(s,o),e++,e>n&&(e=0,i=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=i.get(s))!==void 0)return r(s,o),o},set(s,o){t.has(s)?t.set(s,o):r(s,o)}}},KB="!",FH=n=>{const{separator:e,experimentalParseClassName:t}=n,i=e.length===1,r=e[0],s=e.length,o=a=>{const l=[];let c=0,d=0,h;for(let x=0;x<a.length;x++){let g=a[x];if(c===0){if(g===r&&(i||a.slice(x,x+s)===e)){l.push(a.slice(d,x)),d=x+s;continue}if(g==="/"){h=x;continue}}g==="["?c++:g==="]"&&c--}const p=l.length===0?a:a.substring(d),m=p.startsWith(KB),v=m?p.substring(1):p,_=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:_}};return t?a=>t({className:a,parseClassName:o}):o},OH=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(i=>{i[0]==="["?(e.push(...t.sort(),i),t=[]):t.push(i)}),e.push(...t.sort()),e},kH=n=>({cache:NH(n.cacheSize),parseClassName:FH(n),...PH(n)}),UH=/\s+/,zH=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:r}=e,s=[],o=n.trim().split(UH);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=t(c);let v=!!m,_=i(v?p.substring(0,m):p);if(!_){if(!v){a=c+(a.length>0?" "+a:a);continue}if(_=i(p),!_){a=c+(a.length>0?" "+a:a);continue}v=!1}const x=OH(d).join(":"),g=h?x+KB:x,A=g+_;if(s.includes(A))continue;s.push(A);const S=r(_,v);for(let M=0;M<S.length;++M){const T=S[M];s.push(g+T)}a=c+(a.length>0?" "+a:a)}return a};function HH(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=YB(e))&&(i&&(i+=" "),i+=t);return i}const YB=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=YB(n[i]))&&(t&&(t+=" "),t+=e);return t};function GH(n,...e){let t,i,r,s=o;function o(l){const c=e.reduce((d,h)=>h(d),n());return t=kH(c),i=t.cache.get,r=t.cache.set,s=a,a(l)}function a(l){const c=i(l);if(c)return c;const d=zH(l,t);return r(l,d),d}return function(){return s(HH.apply(null,arguments))}}const en=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},QB=/^\[(?:([a-z-]+):)?(.+)\]$/i,VH=/^\d+\/\d+$/,WH=new Set(["px","full","screen"]),jH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,XH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,JH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,KH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,to=n=>Pu(n)||WH.has(n)||VH.test(n),Jo=n=>pd(n,"length",i8),Pu=n=>!!n&&!Number.isNaN(Number(n)),Dx=n=>pd(n,"number",Pu),Zd=n=>!!n&&Number.isInteger(Number(n)),QH=n=>n.endsWith("%")&&Pu(n.slice(0,-1)),xt=n=>QB.test(n),Ko=n=>jH.test(n),qH=new Set(["length","size","percentage"]),ZH=n=>pd(n,qH,qB),$H=n=>pd(n,"position",qB),e8=new Set(["image","url"]),t8=n=>pd(n,e8,s8),n8=n=>pd(n,"",r8),$d=()=>!0,pd=(n,e,t)=>{const i=QB.exec(n);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):t(i[2]):!1},i8=n=>XH.test(n)&&!JH.test(n),qB=()=>!1,r8=n=>KH.test(n),s8=n=>YH.test(n),o8=()=>{const n=en("colors"),e=en("spacing"),t=en("blur"),i=en("brightness"),r=en("borderColor"),s=en("borderRadius"),o=en("borderSpacing"),a=en("borderWidth"),l=en("contrast"),c=en("grayscale"),d=en("hueRotate"),h=en("invert"),p=en("gap"),m=en("gradientColorStops"),v=en("gradientColorStopPositions"),_=en("inset"),x=en("margin"),g=en("opacity"),A=en("padding"),S=en("saturate"),M=en("scale"),T=en("sepia"),C=en("skew"),P=en("space"),B=en("translate"),R=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",xt,e],G=()=>[xt,e],Q=()=>["",to,Jo],F=()=>["auto",Pu,xt],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ee=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",xt],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Pu,xt];return{cacheSize:500,separator:":",theme:{colors:[$d],spacing:[to,Jo],blur:["none","",Ko,xt],brightness:z(),borderColor:[n],borderRadius:["none","","full",Ko,xt],borderSpacing:G(),borderWidth:Q(),contrast:z(),grayscale:V(),hueRotate:z(),invert:V(),gap:G(),gradientColorStops:[n],gradientColorStopPositions:[QH,Jo],inset:O(),margin:O(),opacity:z(),padding:G(),saturate:z(),scale:z(),sepia:V(),skew:z(),space:G(),translate:G()},classGroups:{aspect:[{aspect:["auto","square","video",xt]}],container:["container"],columns:[{columns:[Ko]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),xt]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Zd,xt]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xt]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",Zd,xt]}],"grid-cols":[{"grid-cols":[$d]}],"col-start-end":[{col:["auto",{span:["full",Zd,xt]},xt]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[$d]}],"row-start-end":[{row:["auto",{span:[Zd,xt]},xt]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xt,e]}],"min-w":[{"min-w":[xt,e,"min","max","fit"]}],"max-w":[{"max-w":[xt,e,"none","full","min","max","fit","prose",{screen:[Ko]},Ko]}],h:[{h:[xt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ko,Jo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Dx]}],"font-family":[{font:[$d]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xt]}],"line-clamp":[{"line-clamp":["none",Pu,Dx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",to,xt]}],"list-image":[{"list-image":["none",xt]}],"list-style-type":[{list:["none","disc","decimal",xt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",to,Jo]}],"underline-offset":[{"underline-offset":["auto",to,xt]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),$H]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ZH]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},t8]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...ee(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:ee()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...ee()]}],"outline-offset":[{"outline-offset":[to,xt]}],"outline-w":[{outline:[to,Jo]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[to,Jo]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Ko,n8]}],"shadow-color":[{shadow:[$d]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[i]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ko,xt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xt]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",xt]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",xt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[Zd,xt]}],"translate-x":[{"translate-x":[B]}],"translate-y":[{"translate-y":[B]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xt]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xt]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xt]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[to,Jo,Dx]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},a8=GH(o8);function Zi(...n){return a8(WB(n))}const l8=hH,ZB=D.forwardRef(({className:n,...e},t)=>U.jsx(OB,{ref:t,className:Zi("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));ZB.displayName=OB.displayName;const c8=jB("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),$B=D.forwardRef(({className:n,variant:e,...t},i)=>U.jsx(kB,{ref:i,className:Zi(c8({variant:e}),n),...t}));$B.displayName=kB.displayName;const u8=D.forwardRef(({className:n,...e},t)=>U.jsx(HB,{ref:t,className:Zi("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));u8.displayName=HB.displayName;const eI=D.forwardRef(({className:n,...e},t)=>U.jsx(GB,{ref:t,className:Zi("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:U.jsx(lv,{className:"h-4 w-4"})}));eI.displayName=GB.displayName;const tI=D.forwardRef(({className:n,...e},t)=>U.jsx(UB,{ref:t,className:Zi("text-sm font-semibold",n),...e}));tI.displayName=UB.displayName;const nI=D.forwardRef(({className:n,...e},t)=>U.jsx(zB,{ref:t,className:Zi("text-sm opacity-90",n),...e}));nI.displayName=zB.displayName;function d8(){const{toasts:n}=wz();return U.jsxs(l8,{children:[n.map(function({id:e,title:t,description:i,action:r,...s}){return U.jsxs($B,{...s,children:[U.jsxs("div",{className:"grid gap-1",children:[t&&U.jsx(tI,{children:t}),i&&U.jsx(nI,{children:i})]}),r,U.jsx(eI,{})]},e)}),U.jsx(ZB,{})]})}const f8=["top","right","bottom","left"],Da=Math.min,lr=Math.max,g0=Math.round,ym=Math.floor,Ns=n=>({x:n,y:n}),h8={left:"right",right:"left",bottom:"top",top:"bottom"},p8={start:"end",end:"start"};function j_(n,e,t){return lr(n,Da(e,t))}function Po(n,e){return typeof n=="function"?n(e):n}function Lo(n){return n.split("-")[0]}function md(n){return n.split("-")[1]}function uw(n){return n==="x"?"y":"x"}function dw(n){return n==="y"?"height":"width"}function Na(n){return["top","bottom"].includes(Lo(n))?"y":"x"}function fw(n){return uw(Na(n))}function m8(n,e,t){t===void 0&&(t=!1);const i=md(n),r=fw(n),s=dw(r);let o=r==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=v0(o)),[o,v0(o)]}function g8(n){const e=v0(n);return[X_(n),e,X_(e)]}function X_(n){return n.replace(/start|end/g,e=>p8[e])}function v8(n,e,t){const i=["left","right"],r=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?r:i:e?i:r;case"left":case"right":return e?s:o;default:return[]}}function y8(n,e,t,i){const r=md(n);let s=v8(Lo(n),t==="start",i);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(X_)))),s}function v0(n){return n.replace(/left|right|bottom|top/g,e=>h8[e])}function x8(n){return{top:0,right:0,bottom:0,left:0,...n}}function iI(n){return typeof n!="number"?x8(n):{top:n,right:n,bottom:n,left:n}}function y0(n){const{x:e,y:t,width:i,height:r}=n;return{width:i,height:r,top:t,left:e,right:e+i,bottom:t+r,x:e,y:t}}function rb(n,e,t){let{reference:i,floating:r}=n;const s=Na(e),o=fw(e),a=dw(o),l=Lo(e),c=s==="y",d=i.x+i.width/2-r.width/2,h=i.y+i.height/2-r.height/2,p=i[a]/2-r[a]/2;let m;switch(l){case"top":m={x:d,y:i.y-r.height};break;case"bottom":m={x:d,y:i.y+i.height};break;case"right":m={x:i.x+i.width,y:h};break;case"left":m={x:i.x-r.width,y:h};break;default:m={x:i.x,y:i.y}}switch(md(e)){case"start":m[o]-=p*(t&&c?-1:1);break;case"end":m[o]+=p*(t&&c?-1:1);break}return m}const _8=async(n,e,t)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:r}),{x:d,y:h}=rb(c,i,l),p=i,m={},v=0;for(let _=0;_<a.length;_++){const{name:x,fn:g}=a[_],{x:A,y:S,data:M,reset:T}=await g({x:d,y:h,initialPlacement:i,placement:p,strategy:r,middlewareData:m,rects:c,platform:o,elements:{reference:n,floating:e}});d=A??d,h=S??h,m={...m,[x]:{...m[x],...M}},T&&v<=50&&(v++,typeof T=="object"&&(T.placement&&(p=T.placement),T.rects&&(c=T.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:r}):T.rects),{x:d,y:h}=rb(c,p,l)),_=-1)}return{x:d,y:h,placement:p,strategy:r,middlewareData:m}};async function oh(n,e){var t;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=Po(e,n),v=iI(m),x=a[p?h==="floating"?"reference":"floating":h],g=y0(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(x)))==null||t?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),A=h==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),M=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},T=y0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:A,offsetParent:S,strategy:l}):A);return{top:(g.top-T.top+v.top)/M.y,bottom:(T.bottom-g.bottom+v.bottom)/M.y,left:(g.left-T.left+v.left)/M.x,right:(T.right-g.right+v.right)/M.x}}const A8=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:r,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Po(n,e)||{};if(c==null)return{};const h=iI(d),p={x:t,y:i},m=fw(r),v=dw(m),_=await o.getDimensions(c),x=m==="y",g=x?"top":"left",A=x?"bottom":"right",S=x?"clientHeight":"clientWidth",M=s.reference[v]+s.reference[m]-p[m]-s.floating[v],T=p[m]-s.reference[m],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let P=C?C[S]:0;(!P||!await(o.isElement==null?void 0:o.isElement(C)))&&(P=a.floating[S]||s.floating[v]);const B=M/2-T/2,R=P/2-_[v]/2-1,L=Da(h[g],R),O=Da(h[A],R),G=L,Q=P-_[v]-O,F=P/2-_[v]/2+B,q=j_(G,F,Q),ee=!l.arrow&&md(r)!=null&&F!==q&&s.reference[v]/2-(F<G?L:O)-_[v]/2<0,$=ee?F<G?F-G:F-Q:0;return{[m]:p[m]+$,data:{[m]:q,centerOffset:F-q-$,...ee&&{alignmentOffset:$}},reset:ee}}}),S8=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:_=!0,...x}=Po(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const g=Lo(r),A=Na(a),S=Lo(a)===a,M=await(l.isRTL==null?void 0:l.isRTL(c.floating)),T=p||(S||!_?[v0(a)]:g8(a)),C=v!=="none";!p&&C&&T.push(...y8(a,_,v,M));const P=[a,...T],B=await oh(e,x),R=[];let L=((i=s.flip)==null?void 0:i.overflows)||[];if(d&&R.push(B[g]),h){const F=m8(r,o,M);R.push(B[F[0]],B[F[1]])}if(L=[...L,{placement:r,overflows:R}],!R.every(F=>F<=0)){var O,G;const F=(((O=s.flip)==null?void 0:O.index)||0)+1,q=P[F];if(q)return{data:{index:F,overflows:L},reset:{placement:q}};let ee=(G=L.filter($=>$.overflows[0]<=0).sort(($,I)=>$.overflows[1]-I.overflows[1])[0])==null?void 0:G.placement;if(!ee)switch(m){case"bestFit":{var Q;const $=(Q=L.filter(I=>{if(C){const V=Na(I.placement);return V===A||V==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(V=>V>0).reduce((V,W)=>V+W,0)]).sort((I,V)=>I[1]-V[1])[0])==null?void 0:Q[0];$&&(ee=$);break}case"initialPlacement":ee=a;break}if(r!==ee)return{reset:{placement:ee}}}return{}}}};function sb(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function ob(n){return f8.some(e=>n[e]>=0)}const w8=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...r}=Po(n,e);switch(i){case"referenceHidden":{const s=await oh(e,{...r,elementContext:"reference"}),o=sb(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ob(o)}}}case"escaped":{const s=await oh(e,{...r,altBoundary:!0}),o=sb(s,t.floating);return{data:{escapedOffsets:o,escaped:ob(o)}}}default:return{}}}}};async function M8(n,e){const{placement:t,platform:i,elements:r}=n,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=Lo(t),a=md(t),l=Na(t)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,h=Po(e,n);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*d,y:p*c}:{x:p*c,y:m*d}}const E8=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:r,y:s,placement:o,middlewareData:a}=e,l=await M8(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:o}}}}},T8=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:g,y:A}=x;return{x:g,y:A}}},...l}=Po(n,e),c={x:t,y:i},d=await oh(e,l),h=Na(Lo(r)),p=uw(h);let m=c[p],v=c[h];if(s){const x=p==="y"?"top":"left",g=p==="y"?"bottom":"right",A=m+d[x],S=m-d[g];m=j_(A,m,S)}if(o){const x=h==="y"?"top":"left",g=h==="y"?"bottom":"right",A=v+d[x],S=v-d[g];v=j_(A,v,S)}const _=a.fn({...e,[p]:m,[h]:v});return{..._,data:{x:_.x-t,y:_.y-i,enabled:{[p]:s,[h]:o}}}}}},C8=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:r,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Po(n,e),d={x:t,y:i},h=Na(r),p=uw(h);let m=d[p],v=d[h];const _=Po(a,e),x=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(l){const S=p==="y"?"height":"width",M=s.reference[p]-s.floating[S]+x.mainAxis,T=s.reference[p]+s.reference[S]-x.mainAxis;m<M?m=M:m>T&&(m=T)}if(c){var g,A;const S=p==="y"?"width":"height",M=["top","left"].includes(Lo(r)),T=s.reference[h]-s.floating[S]+(M&&((g=o.offset)==null?void 0:g[h])||0)+(M?0:x.crossAxis),C=s.reference[h]+s.reference[S]+(M?0:((A=o.offset)==null?void 0:A[h])||0)-(M?x.crossAxis:0);v<T?v=T:v>C&&(v=C)}return{[p]:m,[h]:v}}}},b8=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:r,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Po(n,e),d=await oh(e,c),h=Lo(r),p=md(r),m=Na(r)==="y",{width:v,height:_}=s.floating;let x,g;h==="top"||h==="bottom"?(x=h,g=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=h,x=p==="end"?"top":"bottom");const A=_-d.top-d.bottom,S=v-d.left-d.right,M=Da(_-d[x],A),T=Da(v-d[g],S),C=!e.middlewareData.shift;let P=M,B=T;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(B=S),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(P=A),C&&!p){const L=lr(d.left,0),O=lr(d.right,0),G=lr(d.top,0),Q=lr(d.bottom,0);m?B=v-2*(L!==0||O!==0?L+O:lr(d.left,d.right)):P=_-2*(G!==0||Q!==0?G+Q:lr(d.top,d.bottom))}await l({...e,availableWidth:B,availableHeight:P});const R=await o.getDimensions(a.floating);return v!==R.width||_!==R.height?{reset:{rects:!0}}:{}}}};function cv(){return typeof window<"u"}function gd(n){return rI(n)?(n.nodeName||"").toLowerCase():"#document"}function hr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Js(n){var e;return(e=(rI(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function rI(n){return cv()?n instanceof Node||n instanceof hr(n).Node:!1}function cs(n){return cv()?n instanceof Element||n instanceof hr(n).Element:!1}function Gs(n){return cv()?n instanceof HTMLElement||n instanceof hr(n).HTMLElement:!1}function ab(n){return!cv()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof hr(n).ShadowRoot}function Fh(n){const{overflow:e,overflowX:t,overflowY:i,display:r}=us(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(r)}function R8(n){return["table","td","th"].includes(gd(n))}function uv(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function hw(n){const e=pw(),t=cs(n)?us(n):n;return["transform","translate","scale","rotate","perspective"].some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function P8(n){let e=Fa(n);for(;Gs(e)&&!$u(e);){if(hw(e))return e;if(uv(e))return null;e=Fa(e)}return null}function pw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function $u(n){return["html","body","#document"].includes(gd(n))}function us(n){return hr(n).getComputedStyle(n)}function dv(n){return cs(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Fa(n){if(gd(n)==="html")return n;const e=n.assignedSlot||n.parentNode||ab(n)&&n.host||Js(n);return ab(e)?e.host:e}function sI(n){const e=Fa(n);return $u(e)?n.ownerDocument?n.ownerDocument.body:n.body:Gs(e)&&Fh(e)?e:sI(e)}function ah(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=sI(n),s=r===((i=n.ownerDocument)==null?void 0:i.body),o=hr(r);if(s){const a=J_(o);return e.concat(o,o.visualViewport||[],Fh(r)?r:[],a&&t?ah(a):[])}return e.concat(r,ah(r,[],t))}function J_(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function oI(n){const e=us(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=Gs(n),s=r?n.offsetWidth:t,o=r?n.offsetHeight:i,a=g0(t)!==s||g0(i)!==o;return a&&(t=s,i=o),{width:t,height:i,$:a}}function mw(n){return cs(n)?n:n.contextElement}function Lu(n){const e=mw(n);if(!Gs(e))return Ns(1);const t=e.getBoundingClientRect(),{width:i,height:r,$:s}=oI(e);let o=(s?g0(t.width):t.width)/i,a=(s?g0(t.height):t.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const L8=Ns(0);function aI(n){const e=hr(n);return!pw()||!e.visualViewport?L8:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function B8(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==hr(n)?!1:e}function Zl(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=mw(n);let o=Ns(1);e&&(i?cs(i)&&(o=Lu(i)):o=Lu(n));const a=B8(s,t,i)?aI(s):Ns(0);let l=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,d=r.width/o.x,h=r.height/o.y;if(s){const p=hr(s),m=i&&cs(i)?hr(i):i;let v=p,_=J_(v);for(;_&&i&&m!==v;){const x=Lu(_),g=_.getBoundingClientRect(),A=us(_),S=g.left+(_.clientLeft+parseFloat(A.paddingLeft))*x.x,M=g.top+(_.clientTop+parseFloat(A.paddingTop))*x.y;l*=x.x,c*=x.y,d*=x.x,h*=x.y,l+=S,c+=M,v=hr(_),_=J_(v)}}return y0({width:d,height:h,x:l,y:c})}function gw(n,e){const t=dv(n).scrollLeft;return e?e.left+t:Zl(Js(n)).left+t}function lI(n,e,t){t===void 0&&(t=!1);const i=n.getBoundingClientRect(),r=i.left+e.scrollLeft-(t?0:gw(n,i)),s=i.top+e.scrollTop;return{x:r,y:s}}function I8(n){let{elements:e,rect:t,offsetParent:i,strategy:r}=n;const s=r==="fixed",o=Js(i),a=e?uv(e.floating):!1;if(i===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=Ns(1);const d=Ns(0),h=Gs(i);if((h||!h&&!s)&&((gd(i)!=="body"||Fh(o))&&(l=dv(i)),Gs(i))){const m=Zl(i);c=Lu(i),d.x=m.x+i.clientLeft,d.y=m.y+i.clientTop}const p=o&&!h&&!s?lI(o,l,!0):Ns(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:t.y*c.y-l.scrollTop*c.y+d.y+p.y}}function D8(n){return Array.from(n.getClientRects())}function N8(n){const e=Js(n),t=dv(n),i=n.ownerDocument.body,r=lr(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=lr(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-t.scrollLeft+gw(n);const a=-t.scrollTop;return us(i).direction==="rtl"&&(o+=lr(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:a}}function F8(n,e){const t=hr(n),i=Js(n),r=t.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;const c=pw();(!c||c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a,y:l}}function O8(n,e){const t=Zl(n,!0,e==="fixed"),i=t.top+n.clientTop,r=t.left+n.clientLeft,s=Gs(n)?Lu(n):Ns(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=r*s.x,c=i*s.y;return{width:o,height:a,x:l,y:c}}function lb(n,e,t){let i;if(e==="viewport")i=F8(n,t);else if(e==="document")i=N8(Js(n));else if(cs(e))i=O8(e,t);else{const r=aI(n);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return y0(i)}function cI(n,e){const t=Fa(n);return t===e||!cs(t)||$u(t)?!1:us(t).position==="fixed"||cI(t,e)}function k8(n,e){const t=e.get(n);if(t)return t;let i=ah(n,[],!1).filter(a=>cs(a)&&gd(a)!=="body"),r=null;const s=us(n).position==="fixed";let o=s?Fa(n):n;for(;cs(o)&&!$u(o);){const a=us(o),l=hw(o);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Fh(o)&&!l&&cI(n,o))?i=i.filter(d=>d!==o):r=a,o=Fa(o)}return e.set(n,i),i}function U8(n){let{element:e,boundary:t,rootBoundary:i,strategy:r}=n;const o=[...t==="clippingAncestors"?uv(e)?[]:k8(e,this._c):[].concat(t),i],a=o[0],l=o.reduce((c,d)=>{const h=lb(e,d,r);return c.top=lr(h.top,c.top),c.right=Da(h.right,c.right),c.bottom=Da(h.bottom,c.bottom),c.left=lr(h.left,c.left),c},lb(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function z8(n){const{width:e,height:t}=oI(n);return{width:e,height:t}}function H8(n,e,t){const i=Gs(e),r=Js(e),s=t==="fixed",o=Zl(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Ns(0);if(i||!i&&!s)if((gd(e)!=="body"||Fh(r))&&(a=dv(e)),i){const p=Zl(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else r&&(l.x=gw(r));const c=r&&!i&&!s?lI(r,a):Ns(0),d=o.left+a.scrollLeft-l.x-c.x,h=o.top+a.scrollTop-l.y-c.y;return{x:d,y:h,width:o.width,height:o.height}}function Nx(n){return us(n).position==="static"}function cb(n,e){if(!Gs(n)||us(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Js(n)===t&&(t=t.ownerDocument.body),t}function uI(n,e){const t=hr(n);if(uv(n))return t;if(!Gs(n)){let r=Fa(n);for(;r&&!$u(r);){if(cs(r)&&!Nx(r))return r;r=Fa(r)}return t}let i=cb(n,e);for(;i&&R8(i)&&Nx(i);)i=cb(i,e);return i&&$u(i)&&Nx(i)&&!hw(i)?t:i||P8(n)||t}const G8=async function(n){const e=this.getOffsetParent||uI,t=this.getDimensions,i=await t(n.floating);return{reference:H8(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function V8(n){return us(n).direction==="rtl"}const W8={convertOffsetParentRelativeRectToViewportRelativeRect:I8,getDocumentElement:Js,getClippingRect:U8,getOffsetParent:uI,getElementRects:G8,getClientRects:D8,getDimensions:z8,getScale:Lu,isElement:cs,isRTL:V8};function dI(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function j8(n,e){let t=null,i;const r=Js(n);function s(){var a;clearTimeout(i),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=n.getBoundingClientRect(),{left:d,top:h,width:p,height:m}=c;if(a||e(),!p||!m)return;const v=ym(h),_=ym(r.clientWidth-(d+p)),x=ym(r.clientHeight-(h+m)),g=ym(d),S={rootMargin:-v+"px "+-_+"px "+-x+"px "+-g+"px",threshold:lr(0,Da(1,l))||1};let M=!0;function T(C){const P=C[0].intersectionRatio;if(P!==l){if(!M)return o();P?o(!1,P):i=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!dI(c,n.getBoundingClientRect())&&o(),M=!1}try{t=new IntersectionObserver(T,{...S,root:r.ownerDocument})}catch{t=new IntersectionObserver(T,S)}t.observe(n)}return o(!0),s}function X8(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=mw(n),d=r||s?[...c?ah(c):[],...ah(e)]:[];d.forEach(g=>{r&&g.addEventListener("scroll",t,{passive:!0}),s&&g.addEventListener("resize",t)});const h=c&&a?j8(c,t):null;let p=-1,m=null;o&&(m=new ResizeObserver(g=>{let[A]=g;A&&A.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(e)})),t()}),c&&!l&&m.observe(c),m.observe(e));let v,_=l?Zl(n):null;l&&x();function x(){const g=Zl(n);_&&!dI(_,g)&&t(),_=g,v=requestAnimationFrame(x)}return t(),()=>{var g;d.forEach(A=>{r&&A.removeEventListener("scroll",t),s&&A.removeEventListener("resize",t)}),h==null||h(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const J8=E8,K8=T8,Y8=S8,Q8=b8,q8=w8,ub=A8,Z8=C8,$8=(n,e,t)=>{const i=new Map,r={platform:W8,...t},s={...r.platform,_c:i};return _8(n,e,{...r,platform:s})};var Bg=typeof document<"u"?D.useLayoutEffect:D.useEffect;function x0(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!x0(n[i],e[i]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=t;i--!==0;){const s=r[i];if(!(s==="_owner"&&n.$$typeof)&&!x0(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function fI(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function db(n,e){const t=fI(n);return Math.round(e*t)/t}function Fx(n){const e=D.useRef(n);return Bg(()=>{e.current=n}),e}function eG(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[d,h]=D.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=D.useState(i);x0(p,i)||m(i);const[v,_]=D.useState(null),[x,g]=D.useState(null),A=D.useCallback(I=>{I!==C.current&&(C.current=I,_(I))},[]),S=D.useCallback(I=>{I!==P.current&&(P.current=I,g(I))},[]),M=s||v,T=o||x,C=D.useRef(null),P=D.useRef(null),B=D.useRef(d),R=l!=null,L=Fx(l),O=Fx(r),G=Fx(c),Q=D.useCallback(()=>{if(!C.current||!P.current)return;const I={placement:e,strategy:t,middleware:p};O.current&&(I.platform=O.current),$8(C.current,P.current,I).then(V=>{const W={...V,isPositioned:G.current!==!1};F.current&&!x0(B.current,W)&&(B.current=W,Nh.flushSync(()=>{h(W)}))})},[p,e,t,O,G]);Bg(()=>{c===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,h(I=>({...I,isPositioned:!1})))},[c]);const F=D.useRef(!1);Bg(()=>(F.current=!0,()=>{F.current=!1}),[]),Bg(()=>{if(M&&(C.current=M),T&&(P.current=T),M&&T){if(L.current)return L.current(M,T,Q);Q()}},[M,T,Q,L,R]);const q=D.useMemo(()=>({reference:C,floating:P,setReference:A,setFloating:S}),[A,S]),ee=D.useMemo(()=>({reference:M,floating:T}),[M,T]),$=D.useMemo(()=>{const I={position:t,left:0,top:0};if(!ee.floating)return I;const V=db(ee.floating,d.x),W=db(ee.floating,d.y);return a?{...I,transform:"translate("+V+"px, "+W+"px)",...fI(ee.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:V,top:W}},[t,a,ee.floating,d.x,d.y]);return D.useMemo(()=>({...d,update:Q,refs:q,elements:ee,floatingStyles:$}),[d,Q,q,ee,$])}const tG=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:r}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?ub({element:i.current,padding:r}).fn(t):{}:i?ub({element:i,padding:r}).fn(t):{}}}},nG=(n,e)=>({...J8(n),options:[n,e]}),iG=(n,e)=>({...K8(n),options:[n,e]}),rG=(n,e)=>({...Z8(n),options:[n,e]}),sG=(n,e)=>({...Y8(n),options:[n,e]}),oG=(n,e)=>({...Q8(n),options:[n,e]}),aG=(n,e)=>({...q8(n),options:[n,e]}),lG=(n,e)=>({...tG(n),options:[n,e]});var cG="Arrow",hI=D.forwardRef((n,e)=>{const{children:t,width:i=10,height:r=5,...s}=n;return U.jsx(Qi.svg,{...s,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:U.jsx("polygon",{points:"0,0 30,0 15,10"})})});hI.displayName=cG;var uG=hI;function dG(n){const[e,t]=D.useState(void 0);return ql(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var pI="Popper",[mI,gI]=rv(pI),[Hee,vI]=mI(pI),yI="PopperAnchor",xI=D.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...r}=n,s=vI(yI,t),o=D.useRef(null),a=ls(e,o);return D.useEffect(()=>{s.onAnchorChange((i==null?void 0:i.current)||o.current)}),i?null:U.jsx(Qi.div,{...r,ref:a})});xI.displayName=yI;var vw="PopperContent",[fG,hG]=mI(vw),_I=D.forwardRef((n,e)=>{var Be,Oe,Je,ot,He,J;const{__scopePopper:t,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:v,..._}=n,x=vI(vw,t),[g,A]=D.useState(null),S=ls(e,pe=>A(pe)),[M,T]=D.useState(null),C=dG(M),P=(C==null?void 0:C.width)??0,B=(C==null?void 0:C.height)??0,R=i+(s!=="center"?"-"+s:""),L=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(c)?c:[c],G=O.length>0,Q={padding:L,boundary:O.filter(mG),altBoundary:G},{refs:F,floatingStyles:q,placement:ee,isPositioned:$,middlewareData:I}=eG({strategy:"fixed",placement:R,whileElementsMounted:(...pe)=>X8(...pe,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[nG({mainAxis:r+B,alignmentAxis:o}),l&&iG({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?rG():void 0,...Q}),l&&sG({...Q}),oG({...Q,apply:({elements:pe,rects:re,availableWidth:_e,availableHeight:ye})=>{const{width:Ye,height:ke}=re.reference,We=pe.floating.style;We.setProperty("--radix-popper-available-width",`${_e}px`),We.setProperty("--radix-popper-available-height",`${ye}px`),We.setProperty("--radix-popper-anchor-width",`${Ye}px`),We.setProperty("--radix-popper-anchor-height",`${ke}px`)}}),M&&lG({element:M,padding:a}),gG({arrowWidth:P,arrowHeight:B}),p&&aG({strategy:"referenceHidden",...Q})]}),[V,W]=wI(ee),z=Hs(v);ql(()=>{$&&(z==null||z())},[$,z]);const K=(Be=I.arrow)==null?void 0:Be.x,ue=(Oe=I.arrow)==null?void 0:Oe.y,ve=((Je=I.arrow)==null?void 0:Je.centerOffset)!==0,[Ae,be]=D.useState();return ql(()=>{g&&be(window.getComputedStyle(g).zIndex)},[g]),U.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:$?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ae,"--radix-popper-transform-origin":[(ot=I.transformOrigin)==null?void 0:ot.x,(He=I.transformOrigin)==null?void 0:He.y].join(" "),...((J=I.hide)==null?void 0:J.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:U.jsx(fG,{scope:t,placedSide:V,onArrowChange:T,arrowX:K,arrowY:ue,shouldHideArrow:ve,children:U.jsx(Qi.div,{"data-side":V,"data-align":W,..._,ref:S,style:{..._.style,animation:$?void 0:"none"}})})})});_I.displayName=vw;var AI="PopperArrow",pG={top:"bottom",right:"left",bottom:"top",left:"right"},SI=D.forwardRef(function(e,t){const{__scopePopper:i,...r}=e,s=hG(AI,i),o=pG[s.placedSide];return U.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:U.jsx(uG,{...r,ref:t,style:{...r.style,display:"block"}})})});SI.displayName=AI;function mG(n){return n!==null}var gG=n=>({name:"transformOrigin",options:n,fn(e){var x,g,A;const{placement:t,rects:i,middlewareData:r}=e,o=((x=r.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[c,d]=wI(t),h={start:"0%",center:"50%",end:"100%"}[d],p=(((g=r.arrow)==null?void 0:g.x)??0)+a/2,m=(((A=r.arrow)==null?void 0:A.y)??0)+l/2;let v="",_="";return c==="bottom"?(v=o?h:`${p}px`,_=`${-l}px`):c==="top"?(v=o?h:`${p}px`,_=`${i.floating.height+l}px`):c==="right"?(v=`${-l}px`,_=o?h:`${m}px`):c==="left"&&(v=`${i.floating.width+l}px`,_=o?h:`${m}px`),{data:{x:v,y:_}}}});function wI(n){const[e,t="center"]=n.split("-");return[e,t]}var vG=xI,yG=_I,xG=SI,[fv,Gee]=rv("Tooltip",[gI]),yw=gI(),MI="TooltipProvider",_G=700,fb="tooltip.open",[AG,EI]=fv(MI),TI=n=>{const{__scopeTooltip:e,delayDuration:t=_G,skipDelayDuration:i=300,disableHoverableContent:r=!1,children:s}=n,o=D.useRef(!0),a=D.useRef(!1),l=D.useRef(0);return D.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),U.jsx(AG,{scope:e,isOpenDelayedRef:o,delayDuration:t,onOpen:D.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:D.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,i)},[i]),isPointerInTransitRef:a,onPointerInTransitChange:D.useCallback(c=>{a.current=c},[]),disableHoverableContent:r,children:s})};TI.displayName=MI;var CI="Tooltip",[Vee,hv]=fv(CI),K_="TooltipTrigger",SG=D.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=hv(K_,t),s=EI(K_,t),o=yw(t),a=D.useRef(null),l=ls(e,a,r.onTriggerChange),c=D.useRef(!1),d=D.useRef(!1),h=D.useCallback(()=>c.current=!1,[]);return D.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),U.jsx(vG,{asChild:!0,...o,children:U.jsx(Qi.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...i,ref:l,onPointerMove:On(n.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),d.current=!0)}),onPointerLeave:On(n.onPointerLeave,()=>{r.onTriggerLeave(),d.current=!1}),onPointerDown:On(n.onPointerDown,()=>{r.open&&r.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:On(n.onFocus,()=>{c.current||r.onOpen()}),onBlur:On(n.onBlur,r.onClose),onClick:On(n.onClick,r.onClose)})})});SG.displayName=K_;var wG="TooltipPortal",[Wee,MG]=fv(wG,{forceMount:void 0}),ed="TooltipContent",bI=D.forwardRef((n,e)=>{const t=MG(ed,n.__scopeTooltip),{forceMount:i=t.forceMount,side:r="top",...s}=n,o=hv(ed,n.__scopeTooltip);return U.jsx(sw,{present:i||o.open,children:o.disableHoverableContent?U.jsx(RI,{side:r,...s,ref:e}):U.jsx(EG,{side:r,...s,ref:e})})}),EG=D.forwardRef((n,e)=>{const t=hv(ed,n.__scopeTooltip),i=EI(ed,n.__scopeTooltip),r=D.useRef(null),s=ls(e,r),[o,a]=D.useState(null),{trigger:l,onClose:c}=t,d=r.current,{onPointerInTransitChange:h}=i,p=D.useCallback(()=>{a(null),h(!1)},[h]),m=D.useCallback((v,_)=>{const x=v.currentTarget,g={x:v.clientX,y:v.clientY},A=PG(g,x.getBoundingClientRect()),S=LG(g,A),M=BG(_.getBoundingClientRect()),T=DG([...S,...M]);a(T),h(!0)},[h]);return D.useEffect(()=>()=>p(),[p]),D.useEffect(()=>{if(l&&d){const v=x=>m(x,d),_=x=>m(x,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",_),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",_)}}},[l,d,m,p]),D.useEffect(()=>{if(o){const v=_=>{const x=_.target,g={x:_.clientX,y:_.clientY},A=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),S=!IG(g,o);A?p():S&&(p(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,o,c,p]),U.jsx(RI,{...n,ref:s})}),[TG,CG]=fv(CI,{isInside:!1}),bG=Cz("TooltipContent"),RI=D.forwardRef((n,e)=>{const{__scopeTooltip:t,children:i,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,l=hv(ed,t),c=yw(t),{onClose:d}=l;return D.useEffect(()=>(document.addEventListener(fb,d),()=>document.removeEventListener(fb,d)),[d]),D.useEffect(()=>{if(l.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),U.jsx(rw,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:U.jsxs(yG,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[U.jsx(bG,{children:i}),U.jsx(TG,{scope:t,isInside:!0,children:U.jsx(Yz,{id:l.contentId,role:"tooltip",children:r||i})})]})})});bI.displayName=ed;var PI="TooltipArrow",RG=D.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=yw(t);return CG(PI,t).isInside?null:U.jsx(xG,{...r,...i,ref:e})});RG.displayName=PI;function PG(n,e){const t=Math.abs(e.top-n.y),i=Math.abs(e.bottom-n.y),r=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,i,r,s)){case s:return"left";case r:return"right";case t:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function LG(n,e,t=5){const i=[];switch(e){case"top":i.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":i.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":i.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":i.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return i}function BG(n){const{top:e,right:t,bottom:i,left:r}=n;return[{x:r,y:e},{x:t,y:e},{x:t,y:i},{x:r,y:i}]}function IG(n,e){const{x:t,y:i}=n;let r=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,d=e[o].y;l>i!=d>i&&t<(c-a)*(i-l)/(d-l)+a&&(r=!r)}return r}function DG(n){const e=n.slice();return e.sort((t,i)=>t.x<i.x?-1:t.x>i.x?1:t.y<i.y?-1:t.y>i.y?1:0),NG(e)}function NG(n){if(n.length<=1)return n.slice();const e=[];for(let i=0;i<n.length;i++){const r=n[i];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const t=[];for(let i=n.length-1;i>=0;i--){const r=n[i];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var FG=TI,LI=bI;const OG=FG,kG=D.forwardRef(({className:n,sideOffset:e=4,...t},i)=>U.jsx(LI,{ref:i,sideOffset:e,className:Zi("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",n),...t}));kG.displayName=LI.displayName;const BI=D.createContext(void 0);function UG({children:n,defaultTheme:e="dark"}){const[t,i]=D.useState(e);return D.useEffect(()=>{const r=document.documentElement;r.classList.remove("light","dark"),r.classList.add(t)},[t]),U.jsx(BI.Provider,{value:{theme:t,setTheme:i},children:n})}function zG(){const n=D.useContext(BI);if(!n)throw new Error("useTheme must be used within a ThemeProvider");return n}function II(n,e,t){return Math.max(n,Math.min(e,t))}class HG{advance(e){var a;if(!this.isRunning)return;let t=!1;if(this.lerp)this.value=(i=this.value,r=this.to,s=60*this.lerp,o=e,function(l,c,d){return(1-d)*l+d*c}(i,r,1-Math.exp(-s*o))),Math.round(this.value)===this.to&&(this.value=this.to,t=!0);else{this.currentTime+=e;const l=II(0,this.currentTime/this.duration,1);t=l>=1;const c=t?1:this.easing(l);this.value=this.from+(this.to-this.from)*c}var i,r,s,o;(a=this.onUpdate)==null||a.call(this,this.value,t),t&&this.stop()}stop(){this.isRunning=!1}fromTo(e,t,{lerp:i=.1,duration:r=1,easing:s=l=>l,onStart:o,onUpdate:a}){this.from=this.value=e,this.to=t,this.lerp=i,this.duration=r,this.easing=s,this.currentTime=0,this.isRunning=!0,o==null||o(),this.onUpdate=a}}class GG{constructor({wrapper:e,content:t,autoResize:i=!0,debounce:r=250}={}){eo(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});eo(this,"onWrapperResize",()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});eo(this,"onContentResize",()=>{this.wrapper===window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=e,this.content=t,i&&(this.debouncedResize=function(s,o){let a;return function(){let l=arguments,c=this;clearTimeout(a),a=setTimeout(function(){s.apply(c,l)},o)}}(this.resize,r),this.wrapper===window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var e,t;(e=this.wrapperResizeObserver)==null||e.disconnect(),(t=this.contentResizeObserver)==null||t.disconnect(),window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}class DI{constructor(){this.events={}}emit(e,...t){let i=this.events[e]||[];for(let r=0,s=i.length;r<s;r++)i[r](...t)}on(e,t){var i;return(i=this.events[e])!=null&&i.push(t)||(this.events[e]=[t]),()=>{var r;this.events[e]=(r=this.events[e])==null?void 0:r.filter(s=>t!==s)}}off(e,t){var i;this.events[e]=(i=this.events[e])==null?void 0:i.filter(r=>t!==r)}destroy(){this.events={}}}const hb=100/6;class VG{constructor(e,{wheelMultiplier:t=1,touchMultiplier:i=1}){eo(this,"onTouchStart",e=>{const{clientX:t,clientY:i}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=t,this.touchStart.y=i,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})});eo(this,"onTouchMove",e=>{const{clientX:t,clientY:i}=e.targetTouches?e.targetTouches[0]:e,r=-(t-this.touchStart.x)*this.touchMultiplier,s=-(i-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=t,this.touchStart.y=i,this.lastDelta={x:r,y:s},this.emitter.emit("scroll",{deltaX:r,deltaY:s,event:e})});eo(this,"onTouchEnd",e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})});eo(this,"onWheel",e=>{let{deltaX:t,deltaY:i,deltaMode:r}=e;t*=r===1?hb:r===2?this.windowWidth:1,i*=r===1?hb:r===2?this.windowHeight:1,t*=this.wheelMultiplier,i*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:t,deltaY:i,event:e})});eo(this,"onWindowResize",()=>{this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight});this.element=e,this.wheelMultiplier=t,this.touchMultiplier=i,this.touchStart={x:null,y:null},this.emitter=new DI,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(e,t){return this.emitter.on(e,t)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}}class WG{constructor({wrapper:e=window,content:t=document.documentElement,wheelEventsTarget:i=e,eventsTarget:r=i,smoothWheel:s=!0,syncTouch:o=!1,syncTouchLerp:a=.075,touchInertiaMultiplier:l=35,duration:c,easing:d=S=>Math.min(1,1.001-Math.pow(2,-10*S)),lerp:h=!c&&.1,infinite:p=!1,orientation:m="vertical",gestureOrientation:v="vertical",touchMultiplier:_=1,wheelMultiplier:x=1,autoResize:g=!0,__experimental__naiveDimensions:A=!1}={}){this.__isSmooth=!1,this.__isScrolling=!1,this.__isStopped=!1,this.__isLocked=!1,this.onVirtualScroll=({deltaX:S,deltaY:M,event:T})=>{if(T.ctrlKey)return;const C=T.type.includes("touch"),P=T.type.includes("wheel");if(this.options.syncTouch&&C&&T.type==="touchstart"&&!this.isStopped&&!this.isLocked)return void this.reset();const B=S===0&&M===0,R=this.options.gestureOrientation==="vertical"&&M===0||this.options.gestureOrientation==="horizontal"&&S===0;if(B||R)return;let L=T.composedPath();if(L=L.slice(0,L.indexOf(this.rootElement)),L.find(F=>{var q,ee,$,I,V;return((q=F.hasAttribute)===null||q===void 0?void 0:q.call(F,"data-lenis-prevent"))||C&&((ee=F.hasAttribute)===null||ee===void 0?void 0:ee.call(F,"data-lenis-prevent-touch"))||P&&(($=F.hasAttribute)===null||$===void 0?void 0:$.call(F,"data-lenis-prevent-wheel"))||((I=F.classList)===null||I===void 0?void 0:I.contains("lenis"))&&!(!((V=F.classList)===null||V===void 0)&&V.contains("lenis-stopped"))}))return;if(this.isStopped||this.isLocked)return void T.preventDefault();if(this.isSmooth=this.options.syncTouch&&C||this.options.smoothWheel&&P,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();T.preventDefault();let O=M;this.options.gestureOrientation==="both"?O=Math.abs(M)>Math.abs(S)?M:S:this.options.gestureOrientation==="horizontal"&&(O=S);const G=C&&this.options.syncTouch,Q=C&&T.type==="touchend"&&Math.abs(O)>5;Q&&(O=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+O,Object.assign({programmatic:!1},G?{lerp:Q?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(!this.__preventNextScrollEvent&&!this.isScrolling){const S=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-S),this.emit()}},window.lenisVersion="1.0.42",e!==document.documentElement&&e!==document.body||(e=window),this.options={wrapper:e,content:t,wheelEventsTarget:i,eventsTarget:r,smoothWheel:s,syncTouch:o,syncTouchLerp:a,touchInertiaMultiplier:l,duration:c,easing:d,lerp:h,infinite:p,gestureOrientation:v,orientation:m,touchMultiplier:_,wheelMultiplier:x,autoResize:g,__experimental__naiveDimensions:A},this.animate=new HG,this.emitter=new DI,this.dimensions=new GG({wrapper:e,content:t,autoResize:g}),this.toggleClassName("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=o||s,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll=new VG(r,{touchMultiplier:_,wheelMultiplier:x}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClassName("lenis",!1),this.toggleClassName("lenis-smooth",!1),this.toggleClassName("lenis-scrolling",!1),this.toggleClassName("lenis-stopped",!1),this.toggleClassName("lenis-locked",!1)}on(e,t){return this.emitter.on(e,t)}off(e,t){return this.emitter.off(e,t)}setScroll(e){this.isHorizontal?this.rootElement.scrollLeft=e:this.rootElement.scrollTop=e}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(e){const t=e-(this.time||e);this.time=e,this.animate.advance(.001*t)}scrollTo(e,{offset:t=0,immediate:i=!1,lock:r=!1,duration:s=this.options.duration,easing:o=this.options.easing,lerp:a=!s&&this.options.lerp,onComplete:l,force:c=!1,programmatic:d=!0}={}){if(!this.isStopped&&!this.isLocked||c){if(["top","left","start"].includes(e))e=0;else if(["bottom","right","end"].includes(e))e=this.limit;else{let h;if(typeof e=="string"?h=document.querySelector(e):e!=null&&e.nodeType&&(h=e),h){if(this.options.wrapper!==window){const m=this.options.wrapper.getBoundingClientRect();t-=this.isHorizontal?m.left:m.top}const p=h.getBoundingClientRect();e=(this.isHorizontal?p.left:p.top)+this.animatedScroll}}if(typeof e=="number"){if(e+=t,e=Math.round(e),this.options.infinite?d&&(this.targetScroll=this.animatedScroll=this.scroll):e=II(0,e,this.limit),i)return this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),void(l==null||l(this));if(!d){if(e===this.targetScroll)return;this.targetScroll=e}this.animate.fromTo(this.animatedScroll,e,{duration:s,easing:o,lerp:a,onStart:()=>{r&&(this.isLocked=!0),this.isScrolling=!0},onUpdate:(h,p)=>{this.isScrolling=!0,this.velocity=h-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=h,this.setScroll(this.scroll),d&&(this.targetScroll=h),p||this.emit(),p&&(this.reset(),this.emit(),l==null||l(this),this.__preventNextScrollEvent=!0,requestAnimationFrame(()=>{delete this.__preventNextScrollEvent}))}})}}}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?(e=this.animatedScroll,t=this.limit,(e%t+t)%t):this.animatedScroll;var e,t}get progress(){return this.limit===0?1:this.scroll/this.limit}get isSmooth(){return this.__isSmooth}set isSmooth(e){this.__isSmooth!==e&&(this.__isSmooth=e,this.toggleClassName("lenis-smooth",e))}get isScrolling(){return this.__isScrolling}set isScrolling(e){this.__isScrolling!==e&&(this.__isScrolling=e,this.toggleClassName("lenis-scrolling",e))}get isStopped(){return this.__isStopped}set isStopped(e){this.__isStopped!==e&&(this.__isStopped=e,this.toggleClassName("lenis-stopped",e))}get isLocked(){return this.__isLocked}set isLocked(e){this.__isLocked!==e&&(this.__isLocked=e,this.toggleClassName("lenis-locked",e))}get className(){let e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isSmooth&&(e+=" lenis-smooth"),e}toggleClassName(e,t){this.rootElement.classList.toggle(e,t),this.emitter.emit("className change",this)}}class va{constructor(){this.state={isLocked:!1,currentSection:null,lockUntil:0},this.listeners=new Set}static getInstance(){return va.instance||(va.instance=new va),va.instance}lock(e,t){this.state.isLocked=!0,this.state.currentSection=e,this.state.lockUntil=Date.now()+t,this.notifyListeners(),setTimeout(()=>{this.state.lockUntil<=Date.now()&&this.unlock()},t)}unlock(){this.state.isLocked=!1,this.state.currentSection=null,this.state.lockUntil=0,this.notifyListeners()}isLocked(){return Date.now()>this.state.lockUntil&&(this.state.isLocked=!1),this.state.isLocked}getCurrentSection(){return this.state.currentSection}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}notifyListeners(){this.listeners.forEach(e=>e())}}function jG({children:n}){const e=D.useRef(null);return D.useEffect(()=>{const t=new WG({duration:1.2,easing:s=>1-Math.pow(1-s,3),lerp:.1,wheelMultiplier:1.2,infinite:!1});e.current=t,window.lenis=t,va.getInstance();const i=t.scrollTo.bind(t);t.scrollTo=function(s,o){return i(s,o)};const r=s=>{t.raf(s),requestAnimationFrame(r)};return requestAnimationFrame(r),()=>{t.destroy(),e.current=null,window.lenis=null}},[]),D.useEffect(()=>(document.documentElement.style.scrollBehavior="auto",()=>{document.documentElement.style.scrollBehavior=""}),[]),U.jsx("div",{className:"w-screen min-h-screen",children:n})}const XG=jB("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),$l=D.forwardRef(({className:n,variant:e,size:t,asChild:i=!1,...r},s)=>{const o=i?Ez:"button";return U.jsx(o,{className:Zi(XG({variant:e,size:t,className:n})),ref:s,...r})});$l.displayName="Button";function JG(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,r)=>r==="create"?n:(e.has(r)||e.set(r,n(r)),e.get(r))})}function pv(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Y_=n=>Array.isArray(n);function NI(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function lh(n){return typeof n=="string"||Array.isArray(n)}function pb(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function xw(n,e,t,i){if(typeof e=="function"){const[r,s]=pb(i);e=e(t!==void 0?t:n.custom,r,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,s]=pb(i);e=e(t!==void 0?t:n.custom,r,s)}return e}function mv(n,e,t){const i=n.getProps();return xw(i,e,t!==void 0?t:i.custom,n)}const _w=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Aw=["initial",..._w],Oh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],cc=new Set(Oh),Ao=n=>n*1e3,So=n=>n/1e3,KG={type:"spring",stiffness:500,damping:25,restSpeed:10},YG=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),QG={type:"keyframes",duration:.8},qG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZG=(n,{keyframes:e})=>e.length>2?QG:cc.has(n)?n.startsWith("scale")?YG(e[1]):KG:qG;function Sw(n,e){return n?n[e]||n.default||n:void 0}const $G={skipAnimations:!1,useManualTiming:!1},e6=n=>n!==null;function gv(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter(e6),s=e&&t!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const Ai=n=>n;let Q_=Ai;function t6(n){let e=new Set,t=new Set,i=!1,r=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),n()),c(o)}const l={schedule:(c,d=!1,h=!1)=>{const m=h&&i?e:t;return d&&s.add(c),m.has(c)||m.add(c),c},cancel:c=>{t.delete(c),s.delete(c)},process:c=>{if(o=c,i){r=!0;return}i=!0,[e,t]=[t,e],t.clear(),e.forEach(a),i=!1,r&&(r=!1,l.process(c))}};return l}const xm=["read","resolveKeyframes","update","preRender","render","postRender"],n6=40;function FI(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,o=xm.reduce((g,A)=>(g[A]=t6(s),g),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:h,postRender:p}=o,m=()=>{const g=performance.now();t=!1,r.delta=i?1e3/60:Math.max(Math.min(g-r.timestamp,n6),1),r.timestamp=g,r.isProcessing=!0,a.process(r),l.process(r),c.process(r),d.process(r),h.process(r),p.process(r),r.isProcessing=!1,t&&e&&(i=!1,n(m))},v=()=>{t=!0,i=!0,r.isProcessing||n(m)};return{schedule:xm.reduce((g,A)=>{const S=o[A];return g[A]=(M,T=!1,C=!1)=>(t||v(),S.schedule(M,T,C)),g},{}),cancel:g=>{for(let A=0;A<xm.length;A++)o[xm[A]].cancel(g)},state:r,steps:o}}const{schedule:Jt,cancel:Oa,state:ri,steps:Ox}=FI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ai,!0),OI=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,i6=1e-7,r6=12;function s6(n,e,t,i,r){let s,o,a=0;do o=e+(t-e)/2,s=OI(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>i6&&++a<r6);return o}function kh(n,e,t,i){if(n===e&&t===i)return Ai;const r=s=>s6(s,0,1,n,t);return s=>s===0||s===1?s:OI(r(s),e,i)}const kI=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,UI=n=>e=>1-n(1-e),zI=kh(.33,1.53,.69,.99),ww=UI(zI),HI=kI(ww),GI=n=>(n*=2)<1?.5*ww(n):.5*(2-Math.pow(2,-10*(n-1))),Mw=n=>1-Math.sin(Math.acos(n)),VI=UI(Mw),WI=kI(Mw),jI=n=>/^0[^.\s]+$/u.test(n);function o6(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||jI(n):!0}const XI=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),JI=n=>e=>typeof e=="string"&&e.startsWith(n),KI=JI("--"),a6=JI("var(--"),Ew=n=>a6(n)?l6.test(n.split("/*")[0].trim()):!1,l6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,c6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function u6(n){const e=c6.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function YI(n,e,t=1){const[i,r]=u6(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return XI(o)?parseFloat(o):o}return Ew(r)?YI(r,e,t+1):r}const Bo=(n,e,t)=>t>e?e:t<n?n:t,vd={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ch={...vd,transform:n=>Bo(0,1,n)},_m={...vd,default:1},Uh=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ra=Uh("deg"),Fs=Uh("%"),ct=Uh("px"),d6=Uh("vh"),f6=Uh("vw"),mb={...Fs,parse:n=>Fs.parse(n)/100,transform:n=>Fs.transform(n*100)},h6=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),gb=n=>n===vd||n===ct,vb=(n,e)=>parseFloat(n.split(", ")[e]),yb=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return vb(r[1],e);{const s=i.match(/^matrix\((.+)\)$/u);return s?vb(s[1],n):0}},p6=new Set(["x","y","z"]),m6=Oh.filter(n=>!p6.has(n));function g6(n){const e=[];return m6.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const td={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:yb(4,13),y:yb(5,14)};td.translateX=td.x;td.translateY=td.y;const QI=n=>e=>e.test(n),v6={test:n=>n==="auto",parse:n=>n},qI=[vd,ct,Fs,ra,f6,d6,v6],xb=n=>qI.find(QI(n)),Hl=new Set;let q_=!1,Z_=!1;function ZI(){if(Z_){const n=Array.from(Hl).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=g6(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))===null||a===void 0||a.set(o)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Z_=!1,q_=!1,Hl.forEach(n=>n.complete()),Hl.clear()}function $I(){Hl.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Z_=!0)})}function y6(){$I(),ZI()}class Tw{constructor(e,t,i,r,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Hl.add(this),q_||(q_=!0,Jt.read($I),Jt.resolveKeyframes(ZI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=r==null?void 0:r.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&t){const l=i.readValue(t,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),r&&o===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Hl.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Hl.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const If=n=>Math.round(n*1e5)/1e5,Cw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function x6(n){return n==null}const _6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bw=(n,e)=>t=>!!(typeof t=="string"&&_6.test(t)&&t.startsWith(n)||e&&!x6(t)&&Object.prototype.hasOwnProperty.call(t,e)),eD=(n,e,t)=>i=>{if(typeof i!="string")return i;const[r,s,o,a]=i.match(Cw);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},A6=n=>Bo(0,255,n),kx={...vd,transform:n=>Math.round(A6(n))},bl={test:bw("rgb","red"),parse:eD("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+kx.transform(n)+", "+kx.transform(e)+", "+kx.transform(t)+", "+If(ch.transform(i))+")"};function S6(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const $_={test:bw("#"),parse:S6,transform:bl.transform},mu={test:bw("hsl","hue"),parse:eD("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Fs.transform(If(e))+", "+Fs.transform(If(t))+", "+If(ch.transform(i))+")"},yi={test:n=>bl.test(n)||$_.test(n)||mu.test(n),parse:n=>bl.test(n)?bl.parse(n):mu.test(n)?mu.parse(n):$_.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?bl.transform(n):mu.transform(n)},w6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function M6(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Cw))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(w6))===null||t===void 0?void 0:t.length)||0)>0}const tD="number",nD="color",E6="var",T6="var(",_b="${}",C6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uh(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(C6,l=>(yi.test(l)?(i.color.push(s),r.push(nD),t.push(yi.parse(l))):l.startsWith(T6)?(i.var.push(s),r.push(E6),t.push(l)):(i.number.push(s),r.push(tD),t.push(parseFloat(l))),++s,_b)).split(_b);return{values:t,split:a,indexes:i,types:r}}function iD(n){return uh(n).values}function rD(n){const{split:e,types:t}=uh(n),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=t[o];a===tD?s+=If(r[o]):a===nD?s+=yi.transform(r[o]):s+=r[o]}return s}}const b6=n=>typeof n=="number"?0:n;function R6(n){const e=iD(n);return rD(n)(e.map(b6))}const ka={test:M6,parse:iD,createTransformer:rD,getAnimatableNone:R6},P6=new Set(["brightness","contrast","saturate","opacity"]);function L6(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(Cw)||[];if(!i)return n;const r=t.replace(i,"");let s=P6.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const B6=/\b([a-z-]*)\(.*?\)/gu,eA={...ka,getAnimatableNone:n=>{const e=n.match(B6);return e?e.map(L6).join(" "):n}},I6={borderWidth:ct,borderTopWidth:ct,borderRightWidth:ct,borderBottomWidth:ct,borderLeftWidth:ct,borderRadius:ct,radius:ct,borderTopLeftRadius:ct,borderTopRightRadius:ct,borderBottomRightRadius:ct,borderBottomLeftRadius:ct,width:ct,maxWidth:ct,height:ct,maxHeight:ct,top:ct,right:ct,bottom:ct,left:ct,padding:ct,paddingTop:ct,paddingRight:ct,paddingBottom:ct,paddingLeft:ct,margin:ct,marginTop:ct,marginRight:ct,marginBottom:ct,marginLeft:ct,backgroundPositionX:ct,backgroundPositionY:ct},D6={rotate:ra,rotateX:ra,rotateY:ra,rotateZ:ra,scale:_m,scaleX:_m,scaleY:_m,scaleZ:_m,skew:ra,skewX:ra,skewY:ra,distance:ct,translateX:ct,translateY:ct,translateZ:ct,x:ct,y:ct,z:ct,perspective:ct,transformPerspective:ct,opacity:ch,originX:mb,originY:mb,originZ:ct},Ab={...vd,transform:Math.round},Rw={...I6,...D6,zIndex:Ab,size:ct,fillOpacity:ch,strokeOpacity:ch,numOctaves:Ab},N6={...Rw,color:yi,backgroundColor:yi,outlineColor:yi,fill:yi,stroke:yi,borderColor:yi,borderTopColor:yi,borderRightColor:yi,borderBottomColor:yi,borderLeftColor:yi,filter:eA,WebkitFilter:eA},Pw=n=>N6[n];function sD(n,e){let t=Pw(n);return t!==eA&&(t=ka),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const F6=new Set(["auto","none","0"]);function O6(n,e,t){let i=0,r;for(;i<n.length&&!r;){const s=n[i];typeof s=="string"&&!F6.has(s)&&uh(s).values.length&&(r=n[i]),i++}if(r&&t)for(const s of e)n[s]=sD(t,r)}class oD extends Tw{constructor(e,t,i,r,s){super(e,t,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Ew(c))){const d=YI(c,t.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!h6.has(i)||e.length!==2)return;const[r,s]=e,o=xb(r),a=xb(s);if(o!==a)if(gb(o)&&gb(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)o6(e[r])&&i.push(r);i.length&&O6(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=td[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(i);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=td[i](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Lw(n){return typeof n=="function"}let Ig;function k6(){Ig=void 0}const Os={now:()=>(Ig===void 0&&Os.set(ri.isProcessing||$G.useManualTiming?ri.timestamp:performance.now()),Ig),set:n=>{Ig=n,queueMicrotask(k6)}},Sb=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ka.test(n)||n==="0")&&!n.startsWith("url("));function U6(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function z6(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],o=Sb(r,e),a=Sb(s,e);return!o||!a?!1:U6(n)||(t==="spring"||Lw(t))&&i}const H6=40;class aD{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Os.now(),this.options={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>H6?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&y6(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Os.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!z6(e,i,r,s))if(o)this.options.duration=0;else{l==null||l(gv(e,this.options,t)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,t);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...d},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const nd=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},lD=(n,e,t=10)=>{let i="";const r=Math.max(Math.round(e/t),2);for(let s=0;s<r;s++)i+=n(nd(0,r-1,s))+", ";return`linear(${i.substring(0,i.length-2)})`};function cD(n,e){return e?n*(1e3/e):0}const G6=5;function uD(n,e,t){const i=Math.max(e-G6,0);return cD(t-n(i),e-i)}const xn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ux=.001;function V6({duration:n=xn.duration,bounce:e=xn.bounce,velocity:t=xn.velocity,mass:i=xn.mass}){let r,s,o=1-e;o=Bo(xn.minDamping,xn.maxDamping,o),n=Bo(xn.minDuration,xn.maxDuration,So(n)),o<1?(r=c=>{const d=c*o,h=d*n,p=d-t,m=tA(c,o),v=Math.exp(-h);return Ux-p/m*v},s=c=>{const h=c*o*n,p=h*t+t,m=Math.pow(o,2)*Math.pow(c,2)*n,v=Math.exp(-h),_=tA(Math.pow(c,2),o);return(-r(c)+Ux>0?-1:1)*((p-m)*v)/_}):(r=c=>{const d=Math.exp(-c*n),h=(c-t)*n+1;return-Ux+d*h},s=c=>{const d=Math.exp(-c*n),h=(t-c)*(n*n);return d*h});const a=5/n,l=j6(r,s,a);if(n=Ao(n),isNaN(l))return{stiffness:xn.stiffness,damping:xn.damping,duration:n};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:n}}}const W6=12;function j6(n,e,t){let i=t;for(let r=1;r<W6;r++)i=i-n(i)/e(i);return i}function tA(n,e){return n*Math.sqrt(1-e*e)}const nA=2e4;function dD(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<nA;)e+=t,i=n.next(e);return e>=nA?1/0:e}const X6=["duration","bounce"],J6=["stiffness","damping","mass"];function wb(n,e){return e.some(t=>n[t]!==void 0)}function K6(n){let e={velocity:xn.velocity,stiffness:xn.stiffness,damping:xn.damping,mass:xn.mass,isResolvedFromDuration:!1,...n};if(!wb(n,J6)&&wb(n,X6))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),r=i*i,s=2*Bo(.05,1,1-n.bounce)*Math.sqrt(r);e={...e,mass:xn.mass,stiffness:r,damping:s}}else{const t=V6(n);e={...e,...t,mass:xn.mass},e.isResolvedFromDuration=!0}return e}function fD(n=xn.visualDuration,e=xn.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:r}=t;const s=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:h,velocity:p,isResolvedFromDuration:m}=K6({...t,velocity:-So(t.velocity||0)}),v=p||0,_=c/(2*Math.sqrt(l*d)),x=o-s,g=So(Math.sqrt(l/d)),A=Math.abs(x)<5;i||(i=A?xn.restSpeed.granular:xn.restSpeed.default),r||(r=A?xn.restDelta.granular:xn.restDelta.default);let S;if(_<1){const T=tA(g,_);S=C=>{const P=Math.exp(-_*g*C);return o-P*((v+_*g*x)/T*Math.sin(T*C)+x*Math.cos(T*C))}}else if(_===1)S=T=>o-Math.exp(-g*T)*(x+(v+g*x)*T);else{const T=g*Math.sqrt(_*_-1);S=C=>{const P=Math.exp(-_*g*C),B=Math.min(T*C,300);return o-P*((v+_*g*x)*Math.sinh(B)+T*x*Math.cosh(B))/T}}const M={calculatedDuration:m&&h||null,next:T=>{const C=S(T);if(m)a.done=T>=h;else{let P=0;_<1&&(P=T===0?Ao(v):uD(S,T,C));const B=Math.abs(P)<=i,R=Math.abs(o-C)<=r;a.done=B&&R}return a.value=a.done?o:C,a},toString:()=>{const T=Math.min(dD(M),nA),C=lD(P=>M.next(T*P).value,T,30);return T+"ms "+C}};return M}function Mb({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=n[0],p={done:!1,value:h},m=B=>a!==void 0&&B<a||l!==void 0&&B>l,v=B=>a===void 0?l:l===void 0||Math.abs(a-B)<Math.abs(l-B)?a:l;let _=t*e;const x=h+_,g=o===void 0?x:o(x);g!==x&&(_=g-h);const A=B=>-_*Math.exp(-B/i),S=B=>g+A(B),M=B=>{const R=A(B),L=S(B);p.done=Math.abs(R)<=c,p.value=p.done?g:L};let T,C;const P=B=>{m(p.value)&&(T=B,C=fD({keyframes:[p.value,v(p.value)],velocity:uD(S,B,p.value),damping:r,stiffness:s,restDelta:c,restSpeed:d}))};return P(0),{calculatedDuration:null,next:B=>{let R=!1;return!C&&T===void 0&&(R=!0,M(B),P(B)),T!==void 0&&B>=T?C.next(B-T):(!R&&M(B),p)}}}const Y6=kh(.42,0,1,1),Q6=kh(0,0,.58,1),hD=kh(.42,0,.58,1),q6=n=>Array.isArray(n)&&typeof n[0]!="number",Bw=n=>Array.isArray(n)&&typeof n[0]=="number",Eb={linear:Ai,easeIn:Y6,easeInOut:hD,easeOut:Q6,circIn:Mw,circInOut:WI,circOut:VI,backIn:ww,backInOut:HI,backOut:zI,anticipate:GI},Tb=n=>{if(Bw(n)){Q_(n.length===4);const[e,t,i,r]=n;return kh(e,t,i,r)}else if(typeof n=="string")return Q_(Eb[n]!==void 0),Eb[n];return n},Z6=(n,e)=>t=>e(n(t)),Ta=(...n)=>n.reduce(Z6),un=(n,e,t)=>n+(e-n)*t;function zx(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function $6({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=zx(l,a,n+1/3),s=zx(l,a,n),o=zx(l,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function _0(n,e){return t=>t>0?e:n}const Hx=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},e9=[$_,bl,mu],t9=n=>e9.find(e=>e.test(n));function Cb(n){const e=t9(n);if(!e)return!1;let t=e.parse(n);return e===mu&&(t=$6(t)),t}const bb=(n,e)=>{const t=Cb(n),i=Cb(e);if(!t||!i)return _0(n,e);const r={...t};return s=>(r.red=Hx(t.red,i.red,s),r.green=Hx(t.green,i.green,s),r.blue=Hx(t.blue,i.blue,s),r.alpha=un(t.alpha,i.alpha,s),bl.transform(r))},iA=new Set(["none","hidden"]);function n9(n,e){return iA.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function i9(n,e){return t=>un(n,e,t)}function Iw(n){return typeof n=="number"?i9:typeof n=="string"?Ew(n)?_0:yi.test(n)?bb:o9:Array.isArray(n)?pD:typeof n=="object"?yi.test(n)?bb:r9:_0}function pD(n,e){const t=[...n],i=t.length,r=n.map((s,o)=>Iw(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}}function r9(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=Iw(n[r])(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}}function s9(n,e){var t;const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=n.indexes[o][r[o]],l=(t=n.values[a])!==null&&t!==void 0?t:0;i[s]=l,r[o]++}return i}const o9=(n,e)=>{const t=ka.createTransformer(e),i=uh(n),r=uh(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?iA.has(n)&&!r.values.length||iA.has(e)&&!i.values.length?n9(n,e):Ta(pD(s9(i,r),r.values),t):_0(n,e)};function mD(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?un(n,e,t):Iw(n)(n,e)}function a9(n,e,t){const i=[],r=t||mD,s=n.length-1;for(let o=0;o<s;o++){let a=r(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||Ai:e;a=Ta(l,a)}i.push(a)}return i}function l9(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;if(Q_(s===e.length),s===1)return()=>e[0];if(s===2&&n[0]===n[1])return()=>e[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=a9(e,i,r),a=o.length,l=c=>{let d=0;if(a>1)for(;d<n.length-2&&!(c<n[d+1]);d++);const h=nd(n[d],n[d+1],c);return o[d](h)};return t?c=>l(Bo(n[0],n[s-1],c)):l}function c9(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=nd(0,e,i);n.push(un(t,1,r))}}function u9(n){const e=[0];return c9(e,n.length-1),e}function d9(n,e){return n.map(t=>t*e)}function f9(n,e){return n.map(()=>e||hD).splice(0,n.length-1)}function A0({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=q6(i)?i.map(Tb):Tb(i),s={done:!1,value:e[0]},o=d9(t&&t.length===e.length?t:u9(e),n),a=l9(o,e,{ease:Array.isArray(r)?r:f9(e,r)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}const h9=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Jt.update(e,!0),stop:()=>Oa(e),now:()=>ri.isProcessing?ri.timestamp:Os.now()}},p9={decay:Mb,inertia:Mb,tween:A0,keyframes:A0,spring:fD},m9=n=>n/100;class Dw extends aD{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:t,motionValue:i,element:r,keyframes:s}=this.options,o=(r==null?void 0:r.KeyframeResolver)||Tw,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,t,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=this.options,a=Lw(t)?t:p9[t]||A0;let l,c;a!==A0&&typeof e[0]!="number"&&(l=Ta(m9,mD(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=dD(d));const{calculatedDuration:h}=d,p=h+r,m=p*(i+1)-r;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:p,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:B}=this.options;return{done:!0,value:B[B.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=i;if(this.startTime===null)return s.next(0);const{delay:p,repeat:m,repeatType:v,repeatDelay:_,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-p*(this.speed>=0?1:-1),A=this.speed>=0?g<0:g>d;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let S=this.currentTime,M=s;if(m){const B=Math.min(this.currentTime,d)/h;let R=Math.floor(B),L=B%1;!L&&B>=1&&(L=1),L===1&&R--,R=Math.min(R,m+1),!!(R%2)&&(v==="reverse"?(L=1-L,_&&(L-=_/h)):v==="mirror"&&(M=o)),S=Bo(0,1,L)*h}const T=A?{done:!1,value:l[0]}:M.next(S);a&&(T.value=a(T.value));let{done:C}=T;!A&&c!==null&&(C=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return P&&r!==void 0&&(T.value=gv(l,this.options,r)),x&&x(T.value),P&&this.finish(),T}get duration(){const{resolved:e}=this;return e?So(e.calculatedDuration):0}get time(){return So(this.currentTime)}set time(e){e=Ao(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=So(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=h9,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),t&&t();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const g9=new Set(["opacity","clipPath","filter","transform"]);function Nw(n){let e;return()=>(e===void 0&&(e=n()),e)}const v9={linearEasing:void 0};function y9(n,e){const t=Nw(n);return()=>{var i;return(i=v9[e])!==null&&i!==void 0?i:t()}}const S0=y9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function gD(n){return!!(typeof n=="function"&&S0()||!n||typeof n=="string"&&(n in rA||S0())||Bw(n)||Array.isArray(n)&&n.every(gD))}const xf=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,rA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xf([0,.65,.55,1]),circOut:xf([.55,0,1,.45]),backIn:xf([.31,.01,.66,-.59]),backOut:xf([.33,1.53,.69,.99])};function vD(n,e){if(n)return typeof n=="function"&&S0()?lD(n,e):Bw(n)?xf(n):Array.isArray(n)?n.map(t=>vD(t,e)||rA.easeOut):rA[n]}function x9(n,e,t,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:t};l&&(c.offset=l);const d=vD(a,r);return Array.isArray(d)&&(c.easing=d),n.animate(c,{delay:i,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function Rb(n,e){n.timeline=e,n.onfinish=null}const _9=Nw(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),w0=10,A9=2e4;function S9(n){return Lw(n.type)||n.type==="spring"||!gD(n.ease)}function w9(n,e){const t=new Dw({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const r=[];let s=0;for(;!i.done&&s<A9;)i=t.sample(s),r.push(i.value),s+=w0;return{times:void 0,keyframes:r,duration:s-w0,ease:"linear"}}const yD={anticipate:GI,backInOut:HI,circInOut:WI};function M9(n){return n in yD}class Pb extends aD{constructor(e){super(e);const{name:t,motionValue:i,element:r,keyframes:s}=this.options;this.resolver=new oD(s,(o,a)=>this.onKeyframesResolved(o,a),t,i,r),this.resolver.scheduleResolve()}initPlayback(e,t){var i;let{duration:r=300,times:s,ease:o,type:a,motionValue:l,name:c,startTime:d}=this.options;if(!(!((i=l.owner)===null||i===void 0)&&i.current))return!1;if(typeof o=="string"&&S0()&&M9(o)&&(o=yD[o]),S9(this.options)){const{onComplete:p,onUpdate:m,motionValue:v,element:_,...x}=this.options,g=w9(e,x);e=g.keyframes,e.length===1&&(e[1]=e[0]),r=g.duration,s=g.times,o=g.ease,a="keyframes"}const h=x9(l.owner.current,c,e,{...this.options,duration:r,times:s,ease:o});return h.startTime=d??this.calcStartTime(),this.pendingTimeline?(Rb(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:p}=this.options;l.set(gv(e,this.options,t)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return So(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return So(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=Ao(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Ai;const{animation:i}=t;Rb(i,e)}return Ai}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:r,type:s,ease:o,times:a}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:h,element:p,...m}=this.options,v=new Dw({...m,keyframes:i,duration:r,type:s,ease:o,times:a,isGenerator:!0}),_=Ao(this.time);c.setWithVelocity(v.sample(_-w0).value,v.sample(_).value,w0)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:r,repeatType:s,damping:o,type:a}=e;return _9()&&i&&g9.has(i)&&t&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}}const E9=Nw(()=>window.ScrollTimeline!==void 0);class T9{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){const i=this.animations.map(r=>E9()&&r.attachTimeline?r.attachTimeline(e):t(r));return()=>{i.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function C9({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const Fw=(n,e,t,i={},r,s)=>o=>{const a=Sw(i,n)||{},l=a.delay||i.delay||0;let{elapsed:c=0}=i;c=c-Ao(l);let d={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:n,motionValue:e,element:s?void 0:r};C9(a)||(d={...d,...ZG(n,d)}),d.duration&&(d.duration=Ao(d.duration)),d.repeatDelay&&(d.repeatDelay=Ao(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!s&&e.get()!==void 0){const p=gv(d.keyframes,a);if(p!==void 0)return Jt.update(()=>{d.onUpdate(p),d.onComplete()}),new T9([])}return!s&&Pb.supports(d)?new Pb(d):new Dw(d)},b9=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),R9=n=>Y_(n)?n[n.length-1]||0:n;function Ow(n,e){n.indexOf(e)===-1&&n.push(e)}function kw(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Uw{constructor(){this.subscriptions=[]}add(e){return Ow(this.subscriptions,e),()=>kw(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Lb=30,P9=n=>!isNaN(parseFloat(n));class L9{constructor(e,t={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=Os.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Os.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=P9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Uw);const i=this.events[e].add(t);return e==="change"?()=>{i(),Jt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Os.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Lb)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,Lb);return cD(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dh(n,e){return new L9(n,e)}function B9(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,dh(t))}function I9(n,e){const t=mv(n,e);let{transitionEnd:i={},transition:r={},...s}=t||{};s={...s,...i};for(const o in s){const a=R9(s[o]);B9(n,o,a)}}const zw=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),D9="framerAppearId",xD="data-"+zw(D9);function _D(n){return n.props[xD]}const _i=n=>!!(n&&n.getVelocity);function N9(n){return!!(_i(n)&&n.add)}function sA(n,e){const t=n.getValue("willChange");if(N9(t))return t.add(e)}function F9({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function AD(n,e,{delay:t=0,transitionOverride:i,type:r}={}){var s;let{transition:o=n.getDefaultTransition(),transitionEnd:a,...l}=e;i&&(o=i);const c=[],d=r&&n.animationState&&n.animationState.getState()[r];for(const h in l){const p=n.getValue(h,(s=n.latestValues[h])!==null&&s!==void 0?s:null),m=l[h];if(m===void 0||d&&F9(d,h))continue;const v={delay:t,...Sw(o||{},h)};let _=!1;if(window.MotionHandoffAnimation){const g=_D(n);if(g){const A=window.MotionHandoffAnimation(g,h,Jt);A!==null&&(v.startTime=A,_=!0)}}sA(n,h),p.start(Fw(h,p,m,n.shouldReduceMotion&&cc.has(h)?{type:!1}:v,n,_));const x=p.animation;x&&c.push(x)}return a&&Promise.all(c).then(()=>{Jt.update(()=>{a&&I9(n,a)})}),c}function oA(n,e,t={}){var i;const r=mv(n,e,t.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(s=t.transitionOverride);const o=r?()=>Promise.all(AD(n,r,t)):()=>Promise.resolve(),a=n.variantChildren&&n.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=s;return O9(n,e,d+c,h,p,t)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(t.delay)])}function O9(n,e,t=0,i=0,r=1,s){const o=[],a=(n.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(n.variantChildren).sort(k9).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(oA(c,e,{...s,delay:t+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function k9(n,e){return n.sortNodePosition(e)}function U9(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>oA(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=oA(n,e,t);else{const r=typeof e=="function"?mv(n,e,t.custom):e;i=Promise.all(AD(n,r,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}const z9=Aw.length;function SD(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?SD(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<z9;t++){const i=Aw[t],r=n.props[i];(lh(r)||r===!1)&&(e[i]=r)}return e}const H9=[..._w].reverse(),G9=_w.length;function V9(n){return e=>Promise.all(e.map(({animation:t,options:i})=>U9(n,t,i)))}function W9(n){let e=V9(n),t=Bb(),i=!0;const r=l=>(c,d)=>{var h;const p=mv(n,d,l==="exit"?(h=n.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:m,transitionEnd:v,..._}=p;c={...c,..._,...v}}return c};function s(l){e=l(n)}function o(l){const{props:c}=n,d=SD(n.parent)||{},h=[],p=new Set;let m={},v=1/0;for(let x=0;x<G9;x++){const g=H9[x],A=t[g],S=c[g]!==void 0?c[g]:d[g],M=lh(S),T=g===l?A.isActive:null;T===!1&&(v=x);let C=S===d[g]&&S!==c[g]&&M;if(C&&i&&n.manuallyAnimateOnMount&&(C=!1),A.protectedKeys={...m},!A.isActive&&T===null||!S&&!A.prevProp||pv(S)||typeof S=="boolean")continue;const P=j9(A.prevProp,S);let B=P||g===l&&A.isActive&&!C&&M||x>v&&M,R=!1;const L=Array.isArray(S)?S:[S];let O=L.reduce(r(g),{});T===!1&&(O={});const{prevResolvedValues:G={}}=A,Q={...G,...O},F=$=>{B=!0,p.has($)&&(R=!0,p.delete($)),A.needsAnimating[$]=!0;const I=n.getValue($);I&&(I.liveStyle=!1)};for(const $ in Q){const I=O[$],V=G[$];if(m.hasOwnProperty($))continue;let W=!1;Y_(I)&&Y_(V)?W=!NI(I,V):W=I!==V,W?I!=null?F($):p.add($):I!==void 0&&p.has($)?F($):A.protectedKeys[$]=!0}A.prevProp=S,A.prevResolvedValues=O,A.isActive&&(m={...m,...O}),i&&n.blockInitialAnimation&&(B=!1),B&&(!(C&&P)||R)&&h.push(...L.map($=>({animation:$,options:{type:g}})))}if(p.size){const x={};p.forEach(g=>{const A=n.getBaseTarget(g),S=n.getValue(g);S&&(S.liveStyle=!0),x[g]=A??null}),h.push({animation:x})}let _=!!h.length;return i&&(c.initial===!1||c.initial===c.animate)&&!n.manuallyAnimateOnMount&&(_=!1),i=!1,_?e(h):Promise.resolve()}function a(l,c){var d;if(t[l].isActive===c)return Promise.resolve();(d=n.variantChildren)===null||d===void 0||d.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),t[l].isActive=c;const h=o(l);for(const p in t)t[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t,reset:()=>{t=Bb(),i=!0}}}function j9(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!NI(e,n):!1}function sl(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Bb(){return{animate:sl(!0),whileInView:sl(),whileHover:sl(),whileTap:sl(),whileDrag:sl(),whileFocus:sl(),exit:sl()}}class Xa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class X9 extends Xa{constructor(e){super(e),e.animationState||(e.animationState=W9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();pv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let J9=0;class K9 extends Xa{constructor(){super(...arguments),this.id=J9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Y9={animation:{Feature:X9},exit:{Feature:K9}};function Q9(n,e,t){var i;if(n instanceof Element)return[n];if(typeof n=="string"){let r=document;const s=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const Qr={x:!1,y:!1};function wD(){return Qr.x||Qr.y}function Ib(n){return e=>{e.pointerType==="touch"||wD()||n(e)}}function q9(n,e,t={}){const i=new AbortController,r={passive:!0,...t,signal:i.signal},s=Ib(o=>{const{target:a}=o,l=e(o);if(!l||!a)return;const c=Ib(d=>{l(d),a.removeEventListener("pointerleave",c)});a.addEventListener("pointerleave",c,r)});return Q9(n).forEach(o=>{o.addEventListener("pointerenter",s,r)}),()=>i.abort()}function Z9(n){return n==="x"||n==="y"?Qr[n]?null:(Qr[n]=!0,()=>{Qr[n]=!1}):Qr.x||Qr.y?null:(Qr.x=Qr.y=!0,()=>{Qr.x=Qr.y=!1})}const MD=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function zh(n){return{point:{x:n.pageX,y:n.pageY}}}const $9=n=>e=>MD(e)&&n(e,zh(e));function vo(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function Ca(n,e,t,i){return vo(n,e,$9(t),i)}const Db=(n,e)=>Math.abs(n-e);function eV(n,e){const t=Db(n.x,e.x),i=Db(n.y,e.y);return Math.sqrt(t**2+i**2)}class ED{constructor(e,t,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Vx(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=eV(h.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:v}=h,{timestamp:_}=ri;this.history.push({...v,timestamp:_});const{onStart:x,onMove:g}=this.handlers;p||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Gx(p,this.transformPagePoint),Jt.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Vx(h.type==="pointercancel"?this.lastMoveEventInfo:Gx(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,x),v&&v(h,x)},!MD(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=i,this.contextWindow=r||window;const o=zh(e),a=Gx(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=ri;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=t;d&&d(e,Vx(a,this.history)),this.removeListeners=Ta(Ca(this.contextWindow,"pointermove",this.handlePointerMove),Ca(this.contextWindow,"pointerup",this.handlePointerUp),Ca(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Oa(this.updatePoint)}}function Gx(n,e){return e?{point:e(n.point)}:n}function Nb(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Vx({point:n},e){return{point:n,delta:Nb(n,TD(e)),offset:Nb(n,tV(e)),velocity:nV(e,.1)}}function tV(n){return n[0]}function TD(n){return n[n.length-1]}function nV(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=TD(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>Ao(e)));)t--;if(!i)return{x:0,y:0};const s=So(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function gu(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}const CD=1e-4,iV=1-CD,rV=1+CD,bD=.01,sV=0-bD,oV=0+bD;function gr(n){return n.max-n.min}function aV(n,e,t){return Math.abs(n-e)<=t}function Fb(n,e,t,i=.5){n.origin=i,n.originPoint=un(e.min,e.max,n.origin),n.scale=gr(t)/gr(e),n.translate=un(t.min,t.max,n.origin)-n.originPoint,(n.scale>=iV&&n.scale<=rV||isNaN(n.scale))&&(n.scale=1),(n.translate>=sV&&n.translate<=oV||isNaN(n.translate))&&(n.translate=0)}function Df(n,e,t,i){Fb(n.x,e.x,t.x,i?i.originX:void 0),Fb(n.y,e.y,t.y,i?i.originY:void 0)}function Ob(n,e,t){n.min=t.min+e.min,n.max=n.min+gr(e)}function lV(n,e,t){Ob(n.x,e.x,t.x),Ob(n.y,e.y,t.y)}function kb(n,e,t){n.min=e.min-t.min,n.max=n.min+gr(e)}function Nf(n,e,t){kb(n.x,e.x,t.x),kb(n.y,e.y,t.y)}function cV(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?un(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?un(t,n,i.max):Math.min(n,t)),n}function Ub(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function uV(n,{top:e,left:t,bottom:i,right:r}){return{x:Ub(n.x,t,r),y:Ub(n.y,e,i)}}function zb(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function dV(n,e){return{x:zb(n.x,e.x),y:zb(n.y,e.y)}}function fV(n,e){let t=.5;const i=gr(n),r=gr(e);return r>i?t=nd(e.min,e.max-i,n.min):i>r&&(t=nd(n.min,n.max-r,e.min)),Bo(0,1,t)}function hV(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const aA=.35;function pV(n=aA){return n===!1?n=0:n===!0&&(n=aA),{x:Hb(n,"left","right"),y:Hb(n,"top","bottom")}}function Hb(n,e,t){return{min:Gb(n,e),max:Gb(n,t)}}function Gb(n,e){return typeof n=="number"?n:n[e]||0}const Vb=()=>({translate:0,scale:1,origin:0,originPoint:0}),vu=()=>({x:Vb(),y:Vb()}),Wb=()=>({min:0,max:0}),Cn=()=>({x:Wb(),y:Wb()});function Ir(n){return[n("x"),n("y")]}function RD({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function mV({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function gV(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function Wx(n){return n===void 0||n===1}function lA({scale:n,scaleX:e,scaleY:t}){return!Wx(n)||!Wx(e)||!Wx(t)}function yl(n){return lA(n)||PD(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function PD(n){return jb(n.x)||jb(n.y)}function jb(n){return n&&n!=="0%"}function M0(n,e,t){const i=n-t,r=e*i;return t+r}function Xb(n,e,t,i,r){return r!==void 0&&(n=M0(n,r,i)),M0(n,t,i)+e}function cA(n,e=0,t=1,i,r){n.min=Xb(n.min,e,t,i,r),n.max=Xb(n.max,e,t,i,r)}function LD(n,{x:e,y:t}){cA(n.x,e.translate,e.scale,e.originPoint),cA(n.y,t.translate,t.scale,t.originPoint)}const Jb=.999999999999,Kb=1.0000000000001;function vV(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&xu(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,LD(n,o)),i&&yl(s.latestValues)&&xu(n,s.latestValues))}e.x<Kb&&e.x>Jb&&(e.x=1),e.y<Kb&&e.y>Jb&&(e.y=1)}function yu(n,e){n.min=n.min+e,n.max=n.max+e}function Yb(n,e,t,i,r=.5){const s=un(n.min,n.max,r);cA(n,e,t,s,i)}function xu(n,e){Yb(n.x,e.x,e.scaleX,e.scale,e.originX),Yb(n.y,e.y,e.scaleY,e.scale,e.originY)}function BD(n,e){return RD(gV(n.getBoundingClientRect(),e))}function yV(n,e,t){const i=BD(n,t),{scroll:r}=e;return r&&(yu(i.x,r.offset.x),yu(i.y,r.offset.y)),i}const ID=({current:n})=>n?n.ownerDocument.defaultView:null,xV=new WeakMap;class _V{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Cn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(zh(d).point)},s=(d,h)=>{const{drag:p,dragPropagation:m,onDragStart:v}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Z9(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ir(x=>{let g=this.getAxisMotionValue(x).get()||0;if(Fs.test(g)){const{projection:A}=this.visualElement;if(A&&A.layout){const S=A.layout.layoutBox[x];S&&(g=gr(S)*(parseFloat(g)/100))}}this.originPoint[x]=g}),v&&Jt.postRender(()=>v(d,h)),sA(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:v,onDrag:_}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:x}=h;if(m&&this.currentDirection===null){this.currentDirection=AV(x),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),_&&_(d,h)},a=(d,h)=>this.stop(d,h),l=()=>Ir(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new ED(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:ID(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&Jt.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!Am(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=cV(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&gu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=uV(r.layoutBox,t):this.constraints=!1,this.elastic=pV(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ir(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=hV(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!gu(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=yV(i,r.root,this.visualElement.getTransformPagePoint());let o=dV(r.layout.layoutBox,s);if(t){const a=t(mV(o));this.hasMutatedConstraints=!!a,a&&(o=RD(a))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Ir(d=>{if(!Am(d,t,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,v={type:"inertia",velocity:i?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return sA(this.visualElement,e),i.start(Fw(e,i,0,t,this.visualElement,!1))}stopAnimation(){Ir(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ir(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Ir(t=>{const{drag:i}=this.getProps();if(!Am(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-un(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!gu(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ir(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=fV({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ir(o=>{if(!Am(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(un(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;xV.set(this.visualElement,this);const e=this.visualElement.current,t=Ca(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();gu(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Jt.read(i);const o=vo(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ir(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=aA,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Am(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function AV(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class SV extends Xa{constructor(e){super(e),this.removeGroupControls=Ai,this.removeListeners=Ai,this.controls=new _V(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ai}unmount(){this.removeGroupControls(),this.removeListeners()}}const Qb=n=>(e,t)=>{n&&Jt.postRender(()=>n(e,t))};class wV extends Xa{constructor(){super(...arguments),this.removePointerDownListener=Ai}onPointerDown(e){this.session=new ED(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ID(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:Qb(e),onStart:Qb(t),onMove:i,onEnd:(s,o)=>{delete this.session,r&&Jt.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=Ca(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const vv=D.createContext(null);function MV(){const n=D.useContext(vv);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:i}=n,r=D.useId();D.useEffect(()=>i(r),[]);const s=D.useCallback(()=>t&&t(r),[r,t]);return!e&&t?[!1,s]:[!0]}const Hw=D.createContext({}),DD=D.createContext({}),Dg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function qb(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const ef={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(ct.test(n))n=parseFloat(n);else return n;const t=qb(n,e.target.x),i=qb(n,e.target.y);return`${t}% ${i}%`}},EV={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=ka.parse(n);if(r.length>5)return i;const s=ka.createTransformer(n),o=typeof r[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=un(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}},E0={};function TV(n){Object.assign(E0,n)}const{schedule:Gw,cancel:jee}=FI(queueMicrotask,!1);class CV extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;TV(bV),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Dg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Jt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Gw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ND(n){const[e,t]=MV(),i=D.useContext(Hw);return U.jsx(CV,{...n,layoutGroup:i,switchLayoutGroup:D.useContext(DD),isPresent:e,safeToRemove:t})}const bV={borderRadius:{...ef,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ef,borderTopRightRadius:ef,borderBottomLeftRadius:ef,borderBottomRightRadius:ef,boxShadow:EV},FD=["TopLeft","TopRight","BottomLeft","BottomRight"],RV=FD.length,Zb=n=>typeof n=="string"?parseFloat(n):n,$b=n=>typeof n=="number"||ct.test(n);function PV(n,e,t,i,r,s){r?(n.opacity=un(0,t.opacity!==void 0?t.opacity:1,LV(i)),n.opacityExit=un(e.opacity!==void 0?e.opacity:1,0,BV(i))):s&&(n.opacity=un(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let o=0;o<RV;o++){const a=`border${FD[o]}Radius`;let l=e2(e,a),c=e2(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||$b(l)===$b(c)?(n[a]=Math.max(un(Zb(l),Zb(c),i),0),(Fs.test(c)||Fs.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=un(e.rotate||0,t.rotate||0,i))}function e2(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const LV=OD(0,.5,VI),BV=OD(.5,.95,Ai);function OD(n,e,t){return i=>i<n?0:i>e?1:t(nd(n,e,i))}function t2(n,e){n.min=e.min,n.max=e.max}function Lr(n,e){t2(n.x,e.x),t2(n.y,e.y)}function n2(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function i2(n,e,t,i,r){return n-=e,n=M0(n,1/t,i),r!==void 0&&(n=M0(n,1/r,i)),n}function IV(n,e=0,t=1,i=.5,r,s=n,o=n){if(Fs.test(e)&&(e=parseFloat(e),e=un(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=un(s.min,s.max,i);n===s&&(a-=e),n.min=i2(n.min,e,t,a,r),n.max=i2(n.max,e,t,a,r)}function r2(n,e,[t,i,r],s,o){IV(n,e[t],e[i],e[r],e.scale,s,o)}const DV=["x","scaleX","originX"],NV=["y","scaleY","originY"];function s2(n,e,t,i){r2(n.x,e,DV,t?t.x:void 0,i?i.x:void 0),r2(n.y,e,NV,t?t.y:void 0,i?i.y:void 0)}function o2(n){return n.translate===0&&n.scale===1}function kD(n){return o2(n.x)&&o2(n.y)}function a2(n,e){return n.min===e.min&&n.max===e.max}function FV(n,e){return a2(n.x,e.x)&&a2(n.y,e.y)}function l2(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function UD(n,e){return l2(n.x,e.x)&&l2(n.y,e.y)}function c2(n){return gr(n.x)/gr(n.y)}function u2(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class OV{constructor(){this.members=[]}add(e){Ow(this.members,e),e.scheduleRender()}remove(e){if(kw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function kV(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:p,skewX:m,skewY:v}=t;c&&(i=`perspective(${c}px) ${i}`),d&&(i+=`rotate(${d}deg) `),h&&(i+=`rotateX(${h}deg) `),p&&(i+=`rotateY(${p}deg) `),m&&(i+=`skewX(${m}deg) `),v&&(i+=`skewY(${v}deg) `)}const a=n.x.scale*e.x,l=n.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const UV=(n,e)=>n.depth-e.depth;class zV{constructor(){this.children=[],this.isDirty=!1}add(e){Ow(this.children,e),this.isDirty=!0}remove(e){kw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(UV),this.isDirty=!1,this.children.forEach(e)}}function Ng(n){const e=_i(n)?n.get():n;return b9(e)?e.toValue():e}function HV(n,e){const t=Os.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(Oa(i),n(s-e))};return Jt.read(i,!0),()=>Oa(i)}function GV(n){return n instanceof SVGElement&&n.tagName!=="svg"}function VV(n,e,t){const i=_i(n)?n:dh(n);return i.start(Fw("",i,e,t)),i.animation}const xl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},_f=typeof window<"u"&&window.MotionDebug!==void 0,jx=["","X","Y","Z"],WV={visibility:"hidden"},d2=1e3;let jV=0;function Xx(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function zD(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=_D(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Jt,!(r||s))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&zD(i)}function HD({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=jV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,_f&&(xl.totalNodes=xl.resolvedTargetDeltas=xl.recalculatedProjection=0),this.nodes.forEach(KV),this.nodes.forEach($V),this.nodes.forEach(eW),this.nodes.forEach(YV),_f&&window.MotionDebug.record(xl)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new zV)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Uw),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=GV(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),n){let h;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=HV(p,250),Dg.hasAnimatedSinceResize&&(Dg.hasAnimatedSinceResize=!1,this.nodes.forEach(h2))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||d.getDefaultTransition()||sW,{onLayoutAnimationStart:x,onLayoutAnimationComplete:g}=d.getProps(),A=!this.targetLayout||!UD(this.targetLayout,v)||m,S=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||p&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,S);const M={...Sw(_,"layout"),onPlay:x,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else p||h2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Oa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tW),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(f2);return}this.isUpdating||this.nodes.forEach(qV),this.isUpdating=!1,this.nodes.forEach(ZV),this.nodes.forEach(XV),this.nodes.forEach(JV),this.clearAllSnapshots();const a=Os.now();ri.delta=Bo(0,1e3/60,a-ri.timestamp),ri.timestamp=a,ri.isProcessing=!0,Ox.update.process(ri),Ox.preRender.process(ri),Ox.render.process(ri),ri.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Gw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(QV),this.sharedNodes.forEach(nW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Jt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Jt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Cn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!kD(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||yl(this.latestValues)||d)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),oW(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Cn();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(aW))){const{scroll:d}=this.root;d&&(yu(l.x,d.offset.x),yu(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=Cn();if(Lr(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:p}=d;d!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&Lr(l,o),yu(l.x,h.offset.x),yu(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=Cn();Lr(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&xu(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),yl(d.latestValues)&&xu(l,d.latestValues)}return yl(this.latestValues)&&xu(l,this.latestValues),l}removeTransform(o){const a=Cn();Lr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!yl(c.latestValues))continue;lA(c.latestValues)&&c.updateSnapshot();const d=Cn(),h=c.measurePageBox();Lr(d,h),s2(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return yl(this.latestValues)&&s2(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ri.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=ri.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cn(),this.relativeTargetOrigin=Cn(),Nf(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Lr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Cn(),this.targetWithTransforms=Cn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Lr(this.target,this.layout.layoutBox),LD(this.target,this.targetDelta)):Lr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cn(),this.relativeTargetOrigin=Cn(),Nf(this.relativeTargetOrigin,this.target,m.target),Lr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}_f&&xl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||lA(this.parent.latestValues)||PD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ri.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Lr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;vV(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Cn());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(n2(this.prevProjectionDelta.x,this.projectionDelta.x),n2(this.prevProjectionDelta.y,this.projectionDelta.y)),Df(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!u2(this.projectionDelta.x,this.prevProjectionDelta.x)||!u2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),_f&&xl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vu(),this.projectionDelta=vu(),this.projectionDeltaWithTransform=vu()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=vu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Cn(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,_=m!==v,x=this.getStack(),g=!x||x.members.length<=1,A=!!(_&&!g&&this.options.crossfade===!0&&!this.path.some(rW));this.animationProgress=0;let S;this.mixTargetDelta=M=>{const T=M/1e3;p2(h.x,o.x,T),p2(h.y,o.y,T),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nf(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),iW(this.relativeTarget,this.relativeTargetOrigin,p,T),S&&FV(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Cn()),Lr(S,this.relativeTarget)),_&&(this.animationValues=d,PV(d,c,this.latestValues,T,A,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Oa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Jt.update(()=>{Dg.hasAnimatedSinceResize=!0,this.currentAnimation=VV(0,d2,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(d2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&GD(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Cn();const h=gr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=gr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Lr(a,l),xu(a,d),Df(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new OV),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Xx("z",o,c,this.animationValues);for(let d=0;d<jx.length;d++)Xx(`rotate${jx[d]}`,o,c,this.animationValues),Xx(`skew${jx[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return WV;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Ng(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=Ng(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!yl(this.latestValues)&&(_.transform=d?d({},""):"none",this.hasProjected=!1),_}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=kV(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:m,y:v}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const _ in E0){if(p[_]===void 0)continue;const{correct:x,applyTo:g}=E0[_],A=c.transform==="none"?p[_]:x(p[_],h);if(g){const S=g.length;for(let M=0;M<S;M++)c[g[M]]=A}else c[_]=A}return this.options.layoutId&&(c.pointerEvents=h===this?Ng(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(f2),this.root.sharedNodes.clear()}}}function XV(n){n.updateLayout()}function JV(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?Ir(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],m=gr(p);p.min=i[h].min,p.max=p.min+m}):GD(s,t.layoutBox,i)&&Ir(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],m=gr(i[h]);p.max=p.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[h].max=n.relativeTarget[h].min+m)});const a=vu();Df(a,i,t.layoutBox);const l=vu();o?Df(l,n.applyTransform(r,!0),t.measuredBox):Df(l,i,t.layoutBox);const c=!kD(a);let d=!1;if(!n.resumeFrom){const h=n.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const v=Cn();Nf(v,t.layoutBox,p.layoutBox);const _=Cn();Nf(_,i,m.layoutBox),UD(v,_)||(d=!0),h.options.layoutRoot&&(n.relativeTarget=_,n.relativeTargetOrigin=v,n.relativeParent=h)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function KV(n){_f&&xl.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function YV(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function QV(n){n.clearSnapshot()}function f2(n){n.clearMeasurements()}function qV(n){n.isLayoutDirty=!1}function ZV(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function h2(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function $V(n){n.resolveTargetDelta()}function eW(n){n.calcProjection()}function tW(n){n.resetSkewAndRotation()}function nW(n){n.removeLeadSnapshot()}function p2(n,e,t){n.translate=un(e.translate,0,t),n.scale=un(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function m2(n,e,t,i){n.min=un(e.min,t.min,i),n.max=un(e.max,t.max,i)}function iW(n,e,t,i){m2(n.x,e.x,t.x,i),m2(n.y,e.y,t.y,i)}function rW(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const sW={duration:.45,ease:[.4,0,.1,1]},g2=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),v2=g2("applewebkit/")&&!g2("chrome/")?Math.round:Ai;function y2(n){n.min=v2(n.min),n.max=v2(n.max)}function oW(n){y2(n.x),y2(n.y)}function GD(n,e,t){return n==="position"||n==="preserve-aspect"&&!aV(c2(e),c2(t),.2)}function aW(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const lW=HD({attachResizeListener:(n,e)=>vo(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Jx={current:void 0},VD=HD({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Jx.current){const n=new lW({});n.mount(window),n.setOptions({layoutScroll:!0}),Jx.current=n}return Jx.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),cW={pan:{Feature:wV},drag:{Feature:SV,ProjectionNode:VD,MeasureLayout:ND}};function x2(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t);const r=i[t?"onHoverStart":"onHoverEnd"];r&&Jt.postRender(()=>r(e,zh(e)))}class uW extends Xa{mount(){const{current:e,props:t}=this.node;e&&(this.unmount=q9(e,i=>(x2(this.node,i,!0),r=>x2(this.node,r,!1)),{passive:!t.onHoverStart&&!t.onHoverEnd}))}unmount(){}}class dW extends Xa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ta(vo(this.node.current,"focus",()=>this.onFocus()),vo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const WD=(n,e)=>e?n===e?!0:WD(n,e.parentElement):!1;function Kx(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,zh(t))}class fW extends Xa{constructor(){super(...arguments),this.removeStartListeners=Ai,this.removeEndListeners=Ai,this.removeAccessibleListeners=Ai,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),s=Ca(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:h}=this.node.getProps(),p=!h&&!WD(this.node.current,a.target)?d:c;p&&Jt.update(()=>p(a,l))},{passive:!(i.onTap||i.onPointerUp)}),o=Ca(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=Ta(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Kx("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&Jt.postRender(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=vo(this.node.current,"keyup",o),Kx("down",(a,l)=>{this.startPress(a,l)})},t=vo(this.node.current,"keydown",e),i=()=>{this.isPressing&&Kx("cancel",(s,o)=>this.cancelPress(s,o))},r=vo(this.node.current,"blur",i);this.removeAccessibleListeners=Ta(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&Jt.postRender(()=>i(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!wD()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&Jt.postRender(()=>i(e,t))}mount(){const e=this.node.getProps(),t=Ca(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=vo(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ta(t,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const uA=new WeakMap,Yx=new WeakMap,hW=n=>{const e=uA.get(n.target);e&&e(n)},pW=n=>{n.forEach(hW)};function mW({root:n,...e}){const t=n||document;Yx.has(t)||Yx.set(t,{});const i=Yx.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(pW,{root:n,...e})),i[r]}function gW(n,e,t){const i=mW(e);return uA.set(n,t),i.observe(n),()=>{uA.delete(n),i.unobserve(n)}}const vW={some:0,all:1};class yW extends Xa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:vW[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=c?d:h;p&&p(l)};return gW(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(xW(e,t))&&this.startObserver()}unmount(){}}function xW({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const _W={inView:{Feature:yW},tap:{Feature:fW},focus:{Feature:dW},hover:{Feature:uW}},AW={layout:{ProjectionNode:VD,MeasureLayout:ND}},Vw=D.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),yv=D.createContext({}),Ww=typeof window<"u",jD=Ww?D.useLayoutEffect:D.useEffect,XD=D.createContext({strict:!1});function SW(n,e,t,i,r){var s,o;const{visualElement:a}=D.useContext(yv),l=D.useContext(XD),c=D.useContext(vv),d=D.useContext(Vw).reducedMotion,h=D.useRef();i=i||l.renderer,!h.current&&i&&(h.current=i(n,{visualState:e,parent:a,props:t,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,m=D.useContext(DD);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&wW(h.current,t,r,m);const v=D.useRef(!1);D.useInsertionEffect(()=>{p&&v.current&&p.update(t,c)});const _=t[xD],x=D.useRef(!!_&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,_))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,_)));return jD(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Gw.render(p.render),x.current&&p.animationState&&p.animationState.animateChanges())}),D.useEffect(()=>{p&&(!x.current&&p.animationState&&p.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,_)}),x.current=!1))}),p}function wW(n,e,t,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:JD(n.parent)),n.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&gu(a),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:c})}function JD(n){if(n)return n.options.allowProjection!==!1?n.projection:JD(n.parent)}function MW(n,e,t){return D.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):gu(t)&&(t.current=i))},[e])}function xv(n){return pv(n.animate)||Aw.some(e=>lh(n[e]))}function KD(n){return!!(xv(n)||n.variants)}function EW(n,e){if(xv(n)){const{initial:t,animate:i}=n;return{initial:t===!1||lh(t)?t:void 0,animate:lh(i)?i:void 0}}return n.inherit!==!1?e:{}}function TW(n){const{initial:e,animate:t}=EW(n,D.useContext(yv));return D.useMemo(()=>({initial:e,animate:t}),[_2(e),_2(t)])}function _2(n){return Array.isArray(n)?n.join(" "):n}const A2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},id={};for(const n in A2)id[n]={isEnabled:e=>A2[n].some(t=>!!e[t])};function CW(n){for(const e in n)id[e]={...id[e],...n[e]}}const bW=Symbol.for("motionComponentSymbol");function RW({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&CW(n);function s(a,l){let c;const d={...D.useContext(Vw),...a,layoutId:PW(a)},{isStatic:h}=d,p=TW(a),m=i(a,h);if(!h&&Ww){LW();const v=BW(d);c=v.MeasureLayout,p.visualElement=SW(r,m,d,e,v.ProjectionNode)}return U.jsxs(yv.Provider,{value:p,children:[c&&p.visualElement?U.jsx(c,{visualElement:p.visualElement,...d}):null,t(r,a,MW(m,p.visualElement,l),m,h,p.visualElement)]})}const o=D.forwardRef(s);return o[bW]=r,o}function PW({layoutId:n}){const e=D.useContext(Hw).id;return e&&n!==void 0?e+"-"+n:n}function LW(n,e){D.useContext(XD).strict}function BW(n){const{drag:e,layout:t}=id;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const IW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jw(n){return typeof n!="string"||n.includes("-")?!1:!!(IW.indexOf(n)>-1||/[A-Z]/u.test(n))}function YD(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const QD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qD(n,e,t,i){YD(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(QD.has(r)?r:zw(r),e.attrs[r])}function ZD(n,{layout:e,layoutId:t}){return cc.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!E0[n]||n==="opacity")}function Xw(n,e,t){var i;const{style:r}=n,s={};for(const o in r)(_i(r[o])||e.style&&_i(e.style[o])||ZD(o,n)||((i=t==null?void 0:t.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}function $D(n,e,t){const i=Xw(n,e,t);for(const r in n)if(_i(n[r])||_i(e[r])){const s=Oh.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=n[r]}return i}function Jw(n){const e=D.useRef(null);return e.current===null&&(e.current=n()),e.current}function DW({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},i,r,s){const o={latestValues:NW(i,r,s,n),renderState:e()};return t&&(o.mount=a=>t(i,a,o)),o}const eN=n=>(e,t)=>{const i=D.useContext(yv),r=D.useContext(vv),s=()=>DW(n,e,i,r);return t?s():Jw(s)};function NW(n,e,t,i){const r={},s=i(n,{});for(const p in s)r[p]=Ng(s[p]);let{initial:o,animate:a}=n;const l=xv(n),c=KD(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=t?t.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!pv(h)){const p=Array.isArray(h)?h:[h];for(let m=0;m<p.length;m++){const v=xw(n,p[m]);if(v){const{transitionEnd:_,transition:x,...g}=v;for(const A in g){let S=g[A];if(Array.isArray(S)){const M=d?S.length-1:0;S=S[M]}S!==null&&(r[A]=S)}for(const A in _)r[A]=_[A]}}}return r}const Kw=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),tN=()=>({...Kw(),attrs:{}}),nN=(n,e)=>e&&typeof n=="number"?e.transform(n):n,FW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OW=Oh.length;function kW(n,e,t){let i="",r=!0;for(let s=0;s<OW;s++){const o=Oh[s],a=n[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||t){const c=nN(a,Rw[o]);if(!l){r=!1;const d=FW[o]||o;i+=`${d}(${c}) `}t&&(e[o]=c)}}return i=i.trim(),t?i=t(e,r?"":i):r&&(i="none"),i}function Yw(n,e,t){const{style:i,vars:r,transformOrigin:s}=n;let o=!1,a=!1;for(const l in e){const c=e[l];if(cc.has(l)){o=!0;continue}else if(KI(l)){r[l]=c;continue}else{const d=nN(c,Rw[l]);l.startsWith("origin")?(a=!0,s[l]=d):i[l]=d}}if(e.transform||(o||t?i.transform=kW(e,n.transform,t):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;i.transformOrigin=`${l} ${c} ${d}`}}function S2(n,e,t){return typeof n=="string"?n:ct.transform(e+t*n)}function UW(n,e,t){const i=S2(e,n.x,n.width),r=S2(t,n.y,n.height);return`${i} ${r}`}const zW={offset:"stroke-dashoffset",array:"stroke-dasharray"},HW={offset:"strokeDashoffset",array:"strokeDasharray"};function GW(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?zW:HW;n[s.offset]=ct.transform(-i);const o=ct.transform(e),a=ct.transform(t);n[s.array]=`${o} ${a}`}function Qw(n,{attrX:e,attrY:t,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h){if(Yw(n,c,h),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:m,dimensions:v}=n;p.transform&&(v&&(m.transform=p.transform),delete p.transform),v&&(r!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=UW(v,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),i!==void 0&&(p.scale=i),o!==void 0&&GW(p,o,a,l,!1)}const qw=n=>typeof n=="string"&&n.toLowerCase()==="svg",VW={useVisualState:eN({scrapeMotionValuesFromProps:$D,createRenderState:tN,onMount:(n,e,{renderState:t,latestValues:i})=>{Jt.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),Jt.render(()=>{Qw(t,i,qw(e.tagName),n.transformTemplate),qD(e,t)})}})},WW={useVisualState:eN({scrapeMotionValuesFromProps:Xw,createRenderState:Kw})};function iN(n,e,t){for(const i in e)!_i(e[i])&&!ZD(i,t)&&(n[i]=e[i])}function jW({transformTemplate:n},e){return D.useMemo(()=>{const t=Kw();return Yw(t,e,n),Object.assign({},t.vars,t.style)},[e])}function XW(n,e){const t=n.style||{},i={};return iN(i,t,n),Object.assign(i,jW(n,e)),i}function JW(n,e){const t={},i=XW(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const KW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function T0(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||KW.has(n)}let rN=n=>!T0(n);function YW(n){n&&(rN=e=>e.startsWith("on")?!T0(e):n(e))}try{YW(require("@emotion/is-prop-valid").default)}catch{}function QW(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(rN(r)||t===!0&&T0(r)||!e&&!T0(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function qW(n,e,t,i){const r=D.useMemo(()=>{const s=tN();return Qw(s,e,qw(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};iN(s,n.style,n),r.style={...s,...r.style}}return r}function ZW(n=!1){return(t,i,r,{latestValues:s},o)=>{const l=(jw(t)?qW:JW)(i,s,o,t),c=QW(i,typeof t=="string",n),d=t!==D.Fragment?{...c,...l,ref:r}:{},{children:h}=i,p=D.useMemo(()=>_i(h)?h.get():h,[h]);return D.createElement(t,{...d,children:p})}}function $W(n,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...jw(i)?VW:WW,preloadedFeatures:n,useRender:ZW(r),createVisualElement:e,Component:i};return RW(o)}}const C0={current:null},Zw={current:!1};function sN(){if(Zw.current=!0,!!Ww)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>C0.current=n.matches;n.addListener(e),e()}else C0.current=!1}function e7(n,e,t){for(const i in e){const r=e[i],s=t[i];if(_i(r))n.addValue(i,r);else if(_i(s))n.addValue(i,dh(r,{owner:n}));else if(s!==r)if(n.hasValue(i)){const o=n.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=n.getStaticValue(i);n.addValue(i,dh(o!==void 0?o:r,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const w2=new WeakMap,t7=[...qI,yi,ka],n7=n=>t7.find(QI(n)),M2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class i7{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Tw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Os.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Jt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=xv(t),this.isVariantNode=KD(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(t,{},this);for(const p in h){const m=h[p];l[p]!==void 0&&_i(m)&&m.set(l[p],!1)}}mount(e){this.current=e,w2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),Zw.current||sN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:C0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){w2.delete(this.current),this.projection&&this.projection.unmount(),Oa(this.notifyUpdate),Oa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=cc.has(e),r=t.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Jt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in id){const t=id[e];if(!t)continue;const{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Cn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<M2.length;i++){const r=M2[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=e7(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=dh(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(XI(r)||jI(r))?r=parseFloat(r):!n7(r)&&ka.test(t)&&(r=sD(e,t)),this.setBaseTarget(e,_i(r)?r.get():r)),_i(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const o=xw(this.props,i,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);o&&(r=o[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!_i(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Uw),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class oN extends i7{constructor(){super(...arguments),this.KeyframeResolver=oD}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;_i(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function r7(n){return window.getComputedStyle(n)}class s7 extends oN{constructor(){super(...arguments),this.type="html",this.renderInstance=YD}readValueFromInstance(e,t){if(cc.has(t)){const i=Pw(t);return i&&i.default||0}else{const i=r7(e),r=(KI(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return BD(e,t)}build(e,t,i){Yw(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return Xw(e,t,i)}}class o7 extends oN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Cn}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(cc.has(t)){const i=Pw(t);return i&&i.default||0}return t=QD.has(t)?t:zw(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return $D(e,t,i)}build(e,t,i){Qw(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,r){qD(e,t,i,r)}mount(e){this.isSVGTag=qw(e.tagName),super.mount(e)}}const a7=(n,e)=>jw(n)?new o7(e):new s7(e,{allowProjection:n!==D.Fragment}),l7=$W({...Y9,..._W,...cW,...AW},a7),Qn=JG(l7);class c7 extends D.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function u7({children:n,isPresent:e}){const t=D.useId(),i=D.useRef(null),r=D.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=D.useContext(Vw);return D.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=r.current;if(e||!i.current||!o||!a)return;i.current.dataset.motionPopId=t;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),U.jsx(c7,{isPresent:e,childRef:i,sizeRef:r,children:D.cloneElement(n,{ref:i})})}const d7=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o})=>{const a=Jw(f7),l=D.useId(),c=D.useCallback(h=>{a.set(h,!0);for(const p of a.values())if(!p)return;i&&i()},[a,i]),d=D.useMemo(()=>({id:l,initial:e,isPresent:t,custom:r,onExitComplete:c,register:h=>(a.set(h,!1),()=>a.delete(h))}),s?[Math.random(),c]:[t,c]);return D.useMemo(()=>{a.forEach((h,p)=>a.set(p,!1))},[t]),D.useEffect(()=>{!t&&!a.size&&i&&i()},[t]),o==="popLayout"&&(n=U.jsx(u7,{isPresent:t,children:n})),U.jsx(vv.Provider,{value:d,children:n})};function f7(){return new Map}const Sm=n=>n.key||"";function E2(n){const e=[];return D.Children.forEach(n,t=>{D.isValidElement(t)&&e.push(t)}),e}const $w=({children:n,exitBeforeEnter:e,custom:t,initial:i=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=D.useMemo(()=>E2(n),[n]),l=a.map(Sm),c=D.useRef(!0),d=D.useRef(a),h=Jw(()=>new Map),[p,m]=D.useState(a),[v,_]=D.useState(a);jD(()=>{c.current=!1,d.current=a;for(let A=0;A<v.length;A++){const S=Sm(v[A]);l.includes(S)?h.delete(S):h.get(S)!==!0&&h.set(S,!1)}},[v,l.length,l.join("-")]);const x=[];if(a!==p){let A=[...a];for(let S=0;S<v.length;S++){const M=v[S],T=Sm(M);l.includes(T)||(A.splice(S,0,M),x.push(M))}o==="wait"&&x.length&&(A=x),_(E2(A)),m(a);return}const{forceRender:g}=D.useContext(Hw);return U.jsx(U.Fragment,{children:v.map(A=>{const S=Sm(A),M=a===v||l.includes(S),T=()=>{if(h.has(S))h.set(S,!0);else return;let C=!0;h.forEach(P=>{P||(C=!1)}),C&&(g==null||g(),_(d.current),r&&r())};return U.jsx(d7,{isPresent:M,initial:!c.current||i?void 0:!1,custom:M?void 0:t,presenceAffectsLayout:s,mode:o,onExitComplete:M?void 0:T,children:A},S)})})};function h7(){!Zw.current&&sN();const[n]=D.useState(C0.current);return n}const T2=[{name:"Home",href:"#home"},{name:"About",href:"#about"},{name:"Services",href:"#services"},{name:"Skills",href:"#skills"},{name:"Projects",href:"#projects"},{name:"Contact",href:"#contact"}];function p7(){const[n,e]=D.useState(!1);zG(),D.useEffect(()=>(document.body.style.overflow=n?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[n]);const t=i=>{const r=document.querySelector(i);if(!r)return;const o=r.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:o,behavior:"smooth"}),e(!1)};return U.jsxs(U.Fragment,{children:[U.jsx("header",{className:"fixed top-0 left-0 right-0 z-[100] bg-background/70 dark:bg-background/70 backdrop-blur-sm border-b border-border/50",children:U.jsx("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:U.jsxs("div",{className:"flex items-center justify-between h-16 md:h-20",children:[U.jsx("a",{href:"#home",onClick:i=>{i.preventDefault(),t("#home")},className:"text-xl md:text-2xl font-bold","data-testid":"link-logo",children:"Mohit Kumar Dey"}),U.jsx("div",{className:"hidden md:flex items-center gap-8",children:T2.map(i=>U.jsx("a",{href:i.href,onClick:r=>{r.preventDefault(),t(i.href)},className:"text-sm font-medium text-foreground/80 hover:text-foreground transition-colors hover-elevate px-3 py-2 rounded-md","data-testid":`link-nav-${i.name.toLowerCase()}`,children:i.name},i.name))}),U.jsx("div",{className:"flex items-center gap-2 md:gap-4 z-[101]",children:U.jsx($l,{variant:"ghost",size:"icon",className:"md:hidden rounded-full",onClick:()=>e(!n),"data-testid":"button-menu-toggle",children:n?U.jsx(lv,{className:"h-6 w-6"}):U.jsx(TH,{className:"h-6 w-6"})})})]})})}),U.jsx($w,{children:n&&U.jsx(Qn.div,{className:"fixed inset-0 z-[99]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>e(!1),children:U.jsx(Qn.div,{className:"absolute inset-x-0 top-0 bg-background/98 backdrop-blur-2xl shadow-lg",initial:{y:"-100%"},animate:{y:0,transition:{duration:.35,ease:"easeInOut"}},exit:{y:"-100%",transition:{duration:.25,ease:"easeInOut"}},children:U.jsx("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-4rem)] gap-8 p-8",children:T2.map(i=>U.jsx("a",{href:i.href,onClick:r=>{r.preventDefault(),t(i.href)},className:"text-3xl font-bold text-foreground/90 hover:text-foreground transition-colors active:scale-95","data-testid":`link-mobile-${i.name.toLowerCase()}`,children:i.name},i.name))})})})})]})}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Hh="158",_l={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Al={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},aN=0,dA=1,lN=2,m7=3,cN=0,_v=1,Ff=2,$r=3,Vs=0,Ni=1,rs=2,g7=2,wo=0,Gl=1,fA=2,hA=3,pA=4,uN=5,ca=100,dN=101,fN=102,mA=103,gA=104,hN=200,pN=201,mN=202,gN=203,b0=204,R0=205,vN=206,yN=207,xN=208,_N=209,AN=210,SN=211,wN=212,MN=213,EN=214,TN=0,CN=1,bN=2,fh=3,RN=4,PN=5,LN=6,BN=7,Gh=0,IN=1,DN=2,ks=0,NN=1,FN=2,ON=3,eM=4,kN=5,vA="attached",UN="detached",Av=300,Io=301,Ua=302,hh=303,ph=304,yd=306,za=1e3,si=1001,rd=1002,An=1003,mh=1004,v7=1004,Bu=1005,y7=1005,cn=1006,Sv=1007,x7=1007,Ws=1008,_7=1008,Us=1009,zN=1010,HN=1011,wv=1012,tM=1013,yo=1014,Ls=1015,sd=1016,nM=1017,iM=1018,ba=1020,GN=1021,Wi=1023,VN=1024,WN=1025,Ra=1026,ec=1027,jN=1028,rM=1029,XN=1030,sM=1031,oM=1033,Fg=33776,Og=33777,kg=33778,Ug=33779,yA=35840,xA=35841,_A=35842,AA=35843,JN=36196,SA=37492,wA=37496,MA=37808,EA=37809,TA=37810,CA=37811,bA=37812,RA=37813,PA=37814,LA=37815,BA=37816,IA=37817,DA=37818,NA=37819,FA=37820,OA=37821,zg=36492,kA=36494,UA=36495,KN=36283,zA=36284,HA=36285,GA=36286,YN=2200,aM=2201,QN=2202,od=2300,tc=2301,Hg=2302,Rl=2400,Pl=2401,gh=2402,Mv=2500,lM=2501,qN=0,cM=1,P0=2,uM=3e3,Pa=3001,ZN=3200,$N=3201,Ja=0,eF=1,cr="",Fn="srgb",js="srgb-linear",Ev="display-p3",Vh="display-p3-linear",vh="linear",Qt="srgb",yh="rec709",xh="p3",A7=0,Sl=7680,S7=7681,w7=7682,M7=7683,E7=34055,T7=34056,C7=5386,b7=512,R7=513,P7=514,L7=515,B7=516,I7=517,D7=518,VA=519,tF=512,nF=513,iF=514,rF=515,sF=516,oF=517,aF=518,lF=519,_h=35044,N7=35048,F7=35040,O7=35045,k7=35049,U7=35041,z7=35046,H7=35050,G7=35042,V7="100",WA="300 es",L0=1035,Bs=2e3,Ah=2001;let Fo=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}};const mi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let C2=1234567;const Vl=Math.PI/180,ad=180/Math.PI;function pr(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(mi[n&255]+mi[n>>8&255]+mi[n>>16&255]+mi[n>>24&255]+"-"+mi[e&255]+mi[e>>8&255]+"-"+mi[e>>16&15|64]+mi[e>>24&255]+"-"+mi[t&63|128]+mi[t>>8&255]+"-"+mi[t>>16&255]+mi[t>>24&255]+mi[i&255]+mi[i>>8&255]+mi[i>>16&255]+mi[i>>24&255]).toLowerCase()}function Sn(n,e,t){return Math.max(e,Math.min(t,n))}function dM(n,e){return(n%e+e)%e}function W7(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function j7(n,e,t){return n!==e?(t-n)/(e-n):0}function Of(n,e,t){return(1-t)*n+t*e}function X7(n,e,t,i){return Of(n,e,1-Math.exp(-t*i))}function J7(n,e=1){return e-Math.abs(dM(n,e*2)-e)}function K7(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function Y7(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Q7(n,e){return n+Math.floor(Math.random()*(e-n+1))}function q7(n,e){return n+Math.random()*(e-n)}function Z7(n){return n*(.5-Math.random())}function $7(n){n!==void 0&&(C2=n);let e=C2+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function ej(n){return n*Vl}function tj(n){return n*ad}function jA(n){return(n&n-1)===0&&n!==0}function cF(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function B0(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function nj(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+i)/2),d=o((e+i)/2),h=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),v=o((i-e)/2);switch(r){case"XYX":n.set(a*d,l*h,l*p,a*c);break;case"YZY":n.set(l*p,a*d,l*h,a*c);break;case"ZXZ":n.set(l*h,l*p,a*d,a*c);break;case"XZX":n.set(a*d,l*v,l*m,a*c);break;case"YXY":n.set(l*m,a*d,l*v,a*c);break;case"ZYZ":n.set(l*v,l*m,a*d,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function ji(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function At(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const uF={DEG2RAD:Vl,RAD2DEG:ad,generateUUID:pr,clamp:Sn,euclideanModulo:dM,mapLinear:W7,inverseLerp:j7,lerp:Of,damp:X7,pingpong:J7,smoothstep:K7,smootherstep:Y7,randInt:Q7,randFloat:q7,randFloatSpread:Z7,seededRandom:$7,degToRad:ej,radToDeg:tj,isPowerOfTwo:jA,ceilPowerOfTwo:cF,floorPowerOfTwo:B0,setQuaternionFromProperEuler:nj,normalize:At,denormalize:ji};class ge{constructor(e=0,t=0){ge.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Sn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ct{constructor(e,t,i,r,s,o,a,l,c){Ct.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c)}set(e,t,i,r,s,o,a,l,c){const d=this.elements;return d[0]=e,d[1]=r,d[2]=a,d[3]=t,d[4]=s,d[5]=l,d[6]=i,d[7]=o,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],d=i[4],h=i[7],p=i[2],m=i[5],v=i[8],_=r[0],x=r[3],g=r[6],A=r[1],S=r[4],M=r[7],T=r[2],C=r[5],P=r[8];return s[0]=o*_+a*A+l*T,s[3]=o*x+a*S+l*C,s[6]=o*g+a*M+l*P,s[1]=c*_+d*A+h*T,s[4]=c*x+d*S+h*C,s[7]=c*g+d*M+h*P,s[2]=p*_+m*A+v*T,s[5]=p*x+m*S+v*C,s[8]=p*g+m*M+v*P,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8];return t*o*d-t*a*c-i*s*d+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],h=d*o-a*c,p=a*l-d*s,m=c*s-o*l,v=t*h+i*p+r*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/v;return e[0]=h*_,e[1]=(r*c-d*i)*_,e[2]=(a*i-r*o)*_,e[3]=p*_,e[4]=(d*t-r*l)*_,e[5]=(r*s-a*t)*_,e[6]=m*_,e[7]=(i*l-c*t)*_,e[8]=(o*t-i*s)*_,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Qx.makeScale(e,t)),this}rotate(e){return this.premultiply(Qx.makeRotation(-e)),this}translate(e,t){return this.premultiply(Qx.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Qx=new Ct;function dF(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const ij={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function _u(n,e){return new ij[n](e)}function Sh(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function fF(){const n=Sh("canvas");return n.style.display="block",n}const b2={};function kf(n){n in b2||(b2[n]=!0,console.warn(n))}const R2=new Ct().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),P2=new Ct().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),wm={[js]:{transfer:vh,primaries:yh,toReference:n=>n,fromReference:n=>n},[Fn]:{transfer:Qt,primaries:yh,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[Vh]:{transfer:vh,primaries:xh,toReference:n=>n.applyMatrix3(P2),fromReference:n=>n.applyMatrix3(R2)},[Ev]:{transfer:Qt,primaries:xh,toReference:n=>n.convertSRGBToLinear().applyMatrix3(P2),fromReference:n=>n.applyMatrix3(R2).convertLinearToSRGB()}},rj=new Set([js,Vh]),Wt={enabled:!0,_workingColorSpace:js,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!rj.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const i=wm[e].toReference,r=wm[t].fromReference;return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return wm[n].primaries},getTransfer:function(n){return n===cr?vh:wm[n].transfer}};function Iu(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function qx(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Bc;class fM{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Bc===void 0&&(Bc=Sh("canvas")),Bc.width=e.width,Bc.height=e.height;const i=Bc.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Bc}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Sh("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Iu(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Iu(t[i]/255)*255):t[i]=Iu(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let sj=0;class Ll{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:sj++}),this.uuid=pr(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(Zx(r[o].image)):s.push(Zx(r[o]))}else s=Zx(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function Zx(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?fM.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let oj=0;class hn extends Fo{constructor(e=hn.DEFAULT_IMAGE,t=hn.DEFAULT_MAPPING,i=si,r=si,s=cn,o=Ws,a=Wi,l=Us,c=hn.DEFAULT_ANISOTROPY,d=cr){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:oj++}),this.uuid=pr(),this.name="",this.source=new Ll(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ge(0,0),this.repeat=new ge(1,1),this.center=new ge(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ct,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof d=="string"?this.colorSpace=d:(kf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=d===Pa?Fn:cr),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Av)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case za:e.x=e.x-Math.floor(e.x);break;case si:e.x=e.x<0?0:1;break;case rd:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case za:e.y=e.y-Math.floor(e.y);break;case si:e.y=e.y<0?0:1;break;case rd:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return kf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Fn?Pa:uM}set encoding(e){kf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Pa?Fn:cr}}hn.DEFAULT_IMAGE=null;hn.DEFAULT_MAPPING=Av;hn.DEFAULT_ANISOTROPY=1;class jt{constructor(e=0,t=0,i=0,r=1){jt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],d=l[4],h=l[8],p=l[1],m=l[5],v=l[9],_=l[2],x=l[6],g=l[10];if(Math.abs(d-p)<.01&&Math.abs(h-_)<.01&&Math.abs(v-x)<.01){if(Math.abs(d+p)<.1&&Math.abs(h+_)<.1&&Math.abs(v+x)<.1&&Math.abs(c+m+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(c+1)/2,M=(m+1)/2,T=(g+1)/2,C=(d+p)/4,P=(h+_)/4,B=(v+x)/4;return S>M&&S>T?S<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(S),r=C/i,s=P/i):M>T?M<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(M),i=C/r,s=B/r):T<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(T),i=P/s,r=B/s),this.set(i,r,s,t),this}let A=Math.sqrt((x-v)*(x-v)+(h-_)*(h-_)+(p-d)*(p-d));return Math.abs(A)<.001&&(A=1),this.x=(x-v)/A,this.y=(h-_)/A,this.z=(p-d)/A,this.w=Math.acos((c+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class hF extends Fo{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new jt(0,0,e,t),this.scissorTest=!1,this.viewport=new jt(0,0,e,t);const r={width:e,height:t,depth:1};i.encoding!==void 0&&(kf("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===Pa?Fn:cr),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:cn,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},i),this.texture=new hn(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps,this.texture.internalFormat=i.internalFormat,this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Ll(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ds extends hF{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class Tv extends hn{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=An,this.minFilter=An,this.wrapR=si,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class aj extends ds{constructor(e=1,t=1,i=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Tv(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class hM extends hn{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=An,this.minFilter=An,this.wrapR=si,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class lj extends ds{constructor(e=1,t=1,i=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new hM(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class cj extends ds{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class $n{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],d=i[r+2],h=i[r+3];const p=s[o+0],m=s[o+1],v=s[o+2],_=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=d,e[t+3]=h;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=v,e[t+3]=_;return}if(h!==_||l!==p||c!==m||d!==v){let x=1-a;const g=l*p+c*m+d*v+h*_,A=g>=0?1:-1,S=1-g*g;if(S>Number.EPSILON){const T=Math.sqrt(S),C=Math.atan2(T,g*A);x=Math.sin(x*C)/T,a=Math.sin(a*C)/T}const M=a*A;if(l=l*x+p*M,c=c*x+m*M,d=d*x+v*M,h=h*x+_*M,x===1-a){const T=1/Math.sqrt(l*l+c*c+d*d+h*h);l*=T,c*=T,d*=T,h*=T}}e[t]=l,e[t+1]=c,e[t+2]=d,e[t+3]=h}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],d=i[r+3],h=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[t]=a*v+d*h+l*m-c*p,e[t+1]=l*v+d*p+c*h-a*m,e[t+2]=c*v+d*m+a*p-l*h,e[t+3]=d*v-a*h-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),d=a(r/2),h=a(s/2),p=l(i/2),m=l(r/2),v=l(s/2);switch(o){case"XYZ":this._x=p*d*h+c*m*v,this._y=c*m*h-p*d*v,this._z=c*d*v+p*m*h,this._w=c*d*h-p*m*v;break;case"YXZ":this._x=p*d*h+c*m*v,this._y=c*m*h-p*d*v,this._z=c*d*v-p*m*h,this._w=c*d*h+p*m*v;break;case"ZXY":this._x=p*d*h-c*m*v,this._y=c*m*h+p*d*v,this._z=c*d*v+p*m*h,this._w=c*d*h-p*m*v;break;case"ZYX":this._x=p*d*h-c*m*v,this._y=c*m*h+p*d*v,this._z=c*d*v-p*m*h,this._w=c*d*h+p*m*v;break;case"YZX":this._x=p*d*h+c*m*v,this._y=c*m*h+p*d*v,this._z=c*d*v-p*m*h,this._w=c*d*h-p*m*v;break;case"XZY":this._x=p*d*h-c*m*v,this._y=c*m*h-p*d*v,this._z=c*d*v+p*m*h,this._w=c*d*h+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],d=t[6],h=t[10],p=i+a+h;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(d-l)*m,this._y=(s-c)*m,this._z=(o-r)*m}else if(i>a&&i>h){const m=2*Math.sqrt(1+i-a-h);this._w=(d-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+c)/m}else if(a>h){const m=2*Math.sqrt(1+a-i-h);this._w=(s-c)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+d)/m}else{const m=2*Math.sqrt(1+h-i-a);this._w=(o-r)/m,this._x=(s+c)/m,this._y=(l+d)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Sn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,d=t._w;return this._x=i*d+o*a+r*c-s*l,this._y=r*d+o*l+s*a-i*c,this._z=s*d+o*c+i*l-r*a,this._w=o*d-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),d=Math.atan2(c,a),h=Math.sin((1-t)*d)/c,p=Math.sin(t*d)/c;return this._w=o*h+this._w*p,this._x=i*h+this._x*p,this._y=r*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class H{constructor(e=0,t=0,i=0){H.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(L2.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(L2.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*r-a*i),d=2*(a*t-s*r),h=2*(s*i-o*t);return this.x=t+l*c+o*h-a*d,this.y=i+l*d+a*c-s*h,this.z=r+l*h+s*d-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return $x.copy(this).projectOnVector(e),this.sub($x)}reflect(e){return this.sub($x.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Sn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const $x=new H,L2=new $n;class fs{constructor(e=new H(1/0,1/0,1/0),t=new H(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Jr.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Jr.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Jr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Jr):Jr.fromBufferAttribute(s,o),Jr.applyMatrix4(e.matrixWorld),this.expandByPoint(Jr);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Mm.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Mm.copy(i.boundingBox)),Mm.applyMatrix4(e.matrixWorld),this.union(Mm)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Jr),Jr.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(tf),Em.subVectors(this.max,tf),Ic.subVectors(e.a,tf),Dc.subVectors(e.b,tf),Nc.subVectors(e.c,tf),Yo.subVectors(Dc,Ic),Qo.subVectors(Nc,Dc),ol.subVectors(Ic,Nc);let t=[0,-Yo.z,Yo.y,0,-Qo.z,Qo.y,0,-ol.z,ol.y,Yo.z,0,-Yo.x,Qo.z,0,-Qo.x,ol.z,0,-ol.x,-Yo.y,Yo.x,0,-Qo.y,Qo.x,0,-ol.y,ol.x,0];return!e1(t,Ic,Dc,Nc,Em)||(t=[1,0,0,0,1,0,0,0,1],!e1(t,Ic,Dc,Nc,Em))?!1:(Tm.crossVectors(Yo,Qo),t=[Tm.x,Tm.y,Tm.z],e1(t,Ic,Dc,Nc,Em))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Jr).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Jr).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(no[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),no[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),no[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),no[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),no[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),no[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),no[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),no[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(no),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const no=[new H,new H,new H,new H,new H,new H,new H,new H],Jr=new H,Mm=new fs,Ic=new H,Dc=new H,Nc=new H,Yo=new H,Qo=new H,ol=new H,tf=new H,Em=new H,Tm=new H,al=new H;function e1(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){al.fromArray(n,s);const a=r.x*Math.abs(al.x)+r.y*Math.abs(al.y)+r.z*Math.abs(al.z),l=e.dot(al),c=t.dot(al),d=i.dot(al);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>a)return!1}return!0}const uj=new fs,nf=new H,t1=new H;class Gr{constructor(e=new H,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):uj.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;nf.subVectors(e,this.center);const t=nf.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(nf,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(t1.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(nf.copy(e.center).add(t1)),this.expandByPoint(nf.copy(e.center).sub(t1))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const io=new H,n1=new H,Cm=new H,qo=new H,i1=new H,bm=new H,r1=new H;class uc{constructor(e=new H,t=new H(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,io)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=io.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(io.copy(this.origin).addScaledVector(this.direction,t),io.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){n1.copy(e).add(t).multiplyScalar(.5),Cm.copy(t).sub(e).normalize(),qo.copy(this.origin).sub(n1);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Cm),a=qo.dot(this.direction),l=-qo.dot(Cm),c=qo.lengthSq(),d=Math.abs(1-o*o);let h,p,m,v;if(d>0)if(h=o*l-a,p=o*a-l,v=s*d,h>=0)if(p>=-v)if(p<=v){const _=1/d;h*=_,p*=_,m=h*(h+o*p+2*a)+p*(o*h+p+2*l)+c}else p=s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;else p=-s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;else p<=-v?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+c):p<=v?(h=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+c);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,h),r&&r.copy(n1).addScaledVector(Cm,p),m}intersectSphere(e,t){io.subVectors(e.center,this.origin);const i=io.dot(this.direction),r=io.dot(io)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,d=1/this.direction.y,h=1/this.direction.z,p=this.origin;return c>=0?(i=(e.min.x-p.x)*c,r=(e.max.x-p.x)*c):(i=(e.max.x-p.x)*c,r=(e.min.x-p.x)*c),d>=0?(s=(e.min.y-p.y)*d,o=(e.max.y-p.y)*d):(s=(e.max.y-p.y)*d,o=(e.min.y-p.y)*d),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,io)!==null}intersectTriangle(e,t,i,r,s){i1.subVectors(t,e),bm.subVectors(i,e),r1.crossVectors(i1,bm);let o=this.direction.dot(r1),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;qo.subVectors(this.origin,e);const l=a*this.direction.dot(bm.crossVectors(qo,bm));if(l<0)return null;const c=a*this.direction.dot(i1.cross(qo));if(c<0||l+c>o)return null;const d=-a*qo.dot(r1);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ht{constructor(e,t,i,r,s,o,a,l,c,d,h,p,m,v,_,x){ht.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c,d,h,p,m,v,_,x)}set(e,t,i,r,s,o,a,l,c,d,h,p,m,v,_,x){const g=this.elements;return g[0]=e,g[4]=t,g[8]=i,g[12]=r,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=d,g[10]=h,g[14]=p,g[3]=m,g[7]=v,g[11]=_,g[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ht().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Fc.setFromMatrixColumn(e,0).length(),s=1/Fc.setFromMatrixColumn(e,1).length(),o=1/Fc.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),d=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*d,m=o*h,v=a*d,_=a*h;t[0]=l*d,t[4]=-l*h,t[8]=c,t[1]=m+v*c,t[5]=p-_*c,t[9]=-a*l,t[2]=_-p*c,t[6]=v+m*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*d,m=l*h,v=c*d,_=c*h;t[0]=p+_*a,t[4]=v*a-m,t[8]=o*c,t[1]=o*h,t[5]=o*d,t[9]=-a,t[2]=m*a-v,t[6]=_+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*d,m=l*h,v=c*d,_=c*h;t[0]=p-_*a,t[4]=-o*h,t[8]=v+m*a,t[1]=m+v*a,t[5]=o*d,t[9]=_-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*d,m=o*h,v=a*d,_=a*h;t[0]=l*d,t[4]=v*c-m,t[8]=p*c+_,t[1]=l*h,t[5]=_*c+p,t[9]=m*c-v,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,v=a*l,_=a*c;t[0]=l*d,t[4]=_-p*h,t[8]=v*h+m,t[1]=h,t[5]=o*d,t[9]=-a*d,t[2]=-c*d,t[6]=m*h+v,t[10]=p-_*h}else if(e.order==="XZY"){const p=o*l,m=o*c,v=a*l,_=a*c;t[0]=l*d,t[4]=-h,t[8]=c*d,t[1]=p*h+_,t[5]=o*d,t[9]=m*h-v,t[2]=v*h-m,t[6]=a*d,t[10]=_*h+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(dj,e,fj)}lookAt(e,t,i){const r=this.elements;return rr.subVectors(e,t),rr.lengthSq()===0&&(rr.z=1),rr.normalize(),Zo.crossVectors(i,rr),Zo.lengthSq()===0&&(Math.abs(i.z)===1?rr.x+=1e-4:rr.z+=1e-4,rr.normalize(),Zo.crossVectors(i,rr)),Zo.normalize(),Rm.crossVectors(rr,Zo),r[0]=Zo.x,r[4]=Rm.x,r[8]=rr.x,r[1]=Zo.y,r[5]=Rm.y,r[9]=rr.y,r[2]=Zo.z,r[6]=Rm.z,r[10]=rr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],d=i[1],h=i[5],p=i[9],m=i[13],v=i[2],_=i[6],x=i[10],g=i[14],A=i[3],S=i[7],M=i[11],T=i[15],C=r[0],P=r[4],B=r[8],R=r[12],L=r[1],O=r[5],G=r[9],Q=r[13],F=r[2],q=r[6],ee=r[10],$=r[14],I=r[3],V=r[7],W=r[11],z=r[15];return s[0]=o*C+a*L+l*F+c*I,s[4]=o*P+a*O+l*q+c*V,s[8]=o*B+a*G+l*ee+c*W,s[12]=o*R+a*Q+l*$+c*z,s[1]=d*C+h*L+p*F+m*I,s[5]=d*P+h*O+p*q+m*V,s[9]=d*B+h*G+p*ee+m*W,s[13]=d*R+h*Q+p*$+m*z,s[2]=v*C+_*L+x*F+g*I,s[6]=v*P+_*O+x*q+g*V,s[10]=v*B+_*G+x*ee+g*W,s[14]=v*R+_*Q+x*$+g*z,s[3]=A*C+S*L+M*F+T*I,s[7]=A*P+S*O+M*q+T*V,s[11]=A*B+S*G+M*ee+T*W,s[15]=A*R+S*Q+M*$+T*z,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],d=e[2],h=e[6],p=e[10],m=e[14],v=e[3],_=e[7],x=e[11],g=e[15];return v*(+s*l*h-r*c*h-s*a*p+i*c*p+r*a*m-i*l*m)+_*(+t*l*m-t*c*p+s*o*p-r*o*m+r*c*d-s*l*d)+x*(+t*c*h-t*a*m-s*o*h+i*o*m+s*a*d-i*c*d)+g*(-r*a*d-t*l*h+t*a*p+r*o*h-i*o*p+i*l*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],h=e[9],p=e[10],m=e[11],v=e[12],_=e[13],x=e[14],g=e[15],A=h*x*c-_*p*c+_*l*m-a*x*m-h*l*g+a*p*g,S=v*p*c-d*x*c-v*l*m+o*x*m+d*l*g-o*p*g,M=d*_*c-v*h*c+v*a*m-o*_*m-d*a*g+o*h*g,T=v*h*l-d*_*l-v*a*p+o*_*p+d*a*x-o*h*x,C=t*A+i*S+r*M+s*T;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/C;return e[0]=A*P,e[1]=(_*p*s-h*x*s-_*r*m+i*x*m+h*r*g-i*p*g)*P,e[2]=(a*x*s-_*l*s+_*r*c-i*x*c-a*r*g+i*l*g)*P,e[3]=(h*l*s-a*p*s-h*r*c+i*p*c+a*r*m-i*l*m)*P,e[4]=S*P,e[5]=(d*x*s-v*p*s+v*r*m-t*x*m-d*r*g+t*p*g)*P,e[6]=(v*l*s-o*x*s-v*r*c+t*x*c+o*r*g-t*l*g)*P,e[7]=(o*p*s-d*l*s+d*r*c-t*p*c-o*r*m+t*l*m)*P,e[8]=M*P,e[9]=(v*h*s-d*_*s-v*i*m+t*_*m+d*i*g-t*h*g)*P,e[10]=(o*_*s-v*a*s+v*i*c-t*_*c-o*i*g+t*a*g)*P,e[11]=(d*a*s-o*h*s-d*i*c+t*h*c+o*i*m-t*a*m)*P,e[12]=T*P,e[13]=(d*_*r-v*h*r+v*i*p-t*_*p-d*i*x+t*h*x)*P,e[14]=(v*a*r-o*_*r-v*i*l+t*_*l+o*i*x-t*a*x)*P,e[15]=(o*h*r-d*a*r+d*i*l-t*h*l-o*i*p+t*a*p)*P,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,d=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,d*a+i,d*l-r*o,0,c*l-r*a,d*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,d=o+o,h=a+a,p=s*c,m=s*d,v=s*h,_=o*d,x=o*h,g=a*h,A=l*c,S=l*d,M=l*h,T=i.x,C=i.y,P=i.z;return r[0]=(1-(_+g))*T,r[1]=(m+M)*T,r[2]=(v-S)*T,r[3]=0,r[4]=(m-M)*C,r[5]=(1-(p+g))*C,r[6]=(x+A)*C,r[7]=0,r[8]=(v+S)*P,r[9]=(x-A)*P,r[10]=(1-(p+_))*P,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=Fc.set(r[0],r[1],r[2]).length();const o=Fc.set(r[4],r[5],r[6]).length(),a=Fc.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Kr.copy(this);const c=1/s,d=1/o,h=1/a;return Kr.elements[0]*=c,Kr.elements[1]*=c,Kr.elements[2]*=c,Kr.elements[4]*=d,Kr.elements[5]*=d,Kr.elements[6]*=d,Kr.elements[8]*=h,Kr.elements[9]*=h,Kr.elements[10]*=h,t.setFromRotationMatrix(Kr),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o,a=Bs){const l=this.elements,c=2*s/(t-e),d=2*s/(i-r),h=(t+e)/(t-e),p=(i+r)/(i-r);let m,v;if(a===Bs)m=-(o+s)/(o-s),v=-2*o*s/(o-s);else if(a===Ah)m=-o/(o-s),v=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=d,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,o,a=Bs){const l=this.elements,c=1/(t-e),d=1/(i-r),h=1/(o-s),p=(t+e)*c,m=(i+r)*d;let v,_;if(a===Bs)v=(o+s)*h,_=-2*h;else if(a===Ah)v=s*h,_=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*d,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=_,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Fc=new H,Kr=new ht,dj=new H(0,0,0),fj=new H(1,1,1),Zo=new H,Rm=new H,rr=new H,B2=new ht,I2=new $n;class Wh{constructor(e=0,t=0,i=0,r=Wh.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],d=r[9],h=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(Sn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Sn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Sn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Sn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Sn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Sn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return B2.makeRotationFromQuaternion(e),this.setFromRotationMatrix(B2,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return I2.setFromEuler(this),this.setFromQuaternion(I2,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Wh.DEFAULT_ORDER="XYZ";class Wl{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let hj=0;const D2=new H,Oc=new $n,ro=new ht,Pm=new H,rf=new H,pj=new H,mj=new $n,N2=new H(1,0,0),F2=new H(0,1,0),O2=new H(0,0,1),gj={type:"added"},vj={type:"removed"};class Bt extends Fo{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:hj++}),this.uuid=pr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Bt.DEFAULT_UP.clone();const e=new H,t=new Wh,i=new $n,r=new H(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new ht},normalMatrix:{value:new Ct}}),this.matrix=new ht,this.matrixWorld=new ht,this.matrixAutoUpdate=Bt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Bt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Wl,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Oc.setFromAxisAngle(e,t),this.quaternion.multiply(Oc),this}rotateOnWorldAxis(e,t){return Oc.setFromAxisAngle(e,t),this.quaternion.premultiply(Oc),this}rotateX(e){return this.rotateOnAxis(N2,e)}rotateY(e){return this.rotateOnAxis(F2,e)}rotateZ(e){return this.rotateOnAxis(O2,e)}translateOnAxis(e,t){return D2.copy(e).applyQuaternion(this.quaternion),this.position.add(D2.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(N2,e)}translateY(e){return this.translateOnAxis(F2,e)}translateZ(e){return this.translateOnAxis(O2,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ro.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Pm.copy(e):Pm.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),rf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ro.lookAt(rf,Pm,this.up):ro.lookAt(Pm,rf,this.up),this.quaternion.setFromRotationMatrix(ro),r&&(ro.extractRotation(r.matrixWorld),Oc.setFromRotationMatrix(ro),this.quaternion.premultiply(Oc.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(gj)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(vj)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),ro.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ro.multiply(e.parent.matrixWorld)),e.applyMatrix4(ro),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,t);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(rf,e,pj),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(rf,mj,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,d=l.length;c<d;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),d=o(e.images),h=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),d.length>0&&(i.images=d),h.length>0&&(i.shapes=h),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),v.length>0&&(i.nodes=v)}return i.object=r,i;function o(a){const l=[];for(const c in a){const d=a[c];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Bt.DEFAULT_UP=new H(0,1,0);Bt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Bt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Yr=new H,so=new H,s1=new H,oo=new H,kc=new H,Uc=new H,k2=new H,o1=new H,a1=new H,l1=new H;let Lm=!1;class Vi{constructor(e=new H,t=new H,i=new H){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Yr.subVectors(e,t),r.cross(Yr);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Yr.subVectors(r,t),so.subVectors(i,t),s1.subVectors(e,t);const o=Yr.dot(Yr),a=Yr.dot(so),l=Yr.dot(s1),c=so.dot(so),d=so.dot(s1),h=o*c-a*a;if(h===0)return s.set(-2,-1,-1);const p=1/h,m=(c*l-a*d)*p,v=(o*d-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,oo),oo.x>=0&&oo.y>=0&&oo.x+oo.y<=1}static getUV(e,t,i,r,s,o,a,l){return Lm===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Lm=!0),this.getInterpolation(e,t,i,r,s,o,a,l)}static getInterpolation(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,oo),l.setScalar(0),l.addScaledVector(s,oo.x),l.addScaledVector(o,oo.y),l.addScaledVector(a,oo.z),l}static isFrontFacing(e,t,i,r){return Yr.subVectors(i,t),so.subVectors(e,t),Yr.cross(so).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Yr.subVectors(this.c,this.b),so.subVectors(this.a,this.b),Yr.cross(so).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Vi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Vi.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return Lm===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Lm=!0),Vi.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}getInterpolation(e,t,i,r,s){return Vi.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Vi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Vi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;kc.subVectors(r,i),Uc.subVectors(s,i),o1.subVectors(e,i);const l=kc.dot(o1),c=Uc.dot(o1);if(l<=0&&c<=0)return t.copy(i);a1.subVectors(e,r);const d=kc.dot(a1),h=Uc.dot(a1);if(d>=0&&h<=d)return t.copy(r);const p=l*h-d*c;if(p<=0&&l>=0&&d<=0)return o=l/(l-d),t.copy(i).addScaledVector(kc,o);l1.subVectors(e,s);const m=kc.dot(l1),v=Uc.dot(l1);if(v>=0&&m<=v)return t.copy(s);const _=m*c-l*v;if(_<=0&&c>=0&&v<=0)return a=c/(c-v),t.copy(i).addScaledVector(Uc,a);const x=d*v-m*h;if(x<=0&&h-d>=0&&m-v>=0)return k2.subVectors(s,r),a=(h-d)/(h-d+(m-v)),t.copy(r).addScaledVector(k2,a);const g=1/(x+_+p);return o=_*g,a=p*g,t.copy(i).addScaledVector(kc,o).addScaledVector(Uc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const pF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},$o={h:0,s:0,l:0},Bm={h:0,s:0,l:0};function c1(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class ze{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Fn){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Wt.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Wt.workingColorSpace){return this.r=e,this.g=t,this.b=i,Wt.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Wt.workingColorSpace){if(e=dM(e,1),t=Sn(t,0,1),i=Sn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=c1(o,s,e+1/3),this.g=c1(o,s,e),this.b=c1(o,s,e-1/3)}return Wt.toWorkingColorSpace(this,r),this}setStyle(e,t=Fn){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Fn){const i=pF[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Iu(e.r),this.g=Iu(e.g),this.b=Iu(e.b),this}copyLinearToSRGB(e){return this.r=qx(e.r),this.g=qx(e.g),this.b=qx(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Fn){return Wt.fromWorkingColorSpace(gi.copy(this),e),Math.round(Sn(gi.r*255,0,255))*65536+Math.round(Sn(gi.g*255,0,255))*256+Math.round(Sn(gi.b*255,0,255))}getHexString(e=Fn){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Wt.workingColorSpace){Wt.fromWorkingColorSpace(gi.copy(this),t);const i=gi.r,r=gi.g,s=gi.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const d=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=d<=.5?h/(o+a):h/(2-o-a),o){case i:l=(r-s)/h+(r<s?6:0);break;case r:l=(s-i)/h+2;break;case s:l=(i-r)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=d,e}getRGB(e,t=Wt.workingColorSpace){return Wt.fromWorkingColorSpace(gi.copy(this),t),e.r=gi.r,e.g=gi.g,e.b=gi.b,e}getStyle(e=Fn){Wt.fromWorkingColorSpace(gi.copy(this),e);const t=gi.r,i=gi.g,r=gi.b;return e!==Fn?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL($o),this.setHSL($o.h+e,$o.s+t,$o.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL($o),e.getHSL(Bm);const i=Of($o.h,Bm.h,t),r=Of($o.s,Bm.s,t),s=Of($o.l,Bm.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const gi=new ze;ze.NAMES=pF;let yj=0;class Un extends Fo{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:yj++}),this.uuid=pr(),this.name="",this.type="Material",this.blending=Gl,this.side=Vs,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=b0,this.blendDst=R0,this.blendEquation=ca,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ze(0,0,0),this.blendAlpha=0,this.depthFunc=fh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=VA,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Sl,this.stencilZFail=Sl,this.stencilZPass=Sl,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Gl&&(i.blending=this.blending),this.side!==Vs&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==b0&&(i.blendSrc=this.blendSrc),this.blendDst!==R0&&(i.blendDst=this.blendDst),this.blendEquation!==ca&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==fh&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==VA&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Sl&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Sl&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Sl&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class dr extends Un{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ze(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Gh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const po=xj();function xj(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,d=0;for(;!(c&8388608);)c<<=1,d-=8388608;c&=-8388609,d+=947912704,s[l]=c|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function Hi(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Sn(n,-65504,65504),po.floatView[0]=n;const e=po.uint32View[0],t=e>>23&511;return po.baseTable[t]+((e&8388607)>>po.shiftTable[t])}function Af(n){const e=n>>10;return po.uint32View[0]=po.mantissaTable[po.offsetTable[e]+(n&1023)]+po.exponentTable[e],po.floatView[0]}const _j={toHalfFloat:Hi,fromHalfFloat:Af},Bn=new H,Im=new ge;class Ht{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=_h,this.updateRange={offset:0,count:-1},this.gpuType=Ls,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Im.fromBufferAttribute(this,t),Im.applyMatrix3(e),this.setXY(t,Im.x,Im.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Bn.fromBufferAttribute(this,t),Bn.applyMatrix3(e),this.setXYZ(t,Bn.x,Bn.y,Bn.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Bn.fromBufferAttribute(this,t),Bn.applyMatrix4(e),this.setXYZ(t,Bn.x,Bn.y,Bn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Bn.fromBufferAttribute(this,t),Bn.applyNormalMatrix(e),this.setXYZ(t,Bn.x,Bn.y,Bn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Bn.fromBufferAttribute(this,t),Bn.transformDirection(e),this.setXYZ(t,Bn.x,Bn.y,Bn.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=ji(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=At(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ji(t,this.array)),t}setX(e,t){return this.normalized&&(t=At(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ji(t,this.array)),t}setY(e,t){return this.normalized&&(t=At(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ji(t,this.array)),t}setZ(e,t){return this.normalized&&(t=At(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ji(t,this.array)),t}setW(e,t){return this.normalized&&(t=At(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=At(t,this.array),i=At(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=At(t,this.array),i=At(i,this.array),r=At(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=At(t,this.array),i=At(i,this.array),r=At(r,this.array),s=At(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==_h&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class Aj extends Ht{constructor(e,t,i){super(new Int8Array(e),t,i)}}class Sj extends Ht{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class wj extends Ht{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class Mj extends Ht{constructor(e,t,i){super(new Int16Array(e),t,i)}}class pM extends Ht{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class Ej extends Ht{constructor(e,t,i){super(new Int32Array(e),t,i)}}class mM extends Ht{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class Tj extends Ht{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=Af(this.array[e*this.itemSize]);return this.normalized&&(t=ji(t,this.array)),t}setX(e,t){return this.normalized&&(t=At(t,this.array)),this.array[e*this.itemSize]=Hi(t),this}getY(e){let t=Af(this.array[e*this.itemSize+1]);return this.normalized&&(t=ji(t,this.array)),t}setY(e,t){return this.normalized&&(t=At(t,this.array)),this.array[e*this.itemSize+1]=Hi(t),this}getZ(e){let t=Af(this.array[e*this.itemSize+2]);return this.normalized&&(t=ji(t,this.array)),t}setZ(e,t){return this.normalized&&(t=At(t,this.array)),this.array[e*this.itemSize+2]=Hi(t),this}getW(e){let t=Af(this.array[e*this.itemSize+3]);return this.normalized&&(t=ji(t,this.array)),t}setW(e,t){return this.normalized&&(t=At(t,this.array)),this.array[e*this.itemSize+3]=Hi(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=At(t,this.array),i=At(i,this.array)),this.array[e+0]=Hi(t),this.array[e+1]=Hi(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=At(t,this.array),i=At(i,this.array),r=At(r,this.array)),this.array[e+0]=Hi(t),this.array[e+1]=Hi(i),this.array[e+2]=Hi(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=At(t,this.array),i=At(i,this.array),r=At(r,this.array),s=At(s,this.array)),this.array[e+0]=Hi(t),this.array[e+1]=Hi(i),this.array[e+2]=Hi(r),this.array[e+3]=Hi(s),this}}class Ze extends Ht{constructor(e,t,i){super(new Float32Array(e),t,i)}}class Cj extends Ht{constructor(e,t,i){super(new Float64Array(e),t,i)}}let bj=0;const Br=new ht,u1=new Bt,zc=new H,sr=new fs,sf=new fs,Kn=new H;class St extends Fo{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:bj++}),this.uuid=pr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(dF(e)?mM:pM)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Ct().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Br.makeRotationFromQuaternion(e),this.applyMatrix4(Br),this}rotateX(e){return Br.makeRotationX(e),this.applyMatrix4(Br),this}rotateY(e){return Br.makeRotationY(e),this.applyMatrix4(Br),this}rotateZ(e){return Br.makeRotationZ(e),this.applyMatrix4(Br),this}translate(e,t,i){return Br.makeTranslation(e,t,i),this.applyMatrix4(Br),this}scale(e,t,i){return Br.makeScale(e,t,i),this.applyMatrix4(Br),this}lookAt(e){return u1.lookAt(e),u1.updateMatrix(),this.applyMatrix4(u1.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(zc).negate(),this.translate(zc.x,zc.y,zc.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Ze(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new fs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new H(-1/0,-1/0,-1/0),new H(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];sr.setFromBufferAttribute(s),this.morphTargetsRelative?(Kn.addVectors(this.boundingBox.min,sr.min),this.boundingBox.expandByPoint(Kn),Kn.addVectors(this.boundingBox.max,sr.max),this.boundingBox.expandByPoint(Kn)):(this.boundingBox.expandByPoint(sr.min),this.boundingBox.expandByPoint(sr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Gr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new H,1/0);return}if(e){const i=this.boundingSphere.center;if(sr.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];sf.setFromBufferAttribute(a),this.morphTargetsRelative?(Kn.addVectors(sr.min,sf.min),sr.expandByPoint(Kn),Kn.addVectors(sr.max,sf.max),sr.expandByPoint(Kn)):(sr.expandByPoint(sf.min),sr.expandByPoint(sf.max))}sr.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Kn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Kn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,d=a.count;c<d;c++)Kn.fromBufferAttribute(a,c),l&&(zc.fromBufferAttribute(e,c),Kn.add(zc)),r=Math.max(r,i.distanceToSquared(Kn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ht(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],d=[];for(let L=0;L<a;L++)c[L]=new H,d[L]=new H;const h=new H,p=new H,m=new H,v=new ge,_=new ge,x=new ge,g=new H,A=new H;function S(L,O,G){h.fromArray(r,L*3),p.fromArray(r,O*3),m.fromArray(r,G*3),v.fromArray(o,L*2),_.fromArray(o,O*2),x.fromArray(o,G*2),p.sub(h),m.sub(h),_.sub(v),x.sub(v);const Q=1/(_.x*x.y-x.x*_.y);isFinite(Q)&&(g.copy(p).multiplyScalar(x.y).addScaledVector(m,-_.y).multiplyScalar(Q),A.copy(m).multiplyScalar(_.x).addScaledVector(p,-x.x).multiplyScalar(Q),c[L].add(g),c[O].add(g),c[G].add(g),d[L].add(A),d[O].add(A),d[G].add(A))}let M=this.groups;M.length===0&&(M=[{start:0,count:i.length}]);for(let L=0,O=M.length;L<O;++L){const G=M[L],Q=G.start,F=G.count;for(let q=Q,ee=Q+F;q<ee;q+=3)S(i[q+0],i[q+1],i[q+2])}const T=new H,C=new H,P=new H,B=new H;function R(L){P.fromArray(s,L*3),B.copy(P);const O=c[L];T.copy(O),T.sub(P.multiplyScalar(P.dot(O))).normalize(),C.crossVectors(B,O);const Q=C.dot(d[L])<0?-1:1;l[L*4]=T.x,l[L*4+1]=T.y,l[L*4+2]=T.z,l[L*4+3]=Q}for(let L=0,O=M.length;L<O;++L){const G=M[L],Q=G.start,F=G.count;for(let q=Q,ee=Q+F;q<ee;q+=3)R(i[q+0]),R(i[q+1]),R(i[q+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Ht(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new H,s=new H,o=new H,a=new H,l=new H,c=new H,d=new H,h=new H;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),_=e.getX(p+1),x=e.getX(p+2);r.fromBufferAttribute(t,v),s.fromBufferAttribute(t,_),o.fromBufferAttribute(t,x),d.subVectors(o,s),h.subVectors(r,s),d.cross(h),a.fromBufferAttribute(i,v),l.fromBufferAttribute(i,_),c.fromBufferAttribute(i,x),a.add(d),l.add(d),c.add(d),i.setXYZ(v,a.x,a.y,a.z),i.setXYZ(_,l.x,l.y,l.z),i.setXYZ(x,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),d.subVectors(o,s),h.subVectors(r,s),d.cross(h),i.setXYZ(p+0,d.x,d.y,d.z),i.setXYZ(p+1,d.x,d.y,d.z),i.setXYZ(p+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Kn.fromBufferAttribute(e,t),Kn.normalize(),e.setXYZ(t,Kn.x,Kn.y,Kn.z)}toNonIndexed(){function e(a,l){const c=a.array,d=a.itemSize,h=a.normalized,p=new c.constructor(l.length*d);let m=0,v=0;for(let _=0,x=l.length;_<x;_++){a.isInterleavedBufferAttribute?m=l[_]*a.data.stride+a.offset:m=l[_]*d;for(let g=0;g<d;g++)p[v++]=c[m++]}return new Ht(p,d,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new St,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let d=0,h=c.length;d<h;d++){const p=c[d],m=e(p,i);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],d=[];for(let h=0,p=c.length;h<p;h++){const m=c[h];d.push(m.toJSON(e.data))}d.length>0&&(r[l]=d,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r){const d=r[c];this.setAttribute(c,d.clone(t))}const s=e.morphAttributes;for(const c in s){const d=[],h=s[c];for(let p=0,m=h.length;p<m;p++)d.push(h[p].clone(t));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,d=o.length;c<d;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const U2=new ht,ll=new uc,Dm=new Gr,z2=new H,Hc=new H,Gc=new H,Vc=new H,d1=new H,Nm=new H,Fm=new ge,Om=new ge,km=new ge,H2=new H,G2=new H,V2=new H,Um=new H,zm=new H;class qn extends Bt{constructor(e=new St,t=new dr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){Nm.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const d=a[l],h=s[l];d!==0&&(d1.fromBufferAttribute(h,e),o?Nm.addScaledVector(d1,d):Nm.addScaledVector(d1.sub(t),d))}t.add(Nm)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Dm.copy(i.boundingSphere),Dm.applyMatrix4(s),ll.copy(e.ray).recast(e.near),!(Dm.containsPoint(ll.origin)===!1&&(ll.intersectSphere(Dm,z2)===null||ll.origin.distanceToSquared(z2)>(e.far-e.near)**2))&&(U2.copy(s).invert(),ll.copy(e.ray).applyMatrix4(U2),!(i.boundingBox!==null&&ll.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,ll)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,d=s.attributes.uv1,h=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,_=p.length;v<_;v++){const x=p[v],g=o[x.materialIndex],A=Math.max(x.start,m.start),S=Math.min(a.count,Math.min(x.start+x.count,m.start+m.count));for(let M=A,T=S;M<T;M+=3){const C=a.getX(M),P=a.getX(M+1),B=a.getX(M+2);r=Hm(this,g,e,i,c,d,h,C,P,B),r&&(r.faceIndex=Math.floor(M/3),r.face.materialIndex=x.materialIndex,t.push(r))}}else{const v=Math.max(0,m.start),_=Math.min(a.count,m.start+m.count);for(let x=v,g=_;x<g;x+=3){const A=a.getX(x),S=a.getX(x+1),M=a.getX(x+2);r=Hm(this,o,e,i,c,d,h,A,S,M),r&&(r.faceIndex=Math.floor(x/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,_=p.length;v<_;v++){const x=p[v],g=o[x.materialIndex],A=Math.max(x.start,m.start),S=Math.min(l.count,Math.min(x.start+x.count,m.start+m.count));for(let M=A,T=S;M<T;M+=3){const C=M,P=M+1,B=M+2;r=Hm(this,g,e,i,c,d,h,C,P,B),r&&(r.faceIndex=Math.floor(M/3),r.face.materialIndex=x.materialIndex,t.push(r))}}else{const v=Math.max(0,m.start),_=Math.min(l.count,m.start+m.count);for(let x=v,g=_;x<g;x+=3){const A=x,S=x+1,M=x+2;r=Hm(this,o,e,i,c,d,h,A,S,M),r&&(r.faceIndex=Math.floor(x/3),t.push(r))}}}}function Rj(n,e,t,i,r,s,o,a){let l;if(e.side===Ni?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===Vs,a),l===null)return null;zm.copy(a),zm.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(zm);return c<t.near||c>t.far?null:{distance:c,point:zm.clone(),object:n}}function Hm(n,e,t,i,r,s,o,a,l,c){n.getVertexPosition(a,Hc),n.getVertexPosition(l,Gc),n.getVertexPosition(c,Vc);const d=Rj(n,e,t,i,Hc,Gc,Vc,Um);if(d){r&&(Fm.fromBufferAttribute(r,a),Om.fromBufferAttribute(r,l),km.fromBufferAttribute(r,c),d.uv=Vi.getInterpolation(Um,Hc,Gc,Vc,Fm,Om,km,new ge)),s&&(Fm.fromBufferAttribute(s,a),Om.fromBufferAttribute(s,l),km.fromBufferAttribute(s,c),d.uv1=Vi.getInterpolation(Um,Hc,Gc,Vc,Fm,Om,km,new ge),d.uv2=d.uv1),o&&(H2.fromBufferAttribute(o,a),G2.fromBufferAttribute(o,l),V2.fromBufferAttribute(o,c),d.normal=Vi.getInterpolation(Um,Hc,Gc,Vc,H2,G2,V2,new H),d.normal.dot(i.direction)>0&&d.normal.multiplyScalar(-1));const h={a,b:l,c,normal:new H,materialIndex:0};Vi.getNormal(Hc,Gc,Vc,h.normal),d.face=h}return d}class dc extends St{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],d=[],h=[];let p=0,m=0;v("z","y","x",-1,-1,i,t,e,o,s,0),v("z","y","x",1,-1,i,t,-e,o,s,1),v("x","z","y",1,1,e,i,t,r,o,2),v("x","z","y",1,-1,e,i,-t,r,o,3),v("x","y","z",1,-1,e,t,i,r,s,4),v("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Ze(c,3)),this.setAttribute("normal",new Ze(d,3)),this.setAttribute("uv",new Ze(h,2));function v(_,x,g,A,S,M,T,C,P,B,R){const L=M/P,O=T/B,G=M/2,Q=T/2,F=C/2,q=P+1,ee=B+1;let $=0,I=0;const V=new H;for(let W=0;W<ee;W++){const z=W*O-Q;for(let K=0;K<q;K++){const ue=K*L-G;V[_]=ue*A,V[x]=z*S,V[g]=F,c.push(V.x,V.y,V.z),V[_]=0,V[x]=0,V[g]=C>0?1:-1,d.push(V.x,V.y,V.z),h.push(K/P),h.push(1-W/B),$+=1}}for(let W=0;W<B;W++)for(let z=0;z<P;z++){const K=p+z+q*W,ue=p+z+q*(W+1),ve=p+(z+1)+q*(W+1),Ae=p+(z+1)+q*W;l.push(K,ue,Ae),l.push(ue,ve,Ae),I+=6}a.addGroup(m,I,R),m+=I,p+=$}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ld(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Ri(n){const e={};for(let t=0;t<n.length;t++){const i=ld(n[t]);for(const r in i)e[r]=i[r]}return e}function Pj(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function mF(n){return n.getRenderTarget()===null?n.outputColorSpace:Wt.workingColorSpace}const gF={clone:ld,merge:Ri};var Lj=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Bj=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Xs extends Un{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Lj,this.fragmentShader=Bj,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ld(e.uniforms),this.uniformsGroups=Pj(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class jh extends Bt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ht,this.projectionMatrix=new ht,this.projectionMatrixInverse=new ht,this.coordinateSystem=Bs}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class wn extends jh{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=ad*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Vl*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return ad*2*Math.atan(Math.tan(Vl*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Vl*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Wc=-90,jc=1;class vF extends Bt{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new wn(Wc,jc,e,t);r.layers=this.layers,this.add(r);const s=new wn(Wc,jc,e,t);s.layers=this.layers,this.add(s);const o=new wn(Wc,jc,e,t);o.layers=this.layers,this.add(o);const a=new wn(Wc,jc,e,t);a.layers=this.layers,this.add(a);const l=new wn(Wc,jc,e,t);l.layers=this.layers,this.add(l);const c=new wn(Wc,jc,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===Bs)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Ah)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,d]=this.children,h=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const _=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,o),e.setRenderTarget(i,2,r),e.render(t,a),e.setRenderTarget(i,3,r),e.render(t,l),e.setRenderTarget(i,4,r),e.render(t,c),i.texture.generateMipmaps=_,e.setRenderTarget(i,5,r),e.render(t,d),e.setRenderTarget(h,p,m),e.xr.enabled=v,i.texture.needsPMREMUpdate=!0}}class Xh extends hn{constructor(e,t,i,r,s,o,a,l,c,d){e=e!==void 0?e:[],t=t!==void 0?t:Io,super(e,t,i,r,s,o,a,l,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class yF extends ds{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];t.encoding!==void 0&&(kf("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===Pa?Fn:cr),this.texture=new Xh(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:cn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new dc(5,5,5),s=new Xs({name:"CubemapFromEquirect",uniforms:ld(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Ni,blending:wo});s.uniforms.tEquirect.value=t;const o=new qn(r,s),a=t.minFilter;return t.minFilter===Ws&&(t.minFilter=cn),new vF(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const f1=new H,Ij=new H,Dj=new Ct;class ho{constructor(e=new H(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=f1.subVectors(i,t).cross(Ij.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(f1),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||Dj.getNormalMatrix(e),r=this.coplanarPoint(f1).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const cl=new Gr,Gm=new H;class Cv{constructor(e=new ho,t=new ho,i=new ho,r=new ho,s=new ho,o=new ho){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Bs){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],d=r[5],h=r[6],p=r[7],m=r[8],v=r[9],_=r[10],x=r[11],g=r[12],A=r[13],S=r[14],M=r[15];if(i[0].setComponents(l-s,p-c,x-m,M-g).normalize(),i[1].setComponents(l+s,p+c,x+m,M+g).normalize(),i[2].setComponents(l+o,p+d,x+v,M+A).normalize(),i[3].setComponents(l-o,p-d,x-v,M-A).normalize(),i[4].setComponents(l-a,p-h,x-_,M-S).normalize(),t===Bs)i[5].setComponents(l+a,p+h,x+_,M+S).normalize();else if(t===Ah)i[5].setComponents(a,h,_,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),cl.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),cl.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(cl)}intersectsSprite(e){return cl.center.set(0,0,0),cl.radius=.7071067811865476,cl.applyMatrix4(e.matrixWorld),this.intersectsSphere(cl)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Gm.x=r.normal.x>0?e.max.x:e.min.x,Gm.y=r.normal.y>0?e.max.y:e.min.y,Gm.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Gm)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function xF(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function Nj(n,e){const t=e.isWebGL2,i=new WeakMap;function r(c,d){const h=c.array,p=c.usage,m=n.createBuffer();n.bindBuffer(d,m),n.bufferData(d,h,p),c.onUploadCallback();let v;if(h instanceof Float32Array)v=n.FLOAT;else if(h instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)v=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=n.UNSIGNED_SHORT;else if(h instanceof Int16Array)v=n.SHORT;else if(h instanceof Uint32Array)v=n.UNSIGNED_INT;else if(h instanceof Int32Array)v=n.INT;else if(h instanceof Int8Array)v=n.BYTE;else if(h instanceof Uint8Array)v=n.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)v=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:m,type:v,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version}}function s(c,d,h){const p=d.array,m=d.updateRange;n.bindBuffer(h,c),m.count===-1?n.bufferSubData(h,0,p):(t?n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),d.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const d=i.get(c);d&&(n.deleteBuffer(d.buffer),i.delete(c))}function l(c,d){if(c.isGLBufferAttribute){const p=i.get(c);(!p||p.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const h=i.get(c);h===void 0?i.set(c,r(c,d)):h.version<c.version&&(s(h.buffer,c,d),h.version=c.version)}return{get:o,remove:a,update:l}}class Jh extends St{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,d=l+1,h=e/a,p=t/l,m=[],v=[],_=[],x=[];for(let g=0;g<d;g++){const A=g*p-o;for(let S=0;S<c;S++){const M=S*h-s;v.push(M,-A,0),_.push(0,0,1),x.push(S/a),x.push(1-g/l)}}for(let g=0;g<l;g++)for(let A=0;A<a;A++){const S=A+c*g,M=A+c*(g+1),T=A+1+c*(g+1),C=A+1+c*g;m.push(S,M,C),m.push(M,T,C)}this.setIndex(m),this.setAttribute("position",new Ze(v,3)),this.setAttribute("normal",new Ze(_,3)),this.setAttribute("uv",new Ze(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jh(e.width,e.height,e.widthSegments,e.heightSegments)}}var Fj=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Oj=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,kj=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Uj=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,zj=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Hj=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Gj=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Vj=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Wj=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,jj=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Xj=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Jj=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Kj=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Yj=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Qj=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,qj=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Zj=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,$j=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,eX=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,tX=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,nX=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,iX=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,rX=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,sX=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,oX=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,aX=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,lX=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,cX=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,uX="gl_FragColor = linearToOutputTexel( gl_FragColor );",dX=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,fX=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,hX=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,pX=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,mX=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,gX=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,vX=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,yX=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,xX=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,_X=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,AX=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,SX=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,wX=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,MX=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,EX=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,TX=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,CX=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,bX=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,RX=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,PX=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,LX=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,BX=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,IX=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,DX=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,NX=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,FX=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,OX=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,kX=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,UX=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,zX=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,HX=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,GX=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,VX=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,WX=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,jX=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,XX=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,JX=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,KX=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,YX=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,QX=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,qX=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,ZX=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,$X=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,eJ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,tJ=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,nJ=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,iJ=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,rJ=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,sJ=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,oJ=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,aJ=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,lJ=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,cJ=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,uJ=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dJ=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,fJ=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,hJ=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,pJ=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,mJ=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,gJ=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,vJ=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,yJ=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,xJ=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,_J=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,AJ=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,SJ=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,wJ=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,MJ=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,EJ=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,TJ=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,CJ=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,bJ=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,RJ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,PJ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,LJ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,BJ=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const IJ=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,DJ=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,NJ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,FJ=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,OJ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,kJ=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,UJ=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,zJ=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,HJ=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,GJ=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,VJ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,WJ=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,jJ=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,XJ=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,JJ=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,KJ=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,YJ=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,QJ=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qJ=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,ZJ=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$J=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,eK=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,tK=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nK=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iK=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,rK=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sK=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,oK=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aK=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,lK=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,cK=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,uK=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,dK=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fK=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,_t={alphahash_fragment:Fj,alphahash_pars_fragment:Oj,alphamap_fragment:kj,alphamap_pars_fragment:Uj,alphatest_fragment:zj,alphatest_pars_fragment:Hj,aomap_fragment:Gj,aomap_pars_fragment:Vj,begin_vertex:Wj,beginnormal_vertex:jj,bsdfs:Xj,iridescence_fragment:Jj,bumpmap_pars_fragment:Kj,clipping_planes_fragment:Yj,clipping_planes_pars_fragment:Qj,clipping_planes_pars_vertex:qj,clipping_planes_vertex:Zj,color_fragment:$j,color_pars_fragment:eX,color_pars_vertex:tX,color_vertex:nX,common:iX,cube_uv_reflection_fragment:rX,defaultnormal_vertex:sX,displacementmap_pars_vertex:oX,displacementmap_vertex:aX,emissivemap_fragment:lX,emissivemap_pars_fragment:cX,colorspace_fragment:uX,colorspace_pars_fragment:dX,envmap_fragment:fX,envmap_common_pars_fragment:hX,envmap_pars_fragment:pX,envmap_pars_vertex:mX,envmap_physical_pars_fragment:CX,envmap_vertex:gX,fog_vertex:vX,fog_pars_vertex:yX,fog_fragment:xX,fog_pars_fragment:_X,gradientmap_pars_fragment:AX,lightmap_fragment:SX,lightmap_pars_fragment:wX,lights_lambert_fragment:MX,lights_lambert_pars_fragment:EX,lights_pars_begin:TX,lights_toon_fragment:bX,lights_toon_pars_fragment:RX,lights_phong_fragment:PX,lights_phong_pars_fragment:LX,lights_physical_fragment:BX,lights_physical_pars_fragment:IX,lights_fragment_begin:DX,lights_fragment_maps:NX,lights_fragment_end:FX,logdepthbuf_fragment:OX,logdepthbuf_pars_fragment:kX,logdepthbuf_pars_vertex:UX,logdepthbuf_vertex:zX,map_fragment:HX,map_pars_fragment:GX,map_particle_fragment:VX,map_particle_pars_fragment:WX,metalnessmap_fragment:jX,metalnessmap_pars_fragment:XX,morphcolor_vertex:JX,morphnormal_vertex:KX,morphtarget_pars_vertex:YX,morphtarget_vertex:QX,normal_fragment_begin:qX,normal_fragment_maps:ZX,normal_pars_fragment:$X,normal_pars_vertex:eJ,normal_vertex:tJ,normalmap_pars_fragment:nJ,clearcoat_normal_fragment_begin:iJ,clearcoat_normal_fragment_maps:rJ,clearcoat_pars_fragment:sJ,iridescence_pars_fragment:oJ,opaque_fragment:aJ,packing:lJ,premultiplied_alpha_fragment:cJ,project_vertex:uJ,dithering_fragment:dJ,dithering_pars_fragment:fJ,roughnessmap_fragment:hJ,roughnessmap_pars_fragment:pJ,shadowmap_pars_fragment:mJ,shadowmap_pars_vertex:gJ,shadowmap_vertex:vJ,shadowmask_pars_fragment:yJ,skinbase_vertex:xJ,skinning_pars_vertex:_J,skinning_vertex:AJ,skinnormal_vertex:SJ,specularmap_fragment:wJ,specularmap_pars_fragment:MJ,tonemapping_fragment:EJ,tonemapping_pars_fragment:TJ,transmission_fragment:CJ,transmission_pars_fragment:bJ,uv_pars_fragment:RJ,uv_pars_vertex:PJ,uv_vertex:LJ,worldpos_vertex:BJ,background_vert:IJ,background_frag:DJ,backgroundCube_vert:NJ,backgroundCube_frag:FJ,cube_vert:OJ,cube_frag:kJ,depth_vert:UJ,depth_frag:zJ,distanceRGBA_vert:HJ,distanceRGBA_frag:GJ,equirect_vert:VJ,equirect_frag:WJ,linedashed_vert:jJ,linedashed_frag:XJ,meshbasic_vert:JJ,meshbasic_frag:KJ,meshlambert_vert:YJ,meshlambert_frag:QJ,meshmatcap_vert:qJ,meshmatcap_frag:ZJ,meshnormal_vert:$J,meshnormal_frag:eK,meshphong_vert:tK,meshphong_frag:nK,meshphysical_vert:iK,meshphysical_frag:rK,meshtoon_vert:sK,meshtoon_frag:oK,points_vert:aK,points_frag:lK,shadow_vert:cK,shadow_frag:uK,sprite_vert:dK,sprite_frag:fK},Fe={common:{diffuse:{value:new ze(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ct},alphaMap:{value:null},alphaMapTransform:{value:new Ct},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ct}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ct}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ct}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ct},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ct},normalScale:{value:new ge(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ct},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ct}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ct}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ct}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ze(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ze(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ct},alphaTest:{value:0},uvTransform:{value:new Ct}},sprite:{diffuse:{value:new ze(16777215)},opacity:{value:1},center:{value:new ge(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ct},alphaMap:{value:null},alphaMapTransform:{value:new Ct},alphaTest:{value:0}}},is={basic:{uniforms:Ri([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.fog]),vertexShader:_t.meshbasic_vert,fragmentShader:_t.meshbasic_frag},lambert:{uniforms:Ri([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,Fe.lights,{emissive:{value:new ze(0)}}]),vertexShader:_t.meshlambert_vert,fragmentShader:_t.meshlambert_frag},phong:{uniforms:Ri([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,Fe.lights,{emissive:{value:new ze(0)},specular:{value:new ze(1118481)},shininess:{value:30}}]),vertexShader:_t.meshphong_vert,fragmentShader:_t.meshphong_frag},standard:{uniforms:Ri([Fe.common,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.roughnessmap,Fe.metalnessmap,Fe.fog,Fe.lights,{emissive:{value:new ze(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:_t.meshphysical_vert,fragmentShader:_t.meshphysical_frag},toon:{uniforms:Ri([Fe.common,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.gradientmap,Fe.fog,Fe.lights,{emissive:{value:new ze(0)}}]),vertexShader:_t.meshtoon_vert,fragmentShader:_t.meshtoon_frag},matcap:{uniforms:Ri([Fe.common,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,{matcap:{value:null}}]),vertexShader:_t.meshmatcap_vert,fragmentShader:_t.meshmatcap_frag},points:{uniforms:Ri([Fe.points,Fe.fog]),vertexShader:_t.points_vert,fragmentShader:_t.points_frag},dashed:{uniforms:Ri([Fe.common,Fe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:_t.linedashed_vert,fragmentShader:_t.linedashed_frag},depth:{uniforms:Ri([Fe.common,Fe.displacementmap]),vertexShader:_t.depth_vert,fragmentShader:_t.depth_frag},normal:{uniforms:Ri([Fe.common,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,{opacity:{value:1}}]),vertexShader:_t.meshnormal_vert,fragmentShader:_t.meshnormal_frag},sprite:{uniforms:Ri([Fe.sprite,Fe.fog]),vertexShader:_t.sprite_vert,fragmentShader:_t.sprite_frag},background:{uniforms:{uvTransform:{value:new Ct},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:_t.background_vert,fragmentShader:_t.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:_t.backgroundCube_vert,fragmentShader:_t.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:_t.cube_vert,fragmentShader:_t.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:_t.equirect_vert,fragmentShader:_t.equirect_frag},distanceRGBA:{uniforms:Ri([Fe.common,Fe.displacementmap,{referencePosition:{value:new H},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:_t.distanceRGBA_vert,fragmentShader:_t.distanceRGBA_frag},shadow:{uniforms:Ri([Fe.lights,Fe.fog,{color:{value:new ze(0)},opacity:{value:1}}]),vertexShader:_t.shadow_vert,fragmentShader:_t.shadow_frag}};is.physical={uniforms:Ri([is.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ct},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ct},clearcoatNormalScale:{value:new ge(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ct},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ct},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ct},sheen:{value:0},sheenColor:{value:new ze(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ct},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ct},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ct},transmissionSamplerSize:{value:new ge},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ct},attenuationDistance:{value:0},attenuationColor:{value:new ze(0)},specularColor:{value:new ze(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ct},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ct},anisotropyVector:{value:new ge},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ct}}]),vertexShader:_t.meshphysical_vert,fragmentShader:_t.meshphysical_frag};const Vm={r:0,b:0,g:0};function hK(n,e,t,i,r,s,o){const a=new ze(0);let l=s===!0?0:1,c,d,h=null,p=0,m=null;function v(x,g){let A=!1,S=g.isScene===!0?g.background:null;S&&S.isTexture&&(S=(g.backgroundBlurriness>0?t:e).get(S)),S===null?_(a,l):S&&S.isColor&&(_(S,1),A=!0);const M=n.xr.getEnvironmentBlendMode();M==="additive"?i.buffers.color.setClear(0,0,0,1,o):M==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||A)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),S&&(S.isCubeTexture||S.mapping===yd)?(d===void 0&&(d=new qn(new dc(1,1,1),new Xs({name:"BackgroundCubeMaterial",uniforms:ld(is.backgroundCube.uniforms),vertexShader:is.backgroundCube.vertexShader,fragmentShader:is.backgroundCube.fragmentShader,side:Ni,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(T,C,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),d.material.uniforms.envMap.value=S,d.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,d.material.toneMapped=Wt.getTransfer(S.colorSpace)!==Qt,(h!==S||p!==S.version||m!==n.toneMapping)&&(d.material.needsUpdate=!0,h=S,p=S.version,m=n.toneMapping),d.layers.enableAll(),x.unshift(d,d.geometry,d.material,0,0,null)):S&&S.isTexture&&(c===void 0&&(c=new qn(new Jh(2,2),new Xs({name:"BackgroundMaterial",uniforms:ld(is.background.uniforms),vertexShader:is.background.vertexShader,fragmentShader:is.background.fragmentShader,side:Vs,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=S,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=Wt.getTransfer(S.colorSpace)!==Qt,S.matrixAutoUpdate===!0&&S.updateMatrix(),c.material.uniforms.uvTransform.value.copy(S.matrix),(h!==S||p!==S.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,h=S,p=S.version,m=n.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null))}function _(x,g){x.getRGB(Vm,mF(n)),i.buffers.color.setClear(Vm.r,Vm.g,Vm.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(x,g=1){a.set(x),l=g,_(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,_(a,l)},render:v}}function pK(n,e,t,i){const r=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=x(null);let c=l,d=!1;function h(F,q,ee,$,I){let V=!1;if(o){const W=_($,ee,q);c!==W&&(c=W,m(c.object)),V=g(F,$,ee,I),V&&A(F,$,ee,I)}else{const W=q.wireframe===!0;(c.geometry!==$.id||c.program!==ee.id||c.wireframe!==W)&&(c.geometry=$.id,c.program=ee.id,c.wireframe=W,V=!0)}I!==null&&t.update(I,n.ELEMENT_ARRAY_BUFFER),(V||d)&&(d=!1,B(F,q,ee,$),I!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(I).buffer))}function p(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(F){return i.isWebGL2?n.bindVertexArray(F):s.bindVertexArrayOES(F)}function v(F){return i.isWebGL2?n.deleteVertexArray(F):s.deleteVertexArrayOES(F)}function _(F,q,ee){const $=ee.wireframe===!0;let I=a[F.id];I===void 0&&(I={},a[F.id]=I);let V=I[q.id];V===void 0&&(V={},I[q.id]=V);let W=V[$];return W===void 0&&(W=x(p()),V[$]=W),W}function x(F){const q=[],ee=[],$=[];for(let I=0;I<r;I++)q[I]=0,ee[I]=0,$[I]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:q,enabledAttributes:ee,attributeDivisors:$,object:F,attributes:{},index:null}}function g(F,q,ee,$){const I=c.attributes,V=q.attributes;let W=0;const z=ee.getAttributes();for(const K in z)if(z[K].location>=0){const ve=I[K];let Ae=V[K];if(Ae===void 0&&(K==="instanceMatrix"&&F.instanceMatrix&&(Ae=F.instanceMatrix),K==="instanceColor"&&F.instanceColor&&(Ae=F.instanceColor)),ve===void 0||ve.attribute!==Ae||Ae&&ve.data!==Ae.data)return!0;W++}return c.attributesNum!==W||c.index!==$}function A(F,q,ee,$){const I={},V=q.attributes;let W=0;const z=ee.getAttributes();for(const K in z)if(z[K].location>=0){let ve=V[K];ve===void 0&&(K==="instanceMatrix"&&F.instanceMatrix&&(ve=F.instanceMatrix),K==="instanceColor"&&F.instanceColor&&(ve=F.instanceColor));const Ae={};Ae.attribute=ve,ve&&ve.data&&(Ae.data=ve.data),I[K]=Ae,W++}c.attributes=I,c.attributesNum=W,c.index=$}function S(){const F=c.newAttributes;for(let q=0,ee=F.length;q<ee;q++)F[q]=0}function M(F){T(F,0)}function T(F,q){const ee=c.newAttributes,$=c.enabledAttributes,I=c.attributeDivisors;ee[F]=1,$[F]===0&&(n.enableVertexAttribArray(F),$[F]=1),I[F]!==q&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](F,q),I[F]=q)}function C(){const F=c.newAttributes,q=c.enabledAttributes;for(let ee=0,$=q.length;ee<$;ee++)q[ee]!==F[ee]&&(n.disableVertexAttribArray(ee),q[ee]=0)}function P(F,q,ee,$,I,V,W){W===!0?n.vertexAttribIPointer(F,q,ee,I,V):n.vertexAttribPointer(F,q,ee,$,I,V)}function B(F,q,ee,$){if(i.isWebGL2===!1&&(F.isInstancedMesh||$.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const I=$.attributes,V=ee.getAttributes(),W=q.defaultAttributeValues;for(const z in V){const K=V[z];if(K.location>=0){let ue=I[z];if(ue===void 0&&(z==="instanceMatrix"&&F.instanceMatrix&&(ue=F.instanceMatrix),z==="instanceColor"&&F.instanceColor&&(ue=F.instanceColor)),ue!==void 0){const ve=ue.normalized,Ae=ue.itemSize,be=t.get(ue);if(be===void 0)continue;const Be=be.buffer,Oe=be.type,Je=be.bytesPerElement,ot=i.isWebGL2===!0&&(Oe===n.INT||Oe===n.UNSIGNED_INT||ue.gpuType===tM);if(ue.isInterleavedBufferAttribute){const He=ue.data,J=He.stride,pe=ue.offset;if(He.isInstancedInterleavedBuffer){for(let re=0;re<K.locationSize;re++)T(K.location+re,He.meshPerAttribute);F.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=He.meshPerAttribute*He.count)}else for(let re=0;re<K.locationSize;re++)M(K.location+re);n.bindBuffer(n.ARRAY_BUFFER,Be);for(let re=0;re<K.locationSize;re++)P(K.location+re,Ae/K.locationSize,Oe,ve,J*Je,(pe+Ae/K.locationSize*re)*Je,ot)}else{if(ue.isInstancedBufferAttribute){for(let He=0;He<K.locationSize;He++)T(K.location+He,ue.meshPerAttribute);F.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=ue.meshPerAttribute*ue.count)}else for(let He=0;He<K.locationSize;He++)M(K.location+He);n.bindBuffer(n.ARRAY_BUFFER,Be);for(let He=0;He<K.locationSize;He++)P(K.location+He,Ae/K.locationSize,Oe,ve,Ae*Je,Ae/K.locationSize*He*Je,ot)}}else if(W!==void 0){const ve=W[z];if(ve!==void 0)switch(ve.length){case 2:n.vertexAttrib2fv(K.location,ve);break;case 3:n.vertexAttrib3fv(K.location,ve);break;case 4:n.vertexAttrib4fv(K.location,ve);break;default:n.vertexAttrib1fv(K.location,ve)}}}}C()}function R(){G();for(const F in a){const q=a[F];for(const ee in q){const $=q[ee];for(const I in $)v($[I].object),delete $[I];delete q[ee]}delete a[F]}}function L(F){if(a[F.id]===void 0)return;const q=a[F.id];for(const ee in q){const $=q[ee];for(const I in $)v($[I].object),delete $[I];delete q[ee]}delete a[F.id]}function O(F){for(const q in a){const ee=a[q];if(ee[F.id]===void 0)continue;const $=ee[F.id];for(const I in $)v($[I].object),delete $[I];delete ee[F.id]}}function G(){Q(),d=!0,c!==l&&(c=l,m(c.object))}function Q(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:G,resetDefaultState:Q,dispose:R,releaseStatesOfGeometry:L,releaseStatesOfProgram:O,initAttributes:S,enableAttribute:M,disableUnusedAttributes:C}}function mK(n,e,t,i){const r=i.isWebGL2;let s;function o(c){s=c}function a(c,d){n.drawArrays(s,c,d),t.update(d,s,1)}function l(c,d,h){if(h===0)return;let p,m;if(r)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,c,d,h),t.update(d,s,h)}this.setMode=o,this.render=a,this.renderInstances=l}function gK(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(P){if(P==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),d=t.logarithmicDepthBuffer===!0,h=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_TEXTURE_SIZE),v=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),_=n.getParameter(n.MAX_VERTEX_ATTRIBS),x=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),g=n.getParameter(n.MAX_VARYING_VECTORS),A=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),S=p>0,M=o||e.has("OES_texture_float"),T=S&&M,C=o?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:d,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:v,maxAttributes:_,maxVertexUniforms:x,maxVaryings:g,maxFragmentUniforms:A,vertexTextures:S,floatFragmentTextures:M,floatVertexTextures:T,maxSamples:C}}function vK(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new ho,a=new Ct,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const m=h.length!==0||p||i!==0||r;return r=p,i=h.length,m},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,p){t=d(h,p,0)},this.setState=function(h,p,m){const v=h.clippingPlanes,_=h.clipIntersection,x=h.clipShadows,g=n.get(h);if(!r||v===null||v.length===0||s&&!x)s?d(null):c();else{const A=s?0:i,S=A*4;let M=g.clippingState||null;l.value=M,M=d(v,p,S,m);for(let T=0;T!==S;++T)M[T]=t[T];g.clippingState=M,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=A}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(h,p,m,v){const _=h!==null?h.length:0;let x=null;if(_!==0){if(x=l.value,v!==!0||x===null){const g=m+_*4,A=p.matrixWorldInverse;a.getNormalMatrix(A),(x===null||x.length<g)&&(x=new Float32Array(g));for(let S=0,M=m;S!==_;++S,M+=4)o.copy(h[S]).applyMatrix4(A,a),o.normal.toArray(x,M),x[M+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,x}}function yK(n){let e=new WeakMap;function t(o,a){return a===hh?o.mapping=Io:a===ph&&(o.mapping=Ua),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===hh||a===ph)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new yF(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class Mo extends jh{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Au=4,W2=[.125,.215,.35,.446,.526,.582],Ml=20,h1=new Mo,j2=new ze;let p1=null,m1=0,g1=0;const wl=(1+Math.sqrt(5))/2,Xc=1/wl,X2=[new H(1,1,1),new H(-1,1,1),new H(1,1,-1),new H(-1,1,-1),new H(0,wl,Xc),new H(0,wl,-Xc),new H(Xc,0,wl),new H(-Xc,0,wl),new H(wl,Xc,0),new H(-wl,Xc,0)];class XA{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){p1=this._renderer.getRenderTarget(),m1=this._renderer.getActiveCubeFace(),g1=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Y2(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=K2(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(p1,m1,g1),e.scissorTest=!1,Wm(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Io||e.mapping===Ua?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),p1=this._renderer.getRenderTarget(),m1=this._renderer.getActiveCubeFace(),g1=this._renderer.getActiveMipmapLevel();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:cn,minFilter:cn,generateMipmaps:!1,type:sd,format:Wi,colorSpace:js,depthBuffer:!1},r=J2(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=J2(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=xK(s)),this._blurMaterial=_K(s,e,t)}return r}_compileMaterial(e){const t=new qn(this._lodPlanes[0],e);this._renderer.compile(t,h1)}_sceneToCubeUV(e,t,i,r){const a=new wn(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],d=this._renderer,h=d.autoClear,p=d.toneMapping;d.getClearColor(j2),d.toneMapping=ks,d.autoClear=!1;const m=new dr({name:"PMREM.Background",side:Ni,depthWrite:!1,depthTest:!1}),v=new qn(new dc,m);let _=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,_=!0):(m.color.copy(j2),_=!0);for(let g=0;g<6;g++){const A=g%3;A===0?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):A===1?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const S=this._cubeSize;Wm(r,A*S,g>2?S:0,S,S),d.setRenderTarget(r),_&&d.render(v,a),d.render(e,a)}v.geometry.dispose(),v.material.dispose(),d.toneMapping=p,d.autoClear=h,e.background=x}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Io||e.mapping===Ua;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=Y2()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=K2());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new qn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Wm(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,h1)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=X2[(r-1)%X2.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,h=new qn(this._lodPlanes[r],c),p=c.uniforms,m=this._sizeLods[i]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Ml-1),_=s/v,x=isFinite(s)?1+Math.floor(d*_):Ml;x>Ml&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Ml}`);const g=[];let A=0;for(let P=0;P<Ml;++P){const B=P/_,R=Math.exp(-B*B/2);g.push(R),P===0?A+=R:P<x&&(A+=2*R)}for(let P=0;P<g.length;P++)g[P]=g[P]/A;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:S}=this;p.dTheta.value=v,p.mipInt.value=S-i;const M=this._sizeLods[r],T=3*M*(r>S-Au?r-S+Au:0),C=4*(this._cubeSize-M);Wm(t,T,C,3*M,2*M),l.setRenderTarget(t),l.render(h,h1)}}function xK(n){const e=[],t=[],i=[];let r=n;const s=n-Au+1+W2.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-Au?l=W2[o-n+Au-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),d=-c,h=1+c,p=[d,d,h,d,h,h,d,d,h,h,d,h],m=6,v=6,_=3,x=2,g=1,A=new Float32Array(_*v*m),S=new Float32Array(x*v*m),M=new Float32Array(g*v*m);for(let C=0;C<m;C++){const P=C%3*2/3-1,B=C>2?0:-1,R=[P,B,0,P+2/3,B,0,P+2/3,B+1,0,P,B,0,P+2/3,B+1,0,P,B+1,0];A.set(R,_*v*C),S.set(p,x*v*C);const L=[C,C,C,C,C,C];M.set(L,g*v*C)}const T=new St;T.setAttribute("position",new Ht(A,_)),T.setAttribute("uv",new Ht(S,x)),T.setAttribute("faceIndex",new Ht(M,g)),e.push(T),r>Au&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function J2(n,e,t){const i=new ds(n,e,t);return i.texture.mapping=yd,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Wm(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function _K(n,e,t){const i=new Float32Array(Ml),r=new H(0,1,0);return new Xs({name:"SphericalGaussianBlur",defines:{n:Ml,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:gM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:wo,depthTest:!1,depthWrite:!1})}function K2(){return new Xs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:gM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:wo,depthTest:!1,depthWrite:!1})}function Y2(){return new Xs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:gM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:wo,depthTest:!1,depthWrite:!1})}function gM(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function AK(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===hh||l===ph,d=l===Io||l===Ua;if(c||d)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return t===null&&(t=new XA(n)),h=c?t.fromEquirectangular(a,h):t.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(c&&h&&h.height>0||d&&h&&r(h)){t===null&&(t=new XA(n));const p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let l=0;const c=6;for(let d=0;d<c;d++)a[d]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function SK(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function wK(n,e,t,i){const r={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);for(const v in p.morphAttributes){const _=p.morphAttributes[v];for(let x=0,g=_.length;x<g;x++)e.remove(_[x])}p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(h,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(h){const p=h.attributes;for(const v in p)e.update(p[v],n.ARRAY_BUFFER);const m=h.morphAttributes;for(const v in m){const _=m[v];for(let x=0,g=_.length;x<g;x++)e.update(_[x],n.ARRAY_BUFFER)}}function c(h){const p=[],m=h.index,v=h.attributes.position;let _=0;if(m!==null){const A=m.array;_=m.version;for(let S=0,M=A.length;S<M;S+=3){const T=A[S+0],C=A[S+1],P=A[S+2];p.push(T,C,C,P,P,T)}}else if(v!==void 0){const A=v.array;_=v.version;for(let S=0,M=A.length/3-1;S<M;S+=3){const T=S+0,C=S+1,P=S+2;p.push(T,C,C,P,P,T)}}else return;const x=new(dF(p)?mM:pM)(p,1);x.version=_;const g=s.get(h);g&&e.remove(g),s.set(h,x)}function d(h){const p=s.get(h);if(p){const m=h.index;m!==null&&p.version<m.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:d}}function MK(n,e,t,i){const r=i.isWebGL2;let s;function o(p){s=p}let a,l;function c(p){a=p.type,l=p.bytesPerElement}function d(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function h(p,m,v){if(v===0)return;let _,x;if(r)_=n,x="drawElementsInstanced";else if(_=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",_===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}_[x](s,m,a,p*l,v),t.update(m,s,v)}this.setMode=o,this.setIndex=c,this.render=d,this.renderInstances=h}function EK(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function TK(n,e){return n[0]-e[0]}function CK(n,e){return Math.abs(e[1])-Math.abs(n[1])}function bK(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new jt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,d,h){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const v=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,_=v!==void 0?v.length:0;let x=s.get(d);if(x===void 0||x.count!==_){let q=function(){Q.dispose(),s.delete(d),d.removeEventListener("dispose",q)};var m=q;x!==void 0&&x.texture.dispose();const S=d.morphAttributes.position!==void 0,M=d.morphAttributes.normal!==void 0,T=d.morphAttributes.color!==void 0,C=d.morphAttributes.position||[],P=d.morphAttributes.normal||[],B=d.morphAttributes.color||[];let R=0;S===!0&&(R=1),M===!0&&(R=2),T===!0&&(R=3);let L=d.attributes.position.count*R,O=1;L>e.maxTextureSize&&(O=Math.ceil(L/e.maxTextureSize),L=e.maxTextureSize);const G=new Float32Array(L*O*4*_),Q=new Tv(G,L,O,_);Q.type=Ls,Q.needsUpdate=!0;const F=R*4;for(let ee=0;ee<_;ee++){const $=C[ee],I=P[ee],V=B[ee],W=L*O*4*ee;for(let z=0;z<$.count;z++){const K=z*F;S===!0&&(o.fromBufferAttribute($,z),G[W+K+0]=o.x,G[W+K+1]=o.y,G[W+K+2]=o.z,G[W+K+3]=0),M===!0&&(o.fromBufferAttribute(I,z),G[W+K+4]=o.x,G[W+K+5]=o.y,G[W+K+6]=o.z,G[W+K+7]=0),T===!0&&(o.fromBufferAttribute(V,z),G[W+K+8]=o.x,G[W+K+9]=o.y,G[W+K+10]=o.z,G[W+K+11]=V.itemSize===4?o.w:1)}}x={count:_,texture:Q,size:new ge(L,O)},s.set(d,x),d.addEventListener("dispose",q)}let g=0;for(let S=0;S<p.length;S++)g+=p[S];const A=d.morphTargetsRelative?1:1-g;h.getUniforms().setValue(n,"morphTargetBaseInfluence",A),h.getUniforms().setValue(n,"morphTargetInfluences",p),h.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),h.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}else{const v=p===void 0?0:p.length;let _=i[d.id];if(_===void 0||_.length!==v){_=[];for(let M=0;M<v;M++)_[M]=[M,0];i[d.id]=_}for(let M=0;M<v;M++){const T=_[M];T[0]=M,T[1]=p[M]}_.sort(CK);for(let M=0;M<8;M++)M<v&&_[M][1]?(a[M][0]=_[M][0],a[M][1]=_[M][1]):(a[M][0]=Number.MAX_SAFE_INTEGER,a[M][1]=0);a.sort(TK);const x=d.morphAttributes.position,g=d.morphAttributes.normal;let A=0;for(let M=0;M<8;M++){const T=a[M],C=T[0],P=T[1];C!==Number.MAX_SAFE_INTEGER&&P?(x&&d.getAttribute("morphTarget"+M)!==x[C]&&d.setAttribute("morphTarget"+M,x[C]),g&&d.getAttribute("morphNormal"+M)!==g[C]&&d.setAttribute("morphNormal"+M,g[C]),r[M]=P,A+=P):(x&&d.hasAttribute("morphTarget"+M)===!0&&d.deleteAttribute("morphTarget"+M),g&&d.hasAttribute("morphNormal"+M)===!0&&d.deleteAttribute("morphNormal"+M),r[M]=0)}const S=d.morphTargetsRelative?1:1-A;h.getUniforms().setValue(n,"morphTargetBaseInfluence",S),h.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function RK(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,d=l.geometry,h=e.get(l,d);if(r.get(h)!==c&&(e.update(h),r.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;r.get(p)!==c&&(p.update(),r.set(p,c))}return h}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const _F=new hn,AF=new Tv,SF=new hM,wF=new Xh,Q2=[],q2=[],Z2=new Float32Array(16),$2=new Float32Array(9),eR=new Float32Array(4);function xd(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=Q2[r];if(s===void 0&&(s=new Float32Array(r),Q2[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function zn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Hn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function bv(n,e){let t=q2[e];t===void 0&&(t=new Int32Array(e),q2[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function PK(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function LK(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(zn(t,e))return;n.uniform2fv(this.addr,e),Hn(t,e)}}function BK(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(zn(t,e))return;n.uniform3fv(this.addr,e),Hn(t,e)}}function IK(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(zn(t,e))return;n.uniform4fv(this.addr,e),Hn(t,e)}}function DK(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(zn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Hn(t,e)}else{if(zn(t,i))return;eR.set(i),n.uniformMatrix2fv(this.addr,!1,eR),Hn(t,i)}}function NK(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(zn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Hn(t,e)}else{if(zn(t,i))return;$2.set(i),n.uniformMatrix3fv(this.addr,!1,$2),Hn(t,i)}}function FK(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(zn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Hn(t,e)}else{if(zn(t,i))return;Z2.set(i),n.uniformMatrix4fv(this.addr,!1,Z2),Hn(t,i)}}function OK(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function kK(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(zn(t,e))return;n.uniform2iv(this.addr,e),Hn(t,e)}}function UK(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(zn(t,e))return;n.uniform3iv(this.addr,e),Hn(t,e)}}function zK(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(zn(t,e))return;n.uniform4iv(this.addr,e),Hn(t,e)}}function HK(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function GK(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(zn(t,e))return;n.uniform2uiv(this.addr,e),Hn(t,e)}}function VK(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(zn(t,e))return;n.uniform3uiv(this.addr,e),Hn(t,e)}}function WK(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(zn(t,e))return;n.uniform4uiv(this.addr,e),Hn(t,e)}}function jK(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||_F,r)}function XK(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||SF,r)}function JK(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||wF,r)}function KK(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||AF,r)}function YK(n){switch(n){case 5126:return PK;case 35664:return LK;case 35665:return BK;case 35666:return IK;case 35674:return DK;case 35675:return NK;case 35676:return FK;case 5124:case 35670:return OK;case 35667:case 35671:return kK;case 35668:case 35672:return UK;case 35669:case 35673:return zK;case 5125:return HK;case 36294:return GK;case 36295:return VK;case 36296:return WK;case 35678:case 36198:case 36298:case 36306:case 35682:return jK;case 35679:case 36299:case 36307:return XK;case 35680:case 36300:case 36308:case 36293:return JK;case 36289:case 36303:case 36311:case 36292:return KK}}function QK(n,e){n.uniform1fv(this.addr,e)}function qK(n,e){const t=xd(e,this.size,2);n.uniform2fv(this.addr,t)}function ZK(n,e){const t=xd(e,this.size,3);n.uniform3fv(this.addr,t)}function $K(n,e){const t=xd(e,this.size,4);n.uniform4fv(this.addr,t)}function eY(n,e){const t=xd(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function tY(n,e){const t=xd(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function nY(n,e){const t=xd(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function iY(n,e){n.uniform1iv(this.addr,e)}function rY(n,e){n.uniform2iv(this.addr,e)}function sY(n,e){n.uniform3iv(this.addr,e)}function oY(n,e){n.uniform4iv(this.addr,e)}function aY(n,e){n.uniform1uiv(this.addr,e)}function lY(n,e){n.uniform2uiv(this.addr,e)}function cY(n,e){n.uniform3uiv(this.addr,e)}function uY(n,e){n.uniform4uiv(this.addr,e)}function dY(n,e,t){const i=this.cache,r=e.length,s=bv(t,r);zn(i,s)||(n.uniform1iv(this.addr,s),Hn(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||_F,s[o])}function fY(n,e,t){const i=this.cache,r=e.length,s=bv(t,r);zn(i,s)||(n.uniform1iv(this.addr,s),Hn(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||SF,s[o])}function hY(n,e,t){const i=this.cache,r=e.length,s=bv(t,r);zn(i,s)||(n.uniform1iv(this.addr,s),Hn(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||wF,s[o])}function pY(n,e,t){const i=this.cache,r=e.length,s=bv(t,r);zn(i,s)||(n.uniform1iv(this.addr,s),Hn(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||AF,s[o])}function mY(n){switch(n){case 5126:return QK;case 35664:return qK;case 35665:return ZK;case 35666:return $K;case 35674:return eY;case 35675:return tY;case 35676:return nY;case 5124:case 35670:return iY;case 35667:case 35671:return rY;case 35668:case 35672:return sY;case 35669:case 35673:return oY;case 5125:return aY;case 36294:return lY;case 36295:return cY;case 36296:return uY;case 35678:case 36198:case 36298:case 36306:case 35682:return dY;case 35679:case 36299:case 36307:return fY;case 35680:case 36300:case 36308:case 36293:return hY;case 36289:case 36303:case 36311:case 36292:return pY}}class gY{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=YK(t.type)}}class vY{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=mY(t.type)}}class yY{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const v1=/(\w+)(\])?(\[|\.)?/g;function tR(n,e){n.seq.push(e),n.map[e.id]=e}function xY(n,e,t){const i=n.name,r=i.length;for(v1.lastIndex=0;;){const s=v1.exec(i),o=v1.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){tR(t,c===void 0?new gY(a,n,e):new vY(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new yY(a),tR(t,h)),t=h}}}class Gg{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);xY(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function nR(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const _Y=37297;let AY=0;function SY(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function wY(n){const e=Wt.getPrimaries(Wt.workingColorSpace),t=Wt.getPrimaries(n);let i;switch(e===t?i="":e===xh&&t===yh?i="LinearDisplayP3ToLinearSRGB":e===yh&&t===xh&&(i="LinearSRGBToLinearDisplayP3"),n){case js:case Vh:return[i,"LinearTransferOETF"];case Fn:case Ev:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[i,"LinearTransferOETF"]}}function iR(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+SY(n.getShaderSource(e),o)}else return r}function MY(n,e){const t=wY(e);return`vec4 ${n}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function EY(n,e){let t;switch(e){case NN:t="Linear";break;case FN:t="Reinhard";break;case ON:t="OptimizedCineon";break;case eM:t="ACESFilmic";break;case kN:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function TY(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Sf).join(`
`)}function CY(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function bY(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Sf(n){return n!==""}function rR(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function sR(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const RY=/^[ \t]*#include +<([\w\d./]+)>/gm;function JA(n){return n.replace(RY,LY)}const PY=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function LY(n,e){let t=_t[e];if(t===void 0){const i=PY.get(e);if(i!==void 0)t=_t[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return JA(t)}const BY=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function oR(n){return n.replace(BY,IY)}function IY(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function aR(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function DY(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===_v?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Ff?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===$r&&(e="SHADOWMAP_TYPE_VSM"),e}function NY(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Io:case Ua:e="ENVMAP_TYPE_CUBE";break;case yd:e="ENVMAP_TYPE_CUBE_UV";break}return e}function FY(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Ua:e="ENVMAP_MODE_REFRACTION";break}return e}function OY(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Gh:e="ENVMAP_BLENDING_MULTIPLY";break;case IN:e="ENVMAP_BLENDING_MIX";break;case DN:e="ENVMAP_BLENDING_ADD";break}return e}function kY(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function UY(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=DY(t),c=NY(t),d=FY(t),h=OY(t),p=kY(t),m=t.isWebGL2?"":TY(t),v=CY(s),_=r.createProgram();let x,g,A=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(Sf).join(`
`),x.length>0&&(x+=`
`),g=[m,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(Sf).join(`
`),g.length>0&&(g+=`
`)):(x=[aR(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Sf).join(`
`),g=[m,aR(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+d:"",t.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==ks?"#define TONE_MAPPING":"",t.toneMapping!==ks?_t.tonemapping_pars_fragment:"",t.toneMapping!==ks?EY("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",_t.colorspace_pars_fragment,MY("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Sf).join(`
`)),o=JA(o),o=rR(o,t),o=sR(o,t),a=JA(a),a=rR(a,t),a=sR(a,t),o=oR(o),a=oR(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,g=["precision mediump sampler2DArray;","#define varying in",t.glslVersion===WA?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===WA?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const S=A+x+o,M=A+g+a,T=nR(r,r.VERTEX_SHADER,S),C=nR(r,r.FRAGMENT_SHADER,M);r.attachShader(_,T),r.attachShader(_,C),t.index0AttributeName!==void 0?r.bindAttribLocation(_,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(_,0,"position"),r.linkProgram(_);function P(O){if(n.debug.checkShaderErrors){const G=r.getProgramInfoLog(_).trim(),Q=r.getShaderInfoLog(T).trim(),F=r.getShaderInfoLog(C).trim();let q=!0,ee=!0;if(r.getProgramParameter(_,r.LINK_STATUS)===!1)if(q=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,_,T,C);else{const $=iR(r,T,"vertex"),I=iR(r,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(_,r.VALIDATE_STATUS)+`

Program Info Log: `+G+`
`+$+`
`+I)}else G!==""?console.warn("THREE.WebGLProgram: Program Info Log:",G):(Q===""||F==="")&&(ee=!1);ee&&(O.diagnostics={runnable:q,programLog:G,vertexShader:{log:Q,prefix:x},fragmentShader:{log:F,prefix:g}})}r.deleteShader(T),r.deleteShader(C),B=new Gg(r,_),R=bY(r,_)}let B;this.getUniforms=function(){return B===void 0&&P(this),B};let R;this.getAttributes=function(){return R===void 0&&P(this),R};let L=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return L===!1&&(L=r.getProgramParameter(_,_Y)),L},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(_),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=AY++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=T,this.fragmentShader=C,this}let zY=0;class HY{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new GY(e),t.set(e,i)),i}}class GY{constructor(e){this.id=zY++,this.code=e,this.usedTimes=0}}function VY(n,e,t,i,r,s,o){const a=new Wl,l=new HY,c=[],d=r.isWebGL2,h=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function _(R){return R===0?"uv":`uv${R}`}function x(R,L,O,G,Q){const F=G.fog,q=Q.geometry,ee=R.isMeshStandardMaterial?G.environment:null,$=(R.isMeshStandardMaterial?t:e).get(R.envMap||ee),I=$&&$.mapping===yd?$.image.height:null,V=v[R.type];R.precision!==null&&(m=r.getMaxPrecision(R.precision),m!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",m,"instead."));const W=q.morphAttributes.position||q.morphAttributes.normal||q.morphAttributes.color,z=W!==void 0?W.length:0;let K=0;q.morphAttributes.position!==void 0&&(K=1),q.morphAttributes.normal!==void 0&&(K=2),q.morphAttributes.color!==void 0&&(K=3);let ue,ve,Ae,be;if(V){const Vt=is[V];ue=Vt.vertexShader,ve=Vt.fragmentShader}else ue=R.vertexShader,ve=R.fragmentShader,l.update(R),Ae=l.getVertexShaderID(R),be=l.getFragmentShaderID(R);const Be=n.getRenderTarget(),Oe=Q.isInstancedMesh===!0,Je=!!R.map,ot=!!R.matcap,He=!!$,J=!!R.aoMap,pe=!!R.lightMap,re=!!R.bumpMap,_e=!!R.normalMap,ye=!!R.displacementMap,Ye=!!R.emissiveMap,ke=!!R.metalnessMap,We=!!R.roughnessMap,at=R.anisotropy>0,wt=R.clearcoat>0,Kt=R.iridescence>0,X=R.sheen>0,N=R.transmission>0,oe=at&&!!R.anisotropyMap,Re=wt&&!!R.clearcoatMap,Se=wt&&!!R.clearcoatNormalMap,Ce=wt&&!!R.clearcoatRoughnessMap,qe=Kt&&!!R.iridescenceMap,Ie=Kt&&!!R.iridescenceThicknessMap,Ue=X&&!!R.sheenColorMap,ut=X&&!!R.sheenRoughnessMap,It=!!R.specularMap,Pe=!!R.specularColorMap,Dt=!!R.specularIntensityMap,Y=N&&!!R.transmissionMap,he=N&&!!R.thicknessMap,Me=!!R.gradientMap,we=!!R.alphaMap,it=R.alphaTest>0,Z=!!R.alphaHash,Ne=!!R.extensions,De=!!q.attributes.uv1,me=!!q.attributes.uv2,Ee=!!q.attributes.uv3;let $e=ks;return R.toneMapped&&(Be===null||Be.isXRRenderTarget===!0)&&($e=n.toneMapping),{isWebGL2:d,shaderID:V,shaderType:R.type,shaderName:R.name,vertexShader:ue,fragmentShader:ve,defines:R.defines,customVertexShaderID:Ae,customFragmentShaderID:be,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:m,instancing:Oe,instancingColor:Oe&&Q.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:Be===null?n.outputColorSpace:Be.isXRRenderTarget===!0?Be.texture.colorSpace:js,map:Je,matcap:ot,envMap:He,envMapMode:He&&$.mapping,envMapCubeUVHeight:I,aoMap:J,lightMap:pe,bumpMap:re,normalMap:_e,displacementMap:p&&ye,emissiveMap:Ye,normalMapObjectSpace:_e&&R.normalMapType===eF,normalMapTangentSpace:_e&&R.normalMapType===Ja,metalnessMap:ke,roughnessMap:We,anisotropy:at,anisotropyMap:oe,clearcoat:wt,clearcoatMap:Re,clearcoatNormalMap:Se,clearcoatRoughnessMap:Ce,iridescence:Kt,iridescenceMap:qe,iridescenceThicknessMap:Ie,sheen:X,sheenColorMap:Ue,sheenRoughnessMap:ut,specularMap:It,specularColorMap:Pe,specularIntensityMap:Dt,transmission:N,transmissionMap:Y,thicknessMap:he,gradientMap:Me,opaque:R.transparent===!1&&R.blending===Gl,alphaMap:we,alphaTest:it,alphaHash:Z,combine:R.combine,mapUv:Je&&_(R.map.channel),aoMapUv:J&&_(R.aoMap.channel),lightMapUv:pe&&_(R.lightMap.channel),bumpMapUv:re&&_(R.bumpMap.channel),normalMapUv:_e&&_(R.normalMap.channel),displacementMapUv:ye&&_(R.displacementMap.channel),emissiveMapUv:Ye&&_(R.emissiveMap.channel),metalnessMapUv:ke&&_(R.metalnessMap.channel),roughnessMapUv:We&&_(R.roughnessMap.channel),anisotropyMapUv:oe&&_(R.anisotropyMap.channel),clearcoatMapUv:Re&&_(R.clearcoatMap.channel),clearcoatNormalMapUv:Se&&_(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ce&&_(R.clearcoatRoughnessMap.channel),iridescenceMapUv:qe&&_(R.iridescenceMap.channel),iridescenceThicknessMapUv:Ie&&_(R.iridescenceThicknessMap.channel),sheenColorMapUv:Ue&&_(R.sheenColorMap.channel),sheenRoughnessMapUv:ut&&_(R.sheenRoughnessMap.channel),specularMapUv:It&&_(R.specularMap.channel),specularColorMapUv:Pe&&_(R.specularColorMap.channel),specularIntensityMapUv:Dt&&_(R.specularIntensityMap.channel),transmissionMapUv:Y&&_(R.transmissionMap.channel),thicknessMapUv:he&&_(R.thicknessMap.channel),alphaMapUv:we&&_(R.alphaMap.channel),vertexTangents:!!q.attributes.tangent&&(_e||at),vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!q.attributes.color&&q.attributes.color.itemSize===4,vertexUv1s:De,vertexUv2s:me,vertexUv3s:Ee,pointsUvs:Q.isPoints===!0&&!!q.attributes.uv&&(Je||we),fog:!!F,useFog:R.fog===!0,fogExp2:F&&F.isFogExp2,flatShading:R.flatShading===!0,sizeAttenuation:R.sizeAttenuation===!0,logarithmicDepthBuffer:h,skinning:Q.isSkinnedMesh===!0,morphTargets:q.morphAttributes.position!==void 0,morphNormals:q.morphAttributes.normal!==void 0,morphColors:q.morphAttributes.color!==void 0,morphTargetsCount:z,morphTextureStride:K,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numLightProbes:L.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:R.dithering,shadowMapEnabled:n.shadowMap.enabled&&O.length>0,shadowMapType:n.shadowMap.type,toneMapping:$e,useLegacyLights:n._useLegacyLights,decodeVideoTexture:Je&&R.map.isVideoTexture===!0&&Wt.getTransfer(R.map.colorSpace)===Qt,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===rs,flipSided:R.side===Ni,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionDerivatives:Ne&&R.extensions.derivatives===!0,extensionFragDepth:Ne&&R.extensions.fragDepth===!0,extensionDrawBuffers:Ne&&R.extensions.drawBuffers===!0,extensionShaderTextureLOD:Ne&&R.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:d||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||i.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:R.customProgramCacheKey()}}function g(R){const L=[];if(R.shaderID?L.push(R.shaderID):(L.push(R.customVertexShaderID),L.push(R.customFragmentShaderID)),R.defines!==void 0)for(const O in R.defines)L.push(O),L.push(R.defines[O]);return R.isRawShaderMaterial===!1&&(A(L,R),S(L,R),L.push(n.outputColorSpace)),L.push(R.customProgramCacheKey),L.join()}function A(R,L){R.push(L.precision),R.push(L.outputColorSpace),R.push(L.envMapMode),R.push(L.envMapCubeUVHeight),R.push(L.mapUv),R.push(L.alphaMapUv),R.push(L.lightMapUv),R.push(L.aoMapUv),R.push(L.bumpMapUv),R.push(L.normalMapUv),R.push(L.displacementMapUv),R.push(L.emissiveMapUv),R.push(L.metalnessMapUv),R.push(L.roughnessMapUv),R.push(L.anisotropyMapUv),R.push(L.clearcoatMapUv),R.push(L.clearcoatNormalMapUv),R.push(L.clearcoatRoughnessMapUv),R.push(L.iridescenceMapUv),R.push(L.iridescenceThicknessMapUv),R.push(L.sheenColorMapUv),R.push(L.sheenRoughnessMapUv),R.push(L.specularMapUv),R.push(L.specularColorMapUv),R.push(L.specularIntensityMapUv),R.push(L.transmissionMapUv),R.push(L.thicknessMapUv),R.push(L.combine),R.push(L.fogExp2),R.push(L.sizeAttenuation),R.push(L.morphTargetsCount),R.push(L.morphAttributeCount),R.push(L.numDirLights),R.push(L.numPointLights),R.push(L.numSpotLights),R.push(L.numSpotLightMaps),R.push(L.numHemiLights),R.push(L.numRectAreaLights),R.push(L.numDirLightShadows),R.push(L.numPointLightShadows),R.push(L.numSpotLightShadows),R.push(L.numSpotLightShadowsWithMaps),R.push(L.numLightProbes),R.push(L.shadowMapType),R.push(L.toneMapping),R.push(L.numClippingPlanes),R.push(L.numClipIntersection),R.push(L.depthPacking)}function S(R,L){a.disableAll(),L.isWebGL2&&a.enable(0),L.supportsVertexTextures&&a.enable(1),L.instancing&&a.enable(2),L.instancingColor&&a.enable(3),L.matcap&&a.enable(4),L.envMap&&a.enable(5),L.normalMapObjectSpace&&a.enable(6),L.normalMapTangentSpace&&a.enable(7),L.clearcoat&&a.enable(8),L.iridescence&&a.enable(9),L.alphaTest&&a.enable(10),L.vertexColors&&a.enable(11),L.vertexAlphas&&a.enable(12),L.vertexUv1s&&a.enable(13),L.vertexUv2s&&a.enable(14),L.vertexUv3s&&a.enable(15),L.vertexTangents&&a.enable(16),L.anisotropy&&a.enable(17),L.alphaHash&&a.enable(18),R.push(a.mask),a.disableAll(),L.fog&&a.enable(0),L.useFog&&a.enable(1),L.flatShading&&a.enable(2),L.logarithmicDepthBuffer&&a.enable(3),L.skinning&&a.enable(4),L.morphTargets&&a.enable(5),L.morphNormals&&a.enable(6),L.morphColors&&a.enable(7),L.premultipliedAlpha&&a.enable(8),L.shadowMapEnabled&&a.enable(9),L.useLegacyLights&&a.enable(10),L.doubleSided&&a.enable(11),L.flipSided&&a.enable(12),L.useDepthPacking&&a.enable(13),L.dithering&&a.enable(14),L.transmission&&a.enable(15),L.sheen&&a.enable(16),L.opaque&&a.enable(17),L.pointsUvs&&a.enable(18),L.decodeVideoTexture&&a.enable(19),R.push(a.mask)}function M(R){const L=v[R.type];let O;if(L){const G=is[L];O=gF.clone(G.uniforms)}else O=R.uniforms;return O}function T(R,L){let O;for(let G=0,Q=c.length;G<Q;G++){const F=c[G];if(F.cacheKey===L){O=F,++O.usedTimes;break}}return O===void 0&&(O=new UY(n,L,R,s),c.push(O)),O}function C(R){if(--R.usedTimes===0){const L=c.indexOf(R);c[L]=c[c.length-1],c.pop(),R.destroy()}}function P(R){l.remove(R)}function B(){l.dispose()}return{getParameters:x,getProgramCacheKey:g,getUniforms:M,acquireProgram:T,releaseProgram:C,releaseShaderCache:P,programs:c,dispose:B}}function WY(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function jY(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function lR(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function cR(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(h,p,m,v,_,x){let g=n[e];return g===void 0?(g={id:h.id,object:h,geometry:p,material:m,groupOrder:v,renderOrder:h.renderOrder,z:_,group:x},n[e]=g):(g.id=h.id,g.object=h,g.geometry=p,g.material=m,g.groupOrder=v,g.renderOrder=h.renderOrder,g.z=_,g.group=x),e++,g}function a(h,p,m,v,_,x){const g=o(h,p,m,v,_,x);m.transmission>0?i.push(g):m.transparent===!0?r.push(g):t.push(g)}function l(h,p,m,v,_,x){const g=o(h,p,m,v,_,x);m.transmission>0?i.unshift(g):m.transparent===!0?r.unshift(g):t.unshift(g)}function c(h,p){t.length>1&&t.sort(h||jY),i.length>1&&i.sort(p||lR),r.length>1&&r.sort(p||lR)}function d(){for(let h=e,p=n.length;h<p;h++){const m=n[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:d,sort:c}}function XY(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new cR,n.set(i,[o])):r>=s.length?(o=new cR,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function JY(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new H,color:new ze};break;case"SpotLight":t={position:new H,direction:new H,color:new ze,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new H,color:new ze,distance:0,decay:0};break;case"HemisphereLight":t={direction:new H,skyColor:new ze,groundColor:new ze};break;case"RectAreaLight":t={color:new ze,position:new H,halfWidth:new H,halfHeight:new H};break}return n[e.id]=t,t}}}function KY(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ge};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ge};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ge,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let YY=0;function QY(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function qY(n,e){const t=new JY,i=KY(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)r.probe.push(new H);const s=new H,o=new ht,a=new ht;function l(d,h){let p=0,m=0,v=0;for(let G=0;G<9;G++)r.probe[G].set(0,0,0);let _=0,x=0,g=0,A=0,S=0,M=0,T=0,C=0,P=0,B=0,R=0;d.sort(QY);const L=h===!0?Math.PI:1;for(let G=0,Q=d.length;G<Q;G++){const F=d[G],q=F.color,ee=F.intensity,$=F.distance,I=F.shadow&&F.shadow.map?F.shadow.map.texture:null;if(F.isAmbientLight)p+=q.r*ee*L,m+=q.g*ee*L,v+=q.b*ee*L;else if(F.isLightProbe){for(let V=0;V<9;V++)r.probe[V].addScaledVector(F.sh.coefficients[V],ee);R++}else if(F.isDirectionalLight){const V=t.get(F);if(V.color.copy(F.color).multiplyScalar(F.intensity*L),F.castShadow){const W=F.shadow,z=i.get(F);z.shadowBias=W.bias,z.shadowNormalBias=W.normalBias,z.shadowRadius=W.radius,z.shadowMapSize=W.mapSize,r.directionalShadow[_]=z,r.directionalShadowMap[_]=I,r.directionalShadowMatrix[_]=F.shadow.matrix,M++}r.directional[_]=V,_++}else if(F.isSpotLight){const V=t.get(F);V.position.setFromMatrixPosition(F.matrixWorld),V.color.copy(q).multiplyScalar(ee*L),V.distance=$,V.coneCos=Math.cos(F.angle),V.penumbraCos=Math.cos(F.angle*(1-F.penumbra)),V.decay=F.decay,r.spot[g]=V;const W=F.shadow;if(F.map&&(r.spotLightMap[P]=F.map,P++,W.updateMatrices(F),F.castShadow&&B++),r.spotLightMatrix[g]=W.matrix,F.castShadow){const z=i.get(F);z.shadowBias=W.bias,z.shadowNormalBias=W.normalBias,z.shadowRadius=W.radius,z.shadowMapSize=W.mapSize,r.spotShadow[g]=z,r.spotShadowMap[g]=I,C++}g++}else if(F.isRectAreaLight){const V=t.get(F);V.color.copy(q).multiplyScalar(ee),V.halfWidth.set(F.width*.5,0,0),V.halfHeight.set(0,F.height*.5,0),r.rectArea[A]=V,A++}else if(F.isPointLight){const V=t.get(F);if(V.color.copy(F.color).multiplyScalar(F.intensity*L),V.distance=F.distance,V.decay=F.decay,F.castShadow){const W=F.shadow,z=i.get(F);z.shadowBias=W.bias,z.shadowNormalBias=W.normalBias,z.shadowRadius=W.radius,z.shadowMapSize=W.mapSize,z.shadowCameraNear=W.camera.near,z.shadowCameraFar=W.camera.far,r.pointShadow[x]=z,r.pointShadowMap[x]=I,r.pointShadowMatrix[x]=F.shadow.matrix,T++}r.point[x]=V,x++}else if(F.isHemisphereLight){const V=t.get(F);V.skyColor.copy(F.color).multiplyScalar(ee*L),V.groundColor.copy(F.groundColor).multiplyScalar(ee*L),r.hemi[S]=V,S++}}A>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Fe.LTC_FLOAT_1,r.rectAreaLTC2=Fe.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Fe.LTC_HALF_1,r.rectAreaLTC2=Fe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=m,r.ambient[2]=v;const O=r.hash;(O.directionalLength!==_||O.pointLength!==x||O.spotLength!==g||O.rectAreaLength!==A||O.hemiLength!==S||O.numDirectionalShadows!==M||O.numPointShadows!==T||O.numSpotShadows!==C||O.numSpotMaps!==P||O.numLightProbes!==R)&&(r.directional.length=_,r.spot.length=g,r.rectArea.length=A,r.point.length=x,r.hemi.length=S,r.directionalShadow.length=M,r.directionalShadowMap.length=M,r.pointShadow.length=T,r.pointShadowMap.length=T,r.spotShadow.length=C,r.spotShadowMap.length=C,r.directionalShadowMatrix.length=M,r.pointShadowMatrix.length=T,r.spotLightMatrix.length=C+P-B,r.spotLightMap.length=P,r.numSpotLightShadowsWithMaps=B,r.numLightProbes=R,O.directionalLength=_,O.pointLength=x,O.spotLength=g,O.rectAreaLength=A,O.hemiLength=S,O.numDirectionalShadows=M,O.numPointShadows=T,O.numSpotShadows=C,O.numSpotMaps=P,O.numLightProbes=R,r.version=YY++)}function c(d,h){let p=0,m=0,v=0,_=0,x=0;const g=h.matrixWorldInverse;for(let A=0,S=d.length;A<S;A++){const M=d[A];if(M.isDirectionalLight){const T=r.directional[p];T.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(g),p++}else if(M.isSpotLight){const T=r.spot[v];T.position.setFromMatrixPosition(M.matrixWorld),T.position.applyMatrix4(g),T.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(g),v++}else if(M.isRectAreaLight){const T=r.rectArea[_];T.position.setFromMatrixPosition(M.matrixWorld),T.position.applyMatrix4(g),a.identity(),o.copy(M.matrixWorld),o.premultiply(g),a.extractRotation(o),T.halfWidth.set(M.width*.5,0,0),T.halfHeight.set(0,M.height*.5,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),_++}else if(M.isPointLight){const T=r.point[m];T.position.setFromMatrixPosition(M.matrixWorld),T.position.applyMatrix4(g),m++}else if(M.isHemisphereLight){const T=r.hemi[x];T.direction.setFromMatrixPosition(M.matrixWorld),T.direction.transformDirection(g),x++}}}return{setup:l,setupView:c,state:r}}function uR(n,e){const t=new qY(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(h){i.push(h)}function a(h){r.push(h)}function l(h){t.setup(i,h)}function c(h){t.setupView(i,h)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function ZY(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new uR(n,e),t.set(s,[l])):o>=a.length?(l=new uR(n,e),a.push(l)):l=a[o],l}function r(){t=new WeakMap}return{get:i,dispose:r}}class vM extends Un{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=ZN,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class yM extends Un{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const $Y=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,eQ=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function tQ(n,e,t){let i=new Cv;const r=new ge,s=new ge,o=new jt,a=new vM({depthPacking:$N}),l=new yM,c={},d=t.maxTextureSize,h={[Vs]:Ni,[Ni]:Vs,[rs]:rs},p=new Xs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ge},radius:{value:4}},vertexShader:$Y,fragmentShader:eQ}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new St;v.setAttribute("position",new Ht(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new qn(v,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=_v;let g=this.type;this.render=function(T,C,P){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||T.length===0)return;const B=n.getRenderTarget(),R=n.getActiveCubeFace(),L=n.getActiveMipmapLevel(),O=n.state;O.setBlending(wo),O.buffers.color.setClear(1,1,1,1),O.buffers.depth.setTest(!0),O.setScissorTest(!1);const G=g!==$r&&this.type===$r,Q=g===$r&&this.type!==$r;for(let F=0,q=T.length;F<q;F++){const ee=T[F],$=ee.shadow;if($===void 0){console.warn("THREE.WebGLShadowMap:",ee,"has no shadow.");continue}if($.autoUpdate===!1&&$.needsUpdate===!1)continue;r.copy($.mapSize);const I=$.getFrameExtents();if(r.multiply(I),s.copy($.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(s.x=Math.floor(d/I.x),r.x=s.x*I.x,$.mapSize.x=s.x),r.y>d&&(s.y=Math.floor(d/I.y),r.y=s.y*I.y,$.mapSize.y=s.y)),$.map===null||G===!0||Q===!0){const W=this.type!==$r?{minFilter:An,magFilter:An}:{};$.map!==null&&$.map.dispose(),$.map=new ds(r.x,r.y,W),$.map.texture.name=ee.name+".shadowMap",$.camera.updateProjectionMatrix()}n.setRenderTarget($.map),n.clear();const V=$.getViewportCount();for(let W=0;W<V;W++){const z=$.getViewport(W);o.set(s.x*z.x,s.y*z.y,s.x*z.z,s.y*z.w),O.viewport(o),$.updateMatrices(ee,W),i=$.getFrustum(),M(C,P,$.camera,ee,this.type)}$.isPointLightShadow!==!0&&this.type===$r&&A($,P),$.needsUpdate=!1}g=this.type,x.needsUpdate=!1,n.setRenderTarget(B,R,L)};function A(T,C){const P=e.update(_);p.defines.VSM_SAMPLES!==T.blurSamples&&(p.defines.VSM_SAMPLES=T.blurSamples,m.defines.VSM_SAMPLES=T.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),T.mapPass===null&&(T.mapPass=new ds(r.x,r.y)),p.uniforms.shadow_pass.value=T.map.texture,p.uniforms.resolution.value=T.mapSize,p.uniforms.radius.value=T.radius,n.setRenderTarget(T.mapPass),n.clear(),n.renderBufferDirect(C,null,P,p,_,null),m.uniforms.shadow_pass.value=T.mapPass.texture,m.uniforms.resolution.value=T.mapSize,m.uniforms.radius.value=T.radius,n.setRenderTarget(T.map),n.clear(),n.renderBufferDirect(C,null,P,m,_,null)}function S(T,C,P,B){let R=null;const L=P.isPointLight===!0?T.customDistanceMaterial:T.customDepthMaterial;if(L!==void 0)R=L;else if(R=P.isPointLight===!0?l:a,n.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0){const O=R.uuid,G=C.uuid;let Q=c[O];Q===void 0&&(Q={},c[O]=Q);let F=Q[G];F===void 0&&(F=R.clone(),Q[G]=F),R=F}if(R.visible=C.visible,R.wireframe=C.wireframe,B===$r?R.side=C.shadowSide!==null?C.shadowSide:C.side:R.side=C.shadowSide!==null?C.shadowSide:h[C.side],R.alphaMap=C.alphaMap,R.alphaTest=C.alphaTest,R.map=C.map,R.clipShadows=C.clipShadows,R.clippingPlanes=C.clippingPlanes,R.clipIntersection=C.clipIntersection,R.displacementMap=C.displacementMap,R.displacementScale=C.displacementScale,R.displacementBias=C.displacementBias,R.wireframeLinewidth=C.wireframeLinewidth,R.linewidth=C.linewidth,P.isPointLight===!0&&R.isMeshDistanceMaterial===!0){const O=n.properties.get(R);O.light=P}return R}function M(T,C,P,B,R){if(T.visible===!1)return;if(T.layers.test(C.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&R===$r)&&(!T.frustumCulled||i.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,T.matrixWorld);const G=e.update(T),Q=T.material;if(Array.isArray(Q)){const F=G.groups;for(let q=0,ee=F.length;q<ee;q++){const $=F[q],I=Q[$.materialIndex];if(I&&I.visible){const V=S(T,I,B,R);n.renderBufferDirect(P,null,G,V,T,$)}}}else if(Q.visible){const F=S(T,Q,B,R);n.renderBufferDirect(P,null,G,F,T,null)}}const O=T.children;for(let G=0,Q=O.length;G<Q;G++)M(O[G],C,P,B,R)}}function nQ(n,e,t){const i=t.isWebGL2;function r(){let Z=!1;const Ne=new jt;let De=null;const me=new jt(0,0,0,0);return{setMask:function(Ee){De!==Ee&&!Z&&(n.colorMask(Ee,Ee,Ee,Ee),De=Ee)},setLocked:function(Ee){Z=Ee},setClear:function(Ee,$e,Mt,Vt,Mn){Mn===!0&&(Ee*=Vt,$e*=Vt,Mt*=Vt),Ne.set(Ee,$e,Mt,Vt),me.equals(Ne)===!1&&(n.clearColor(Ee,$e,Mt,Vt),me.copy(Ne))},reset:function(){Z=!1,De=null,me.set(-1,0,0,0)}}}function s(){let Z=!1,Ne=null,De=null,me=null;return{setTest:function(Ee){Ee?Je(n.DEPTH_TEST):ot(n.DEPTH_TEST)},setMask:function(Ee){Ne!==Ee&&!Z&&(n.depthMask(Ee),Ne=Ee)},setFunc:function(Ee){if(De!==Ee){switch(Ee){case TN:n.depthFunc(n.NEVER);break;case CN:n.depthFunc(n.ALWAYS);break;case bN:n.depthFunc(n.LESS);break;case fh:n.depthFunc(n.LEQUAL);break;case RN:n.depthFunc(n.EQUAL);break;case PN:n.depthFunc(n.GEQUAL);break;case LN:n.depthFunc(n.GREATER);break;case BN:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}De=Ee}},setLocked:function(Ee){Z=Ee},setClear:function(Ee){me!==Ee&&(n.clearDepth(Ee),me=Ee)},reset:function(){Z=!1,Ne=null,De=null,me=null}}}function o(){let Z=!1,Ne=null,De=null,me=null,Ee=null,$e=null,Mt=null,Vt=null,Mn=null;return{setTest:function(Ft){Z||(Ft?Je(n.STENCIL_TEST):ot(n.STENCIL_TEST))},setMask:function(Ft){Ne!==Ft&&!Z&&(n.stencilMask(Ft),Ne=Ft)},setFunc:function(Ft,ei,_r){(De!==Ft||me!==ei||Ee!==_r)&&(n.stencilFunc(Ft,ei,_r),De=Ft,me=ei,Ee=_r)},setOp:function(Ft,ei,_r){($e!==Ft||Mt!==ei||Vt!==_r)&&(n.stencilOp(Ft,ei,_r),$e=Ft,Mt=ei,Vt=_r)},setLocked:function(Ft){Z=Ft},setClear:function(Ft){Mn!==Ft&&(n.clearStencil(Ft),Mn=Ft)},reset:function(){Z=!1,Ne=null,De=null,me=null,Ee=null,$e=null,Mt=null,Vt=null,Mn=null}}}const a=new r,l=new s,c=new o,d=new WeakMap,h=new WeakMap;let p={},m={},v=new WeakMap,_=[],x=null,g=!1,A=null,S=null,M=null,T=null,C=null,P=null,B=null,R=new ze(0,0,0),L=0,O=!1,G=null,Q=null,F=null,q=null,ee=null;const $=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let I=!1,V=0;const W=n.getParameter(n.VERSION);W.indexOf("WebGL")!==-1?(V=parseFloat(/^WebGL (\d)/.exec(W)[1]),I=V>=1):W.indexOf("OpenGL ES")!==-1&&(V=parseFloat(/^OpenGL ES (\d)/.exec(W)[1]),I=V>=2);let z=null,K={};const ue=n.getParameter(n.SCISSOR_BOX),ve=n.getParameter(n.VIEWPORT),Ae=new jt().fromArray(ue),be=new jt().fromArray(ve);function Be(Z,Ne,De,me){const Ee=new Uint8Array(4),$e=n.createTexture();n.bindTexture(Z,$e),n.texParameteri(Z,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Z,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Mt=0;Mt<De;Mt++)i&&(Z===n.TEXTURE_3D||Z===n.TEXTURE_2D_ARRAY)?n.texImage3D(Ne,0,n.RGBA,1,1,me,0,n.RGBA,n.UNSIGNED_BYTE,Ee):n.texImage2D(Ne+Mt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Ee);return $e}const Oe={};Oe[n.TEXTURE_2D]=Be(n.TEXTURE_2D,n.TEXTURE_2D,1),Oe[n.TEXTURE_CUBE_MAP]=Be(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(Oe[n.TEXTURE_2D_ARRAY]=Be(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Oe[n.TEXTURE_3D]=Be(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Je(n.DEPTH_TEST),l.setFunc(fh),ke(!1),We(dA),Je(n.CULL_FACE),ye(wo);function Je(Z){p[Z]!==!0&&(n.enable(Z),p[Z]=!0)}function ot(Z){p[Z]!==!1&&(n.disable(Z),p[Z]=!1)}function He(Z,Ne){return m[Z]!==Ne?(n.bindFramebuffer(Z,Ne),m[Z]=Ne,i&&(Z===n.DRAW_FRAMEBUFFER&&(m[n.FRAMEBUFFER]=Ne),Z===n.FRAMEBUFFER&&(m[n.DRAW_FRAMEBUFFER]=Ne)),!0):!1}function J(Z,Ne){let De=_,me=!1;if(Z)if(De=v.get(Ne),De===void 0&&(De=[],v.set(Ne,De)),Z.isWebGLMultipleRenderTargets){const Ee=Z.texture;if(De.length!==Ee.length||De[0]!==n.COLOR_ATTACHMENT0){for(let $e=0,Mt=Ee.length;$e<Mt;$e++)De[$e]=n.COLOR_ATTACHMENT0+$e;De.length=Ee.length,me=!0}}else De[0]!==n.COLOR_ATTACHMENT0&&(De[0]=n.COLOR_ATTACHMENT0,me=!0);else De[0]!==n.BACK&&(De[0]=n.BACK,me=!0);me&&(t.isWebGL2?n.drawBuffers(De):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(De))}function pe(Z){return x!==Z?(n.useProgram(Z),x=Z,!0):!1}const re={[ca]:n.FUNC_ADD,[dN]:n.FUNC_SUBTRACT,[fN]:n.FUNC_REVERSE_SUBTRACT};if(i)re[mA]=n.MIN,re[gA]=n.MAX;else{const Z=e.get("EXT_blend_minmax");Z!==null&&(re[mA]=Z.MIN_EXT,re[gA]=Z.MAX_EXT)}const _e={[hN]:n.ZERO,[pN]:n.ONE,[mN]:n.SRC_COLOR,[b0]:n.SRC_ALPHA,[AN]:n.SRC_ALPHA_SATURATE,[xN]:n.DST_COLOR,[vN]:n.DST_ALPHA,[gN]:n.ONE_MINUS_SRC_COLOR,[R0]:n.ONE_MINUS_SRC_ALPHA,[_N]:n.ONE_MINUS_DST_COLOR,[yN]:n.ONE_MINUS_DST_ALPHA,[SN]:n.CONSTANT_COLOR,[wN]:n.ONE_MINUS_CONSTANT_COLOR,[MN]:n.CONSTANT_ALPHA,[EN]:n.ONE_MINUS_CONSTANT_ALPHA};function ye(Z,Ne,De,me,Ee,$e,Mt,Vt,Mn,Ft){if(Z===wo){g===!0&&(ot(n.BLEND),g=!1);return}if(g===!1&&(Je(n.BLEND),g=!0),Z!==uN){if(Z!==A||Ft!==O){if((S!==ca||C!==ca)&&(n.blendEquation(n.FUNC_ADD),S=ca,C=ca),Ft)switch(Z){case Gl:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case fA:n.blendFunc(n.ONE,n.ONE);break;case hA:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case pA:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}else switch(Z){case Gl:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case fA:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case hA:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case pA:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}M=null,T=null,P=null,B=null,R.set(0,0,0),L=0,A=Z,O=Ft}return}Ee=Ee||Ne,$e=$e||De,Mt=Mt||me,(Ne!==S||Ee!==C)&&(n.blendEquationSeparate(re[Ne],re[Ee]),S=Ne,C=Ee),(De!==M||me!==T||$e!==P||Mt!==B)&&(n.blendFuncSeparate(_e[De],_e[me],_e[$e],_e[Mt]),M=De,T=me,P=$e,B=Mt),(Vt.equals(R)===!1||Mn!==L)&&(n.blendColor(Vt.r,Vt.g,Vt.b,Mn),R.copy(Vt),L=Mn),A=Z,O=!1}function Ye(Z,Ne){Z.side===rs?ot(n.CULL_FACE):Je(n.CULL_FACE);let De=Z.side===Ni;Ne&&(De=!De),ke(De),Z.blending===Gl&&Z.transparent===!1?ye(wo):ye(Z.blending,Z.blendEquation,Z.blendSrc,Z.blendDst,Z.blendEquationAlpha,Z.blendSrcAlpha,Z.blendDstAlpha,Z.blendColor,Z.blendAlpha,Z.premultipliedAlpha),l.setFunc(Z.depthFunc),l.setTest(Z.depthTest),l.setMask(Z.depthWrite),a.setMask(Z.colorWrite);const me=Z.stencilWrite;c.setTest(me),me&&(c.setMask(Z.stencilWriteMask),c.setFunc(Z.stencilFunc,Z.stencilRef,Z.stencilFuncMask),c.setOp(Z.stencilFail,Z.stencilZFail,Z.stencilZPass)),wt(Z.polygonOffset,Z.polygonOffsetFactor,Z.polygonOffsetUnits),Z.alphaToCoverage===!0?Je(n.SAMPLE_ALPHA_TO_COVERAGE):ot(n.SAMPLE_ALPHA_TO_COVERAGE)}function ke(Z){G!==Z&&(Z?n.frontFace(n.CW):n.frontFace(n.CCW),G=Z)}function We(Z){Z!==aN?(Je(n.CULL_FACE),Z!==Q&&(Z===dA?n.cullFace(n.BACK):Z===lN?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):ot(n.CULL_FACE),Q=Z}function at(Z){Z!==F&&(I&&n.lineWidth(Z),F=Z)}function wt(Z,Ne,De){Z?(Je(n.POLYGON_OFFSET_FILL),(q!==Ne||ee!==De)&&(n.polygonOffset(Ne,De),q=Ne,ee=De)):ot(n.POLYGON_OFFSET_FILL)}function Kt(Z){Z?Je(n.SCISSOR_TEST):ot(n.SCISSOR_TEST)}function X(Z){Z===void 0&&(Z=n.TEXTURE0+$-1),z!==Z&&(n.activeTexture(Z),z=Z)}function N(Z,Ne,De){De===void 0&&(z===null?De=n.TEXTURE0+$-1:De=z);let me=K[De];me===void 0&&(me={type:void 0,texture:void 0},K[De]=me),(me.type!==Z||me.texture!==Ne)&&(z!==De&&(n.activeTexture(De),z=De),n.bindTexture(Z,Ne||Oe[Z]),me.type=Z,me.texture=Ne)}function oe(){const Z=K[z];Z!==void 0&&Z.type!==void 0&&(n.bindTexture(Z.type,null),Z.type=void 0,Z.texture=void 0)}function Re(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Se(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Ce(){try{n.texSubImage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function qe(){try{n.texSubImage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Ie(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Ue(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function ut(){try{n.texStorage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function It(){try{n.texStorage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Pe(){try{n.texImage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Dt(){try{n.texImage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Y(Z){Ae.equals(Z)===!1&&(n.scissor(Z.x,Z.y,Z.z,Z.w),Ae.copy(Z))}function he(Z){be.equals(Z)===!1&&(n.viewport(Z.x,Z.y,Z.z,Z.w),be.copy(Z))}function Me(Z,Ne){let De=h.get(Ne);De===void 0&&(De=new WeakMap,h.set(Ne,De));let me=De.get(Z);me===void 0&&(me=n.getUniformBlockIndex(Ne,Z.name),De.set(Z,me))}function we(Z,Ne){const me=h.get(Ne).get(Z);d.get(Ne)!==me&&(n.uniformBlockBinding(Ne,me,Z.__bindingPointIndex),d.set(Ne,me))}function it(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),i===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},z=null,K={},m={},v=new WeakMap,_=[],x=null,g=!1,A=null,S=null,M=null,T=null,C=null,P=null,B=null,R=new ze(0,0,0),L=0,O=!1,G=null,Q=null,F=null,q=null,ee=null,Ae.set(0,0,n.canvas.width,n.canvas.height),be.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:Je,disable:ot,bindFramebuffer:He,drawBuffers:J,useProgram:pe,setBlending:ye,setMaterial:Ye,setFlipSided:ke,setCullFace:We,setLineWidth:at,setPolygonOffset:wt,setScissorTest:Kt,activeTexture:X,bindTexture:N,unbindTexture:oe,compressedTexImage2D:Re,compressedTexImage3D:Se,texImage2D:Pe,texImage3D:Dt,updateUBOMapping:Me,uniformBlockBinding:we,texStorage2D:ut,texStorage3D:It,texSubImage2D:Ce,texSubImage3D:qe,compressedTexSubImage2D:Ie,compressedTexSubImage3D:Ue,scissor:Y,viewport:he,reset:it}}function iQ(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,d=r.maxTextureSize,h=r.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap;let _;const x=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function A(X,N){return g?new OffscreenCanvas(X,N):Sh("canvas")}function S(X,N,oe,Re){let Se=1;if((X.width>Re||X.height>Re)&&(Se=Re/Math.max(X.width,X.height)),Se<1||N===!0)if(typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&X instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&X instanceof ImageBitmap){const Ce=N?B0:Math.floor,qe=Ce(Se*X.width),Ie=Ce(Se*X.height);_===void 0&&(_=A(qe,Ie));const Ue=oe?A(qe,Ie):_;return Ue.width=qe,Ue.height=Ie,Ue.getContext("2d").drawImage(X,0,0,qe,Ie),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+X.width+"x"+X.height+") to ("+qe+"x"+Ie+")."),Ue}else return"data"in X&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+X.width+"x"+X.height+")."),X;return X}function M(X){return jA(X.width)&&jA(X.height)}function T(X){return a?!1:X.wrapS!==si||X.wrapT!==si||X.minFilter!==An&&X.minFilter!==cn}function C(X,N){return X.generateMipmaps&&N&&X.minFilter!==An&&X.minFilter!==cn}function P(X){n.generateMipmap(X)}function B(X,N,oe,Re,Se=!1){if(a===!1)return N;if(X!==null){if(n[X]!==void 0)return n[X];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+X+"'")}let Ce=N;if(N===n.RED&&(oe===n.FLOAT&&(Ce=n.R32F),oe===n.HALF_FLOAT&&(Ce=n.R16F),oe===n.UNSIGNED_BYTE&&(Ce=n.R8)),N===n.RED_INTEGER&&(oe===n.UNSIGNED_BYTE&&(Ce=n.R8UI),oe===n.UNSIGNED_SHORT&&(Ce=n.R16UI),oe===n.UNSIGNED_INT&&(Ce=n.R32UI),oe===n.BYTE&&(Ce=n.R8I),oe===n.SHORT&&(Ce=n.R16I),oe===n.INT&&(Ce=n.R32I)),N===n.RG&&(oe===n.FLOAT&&(Ce=n.RG32F),oe===n.HALF_FLOAT&&(Ce=n.RG16F),oe===n.UNSIGNED_BYTE&&(Ce=n.RG8)),N===n.RGBA){const qe=Se?vh:Wt.getTransfer(Re);oe===n.FLOAT&&(Ce=n.RGBA32F),oe===n.HALF_FLOAT&&(Ce=n.RGBA16F),oe===n.UNSIGNED_BYTE&&(Ce=qe===Qt?n.SRGB8_ALPHA8:n.RGBA8),oe===n.UNSIGNED_SHORT_4_4_4_4&&(Ce=n.RGBA4),oe===n.UNSIGNED_SHORT_5_5_5_1&&(Ce=n.RGB5_A1)}return(Ce===n.R16F||Ce===n.R32F||Ce===n.RG16F||Ce===n.RG32F||Ce===n.RGBA16F||Ce===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ce}function R(X,N,oe){return C(X,oe)===!0||X.isFramebufferTexture&&X.minFilter!==An&&X.minFilter!==cn?Math.log2(Math.max(N.width,N.height))+1:X.mipmaps!==void 0&&X.mipmaps.length>0?X.mipmaps.length:X.isCompressedTexture&&Array.isArray(X.image)?N.mipmaps.length:1}function L(X){return X===An||X===mh||X===Bu?n.NEAREST:n.LINEAR}function O(X){const N=X.target;N.removeEventListener("dispose",O),Q(N),N.isVideoTexture&&v.delete(N)}function G(X){const N=X.target;N.removeEventListener("dispose",G),q(N)}function Q(X){const N=i.get(X);if(N.__webglInit===void 0)return;const oe=X.source,Re=x.get(oe);if(Re){const Se=Re[N.__cacheKey];Se.usedTimes--,Se.usedTimes===0&&F(X),Object.keys(Re).length===0&&x.delete(oe)}i.remove(X)}function F(X){const N=i.get(X);n.deleteTexture(N.__webglTexture);const oe=X.source,Re=x.get(oe);delete Re[N.__cacheKey],o.memory.textures--}function q(X){const N=X.texture,oe=i.get(X),Re=i.get(N);if(Re.__webglTexture!==void 0&&(n.deleteTexture(Re.__webglTexture),o.memory.textures--),X.depthTexture&&X.depthTexture.dispose(),X.isWebGLCubeRenderTarget)for(let Se=0;Se<6;Se++){if(Array.isArray(oe.__webglFramebuffer[Se]))for(let Ce=0;Ce<oe.__webglFramebuffer[Se].length;Ce++)n.deleteFramebuffer(oe.__webglFramebuffer[Se][Ce]);else n.deleteFramebuffer(oe.__webglFramebuffer[Se]);oe.__webglDepthbuffer&&n.deleteRenderbuffer(oe.__webglDepthbuffer[Se])}else{if(Array.isArray(oe.__webglFramebuffer))for(let Se=0;Se<oe.__webglFramebuffer.length;Se++)n.deleteFramebuffer(oe.__webglFramebuffer[Se]);else n.deleteFramebuffer(oe.__webglFramebuffer);if(oe.__webglDepthbuffer&&n.deleteRenderbuffer(oe.__webglDepthbuffer),oe.__webglMultisampledFramebuffer&&n.deleteFramebuffer(oe.__webglMultisampledFramebuffer),oe.__webglColorRenderbuffer)for(let Se=0;Se<oe.__webglColorRenderbuffer.length;Se++)oe.__webglColorRenderbuffer[Se]&&n.deleteRenderbuffer(oe.__webglColorRenderbuffer[Se]);oe.__webglDepthRenderbuffer&&n.deleteRenderbuffer(oe.__webglDepthRenderbuffer)}if(X.isWebGLMultipleRenderTargets)for(let Se=0,Ce=N.length;Se<Ce;Se++){const qe=i.get(N[Se]);qe.__webglTexture&&(n.deleteTexture(qe.__webglTexture),o.memory.textures--),i.remove(N[Se])}i.remove(N),i.remove(X)}let ee=0;function $(){ee=0}function I(){const X=ee;return X>=l&&console.warn("THREE.WebGLTextures: Trying to use "+X+" texture units while this GPU supports only "+l),ee+=1,X}function V(X){const N=[];return N.push(X.wrapS),N.push(X.wrapT),N.push(X.wrapR||0),N.push(X.magFilter),N.push(X.minFilter),N.push(X.anisotropy),N.push(X.internalFormat),N.push(X.format),N.push(X.type),N.push(X.generateMipmaps),N.push(X.premultiplyAlpha),N.push(X.flipY),N.push(X.unpackAlignment),N.push(X.colorSpace),N.join()}function W(X,N){const oe=i.get(X);if(X.isVideoTexture&&wt(X),X.isRenderTargetTexture===!1&&X.version>0&&oe.__version!==X.version){const Re=X.image;if(Re===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Re.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Je(oe,X,N);return}}t.bindTexture(n.TEXTURE_2D,oe.__webglTexture,n.TEXTURE0+N)}function z(X,N){const oe=i.get(X);if(X.version>0&&oe.__version!==X.version){Je(oe,X,N);return}t.bindTexture(n.TEXTURE_2D_ARRAY,oe.__webglTexture,n.TEXTURE0+N)}function K(X,N){const oe=i.get(X);if(X.version>0&&oe.__version!==X.version){Je(oe,X,N);return}t.bindTexture(n.TEXTURE_3D,oe.__webglTexture,n.TEXTURE0+N)}function ue(X,N){const oe=i.get(X);if(X.version>0&&oe.__version!==X.version){ot(oe,X,N);return}t.bindTexture(n.TEXTURE_CUBE_MAP,oe.__webglTexture,n.TEXTURE0+N)}const ve={[za]:n.REPEAT,[si]:n.CLAMP_TO_EDGE,[rd]:n.MIRRORED_REPEAT},Ae={[An]:n.NEAREST,[mh]:n.NEAREST_MIPMAP_NEAREST,[Bu]:n.NEAREST_MIPMAP_LINEAR,[cn]:n.LINEAR,[Sv]:n.LINEAR_MIPMAP_NEAREST,[Ws]:n.LINEAR_MIPMAP_LINEAR},be={[tF]:n.NEVER,[lF]:n.ALWAYS,[nF]:n.LESS,[rF]:n.LEQUAL,[iF]:n.EQUAL,[aF]:n.GEQUAL,[sF]:n.GREATER,[oF]:n.NOTEQUAL};function Be(X,N,oe){if(oe?(n.texParameteri(X,n.TEXTURE_WRAP_S,ve[N.wrapS]),n.texParameteri(X,n.TEXTURE_WRAP_T,ve[N.wrapT]),(X===n.TEXTURE_3D||X===n.TEXTURE_2D_ARRAY)&&n.texParameteri(X,n.TEXTURE_WRAP_R,ve[N.wrapR]),n.texParameteri(X,n.TEXTURE_MAG_FILTER,Ae[N.magFilter]),n.texParameteri(X,n.TEXTURE_MIN_FILTER,Ae[N.minFilter])):(n.texParameteri(X,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(X,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(X===n.TEXTURE_3D||X===n.TEXTURE_2D_ARRAY)&&n.texParameteri(X,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(N.wrapS!==si||N.wrapT!==si)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(X,n.TEXTURE_MAG_FILTER,L(N.magFilter)),n.texParameteri(X,n.TEXTURE_MIN_FILTER,L(N.minFilter)),N.minFilter!==An&&N.minFilter!==cn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),N.compareFunction&&(n.texParameteri(X,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(X,n.TEXTURE_COMPARE_FUNC,be[N.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Re=e.get("EXT_texture_filter_anisotropic");if(N.magFilter===An||N.minFilter!==Bu&&N.minFilter!==Ws||N.type===Ls&&e.has("OES_texture_float_linear")===!1||a===!1&&N.type===sd&&e.has("OES_texture_half_float_linear")===!1)return;(N.anisotropy>1||i.get(N).__currentAnisotropy)&&(n.texParameterf(X,Re.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(N.anisotropy,r.getMaxAnisotropy())),i.get(N).__currentAnisotropy=N.anisotropy)}}function Oe(X,N){let oe=!1;X.__webglInit===void 0&&(X.__webglInit=!0,N.addEventListener("dispose",O));const Re=N.source;let Se=x.get(Re);Se===void 0&&(Se={},x.set(Re,Se));const Ce=V(N);if(Ce!==X.__cacheKey){Se[Ce]===void 0&&(Se[Ce]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,oe=!0),Se[Ce].usedTimes++;const qe=Se[X.__cacheKey];qe!==void 0&&(Se[X.__cacheKey].usedTimes--,qe.usedTimes===0&&F(N)),X.__cacheKey=Ce,X.__webglTexture=Se[Ce].texture}return oe}function Je(X,N,oe){let Re=n.TEXTURE_2D;(N.isDataArrayTexture||N.isCompressedArrayTexture)&&(Re=n.TEXTURE_2D_ARRAY),N.isData3DTexture&&(Re=n.TEXTURE_3D);const Se=Oe(X,N),Ce=N.source;t.bindTexture(Re,X.__webglTexture,n.TEXTURE0+oe);const qe=i.get(Ce);if(Ce.version!==qe.__version||Se===!0){t.activeTexture(n.TEXTURE0+oe);const Ie=Wt.getPrimaries(Wt.workingColorSpace),Ue=N.colorSpace===cr?null:Wt.getPrimaries(N.colorSpace),ut=N.colorSpace===cr||Ie===Ue?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,N.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,N.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,ut);const It=T(N)&&M(N.image)===!1;let Pe=S(N.image,It,!1,d);Pe=Kt(N,Pe);const Dt=M(Pe)||a,Y=s.convert(N.format,N.colorSpace);let he=s.convert(N.type),Me=B(N.internalFormat,Y,he,N.colorSpace,N.isVideoTexture);Be(Re,N,Dt);let we;const it=N.mipmaps,Z=a&&N.isVideoTexture!==!0,Ne=qe.__version===void 0||Se===!0,De=R(N,Pe,Dt);if(N.isDepthTexture)Me=n.DEPTH_COMPONENT,a?N.type===Ls?Me=n.DEPTH_COMPONENT32F:N.type===yo?Me=n.DEPTH_COMPONENT24:N.type===ba?Me=n.DEPTH24_STENCIL8:Me=n.DEPTH_COMPONENT16:N.type===Ls&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),N.format===Ra&&Me===n.DEPTH_COMPONENT&&N.type!==wv&&N.type!==yo&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),N.type=yo,he=s.convert(N.type)),N.format===ec&&Me===n.DEPTH_COMPONENT&&(Me=n.DEPTH_STENCIL,N.type!==ba&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),N.type=ba,he=s.convert(N.type))),Ne&&(Z?t.texStorage2D(n.TEXTURE_2D,1,Me,Pe.width,Pe.height):t.texImage2D(n.TEXTURE_2D,0,Me,Pe.width,Pe.height,0,Y,he,null));else if(N.isDataTexture)if(it.length>0&&Dt){Z&&Ne&&t.texStorage2D(n.TEXTURE_2D,De,Me,it[0].width,it[0].height);for(let me=0,Ee=it.length;me<Ee;me++)we=it[me],Z?t.texSubImage2D(n.TEXTURE_2D,me,0,0,we.width,we.height,Y,he,we.data):t.texImage2D(n.TEXTURE_2D,me,Me,we.width,we.height,0,Y,he,we.data);N.generateMipmaps=!1}else Z?(Ne&&t.texStorage2D(n.TEXTURE_2D,De,Me,Pe.width,Pe.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,Pe.width,Pe.height,Y,he,Pe.data)):t.texImage2D(n.TEXTURE_2D,0,Me,Pe.width,Pe.height,0,Y,he,Pe.data);else if(N.isCompressedTexture)if(N.isCompressedArrayTexture){Z&&Ne&&t.texStorage3D(n.TEXTURE_2D_ARRAY,De,Me,it[0].width,it[0].height,Pe.depth);for(let me=0,Ee=it.length;me<Ee;me++)we=it[me],N.format!==Wi?Y!==null?Z?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,me,0,0,0,we.width,we.height,Pe.depth,Y,we.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,me,Me,we.width,we.height,Pe.depth,0,we.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Z?t.texSubImage3D(n.TEXTURE_2D_ARRAY,me,0,0,0,we.width,we.height,Pe.depth,Y,he,we.data):t.texImage3D(n.TEXTURE_2D_ARRAY,me,Me,we.width,we.height,Pe.depth,0,Y,he,we.data)}else{Z&&Ne&&t.texStorage2D(n.TEXTURE_2D,De,Me,it[0].width,it[0].height);for(let me=0,Ee=it.length;me<Ee;me++)we=it[me],N.format!==Wi?Y!==null?Z?t.compressedTexSubImage2D(n.TEXTURE_2D,me,0,0,we.width,we.height,Y,we.data):t.compressedTexImage2D(n.TEXTURE_2D,me,Me,we.width,we.height,0,we.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Z?t.texSubImage2D(n.TEXTURE_2D,me,0,0,we.width,we.height,Y,he,we.data):t.texImage2D(n.TEXTURE_2D,me,Me,we.width,we.height,0,Y,he,we.data)}else if(N.isDataArrayTexture)Z?(Ne&&t.texStorage3D(n.TEXTURE_2D_ARRAY,De,Me,Pe.width,Pe.height,Pe.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Pe.width,Pe.height,Pe.depth,Y,he,Pe.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,Me,Pe.width,Pe.height,Pe.depth,0,Y,he,Pe.data);else if(N.isData3DTexture)Z?(Ne&&t.texStorage3D(n.TEXTURE_3D,De,Me,Pe.width,Pe.height,Pe.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Pe.width,Pe.height,Pe.depth,Y,he,Pe.data)):t.texImage3D(n.TEXTURE_3D,0,Me,Pe.width,Pe.height,Pe.depth,0,Y,he,Pe.data);else if(N.isFramebufferTexture){if(Ne)if(Z)t.texStorage2D(n.TEXTURE_2D,De,Me,Pe.width,Pe.height);else{let me=Pe.width,Ee=Pe.height;for(let $e=0;$e<De;$e++)t.texImage2D(n.TEXTURE_2D,$e,Me,me,Ee,0,Y,he,null),me>>=1,Ee>>=1}}else if(it.length>0&&Dt){Z&&Ne&&t.texStorage2D(n.TEXTURE_2D,De,Me,it[0].width,it[0].height);for(let me=0,Ee=it.length;me<Ee;me++)we=it[me],Z?t.texSubImage2D(n.TEXTURE_2D,me,0,0,Y,he,we):t.texImage2D(n.TEXTURE_2D,me,Me,Y,he,we);N.generateMipmaps=!1}else Z?(Ne&&t.texStorage2D(n.TEXTURE_2D,De,Me,Pe.width,Pe.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,Y,he,Pe)):t.texImage2D(n.TEXTURE_2D,0,Me,Y,he,Pe);C(N,Dt)&&P(Re),qe.__version=Ce.version,N.onUpdate&&N.onUpdate(N)}X.__version=N.version}function ot(X,N,oe){if(N.image.length!==6)return;const Re=Oe(X,N),Se=N.source;t.bindTexture(n.TEXTURE_CUBE_MAP,X.__webglTexture,n.TEXTURE0+oe);const Ce=i.get(Se);if(Se.version!==Ce.__version||Re===!0){t.activeTexture(n.TEXTURE0+oe);const qe=Wt.getPrimaries(Wt.workingColorSpace),Ie=N.colorSpace===cr?null:Wt.getPrimaries(N.colorSpace),Ue=N.colorSpace===cr||qe===Ie?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,N.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,N.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ue);const ut=N.isCompressedTexture||N.image[0].isCompressedTexture,It=N.image[0]&&N.image[0].isDataTexture,Pe=[];for(let me=0;me<6;me++)!ut&&!It?Pe[me]=S(N.image[me],!1,!0,c):Pe[me]=It?N.image[me].image:N.image[me],Pe[me]=Kt(N,Pe[me]);const Dt=Pe[0],Y=M(Dt)||a,he=s.convert(N.format,N.colorSpace),Me=s.convert(N.type),we=B(N.internalFormat,he,Me,N.colorSpace),it=a&&N.isVideoTexture!==!0,Z=Ce.__version===void 0||Re===!0;let Ne=R(N,Dt,Y);Be(n.TEXTURE_CUBE_MAP,N,Y);let De;if(ut){it&&Z&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Ne,we,Dt.width,Dt.height);for(let me=0;me<6;me++){De=Pe[me].mipmaps;for(let Ee=0;Ee<De.length;Ee++){const $e=De[Ee];N.format!==Wi?he!==null?it?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,Ee,0,0,$e.width,$e.height,he,$e.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,Ee,we,$e.width,$e.height,0,$e.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):it?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,Ee,0,0,$e.width,$e.height,he,Me,$e.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,Ee,we,$e.width,$e.height,0,he,Me,$e.data)}}}else{De=N.mipmaps,it&&Z&&(De.length>0&&Ne++,t.texStorage2D(n.TEXTURE_CUBE_MAP,Ne,we,Pe[0].width,Pe[0].height));for(let me=0;me<6;me++)if(It){it?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,0,0,0,Pe[me].width,Pe[me].height,he,Me,Pe[me].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,0,we,Pe[me].width,Pe[me].height,0,he,Me,Pe[me].data);for(let Ee=0;Ee<De.length;Ee++){const Mt=De[Ee].image[me].image;it?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,Ee+1,0,0,Mt.width,Mt.height,he,Me,Mt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,Ee+1,we,Mt.width,Mt.height,0,he,Me,Mt.data)}}else{it?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,0,0,0,he,Me,Pe[me]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,0,we,he,Me,Pe[me]);for(let Ee=0;Ee<De.length;Ee++){const $e=De[Ee];it?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,Ee+1,0,0,he,Me,$e.image[me]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+me,Ee+1,we,he,Me,$e.image[me])}}}C(N,Y)&&P(n.TEXTURE_CUBE_MAP),Ce.__version=Se.version,N.onUpdate&&N.onUpdate(N)}X.__version=N.version}function He(X,N,oe,Re,Se,Ce){const qe=s.convert(oe.format,oe.colorSpace),Ie=s.convert(oe.type),Ue=B(oe.internalFormat,qe,Ie,oe.colorSpace);if(!i.get(N).__hasExternalTextures){const It=Math.max(1,N.width>>Ce),Pe=Math.max(1,N.height>>Ce);Se===n.TEXTURE_3D||Se===n.TEXTURE_2D_ARRAY?t.texImage3D(Se,Ce,Ue,It,Pe,N.depth,0,qe,Ie,null):t.texImage2D(Se,Ce,Ue,It,Pe,0,qe,Ie,null)}t.bindFramebuffer(n.FRAMEBUFFER,X),at(N)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Re,Se,i.get(oe).__webglTexture,0,We(N)):(Se===n.TEXTURE_2D||Se>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Se<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Re,Se,i.get(oe).__webglTexture,Ce),t.bindFramebuffer(n.FRAMEBUFFER,null)}function J(X,N,oe){if(n.bindRenderbuffer(n.RENDERBUFFER,X),N.depthBuffer&&!N.stencilBuffer){let Re=a===!0?n.DEPTH_COMPONENT24:n.DEPTH_COMPONENT16;if(oe||at(N)){const Se=N.depthTexture;Se&&Se.isDepthTexture&&(Se.type===Ls?Re=n.DEPTH_COMPONENT32F:Se.type===yo&&(Re=n.DEPTH_COMPONENT24));const Ce=We(N);at(N)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ce,Re,N.width,N.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Ce,Re,N.width,N.height)}else n.renderbufferStorage(n.RENDERBUFFER,Re,N.width,N.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,X)}else if(N.depthBuffer&&N.stencilBuffer){const Re=We(N);oe&&at(N)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Re,n.DEPTH24_STENCIL8,N.width,N.height):at(N)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Re,n.DEPTH24_STENCIL8,N.width,N.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,N.width,N.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,X)}else{const Re=N.isWebGLMultipleRenderTargets===!0?N.texture:[N.texture];for(let Se=0;Se<Re.length;Se++){const Ce=Re[Se],qe=s.convert(Ce.format,Ce.colorSpace),Ie=s.convert(Ce.type),Ue=B(Ce.internalFormat,qe,Ie,Ce.colorSpace),ut=We(N);oe&&at(N)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,ut,Ue,N.width,N.height):at(N)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ut,Ue,N.width,N.height):n.renderbufferStorage(n.RENDERBUFFER,Ue,N.width,N.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function pe(X,N){if(N&&N.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,X),!(N.depthTexture&&N.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(N.depthTexture).__webglTexture||N.depthTexture.image.width!==N.width||N.depthTexture.image.height!==N.height)&&(N.depthTexture.image.width=N.width,N.depthTexture.image.height=N.height,N.depthTexture.needsUpdate=!0),W(N.depthTexture,0);const Re=i.get(N.depthTexture).__webglTexture,Se=We(N);if(N.depthTexture.format===Ra)at(N)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Re,0,Se):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Re,0);else if(N.depthTexture.format===ec)at(N)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Re,0,Se):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Re,0);else throw new Error("Unknown depthTexture format")}function re(X){const N=i.get(X),oe=X.isWebGLCubeRenderTarget===!0;if(X.depthTexture&&!N.__autoAllocateDepthBuffer){if(oe)throw new Error("target.depthTexture not supported in Cube render targets");pe(N.__webglFramebuffer,X)}else if(oe){N.__webglDepthbuffer=[];for(let Re=0;Re<6;Re++)t.bindFramebuffer(n.FRAMEBUFFER,N.__webglFramebuffer[Re]),N.__webglDepthbuffer[Re]=n.createRenderbuffer(),J(N.__webglDepthbuffer[Re],X,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,N.__webglFramebuffer),N.__webglDepthbuffer=n.createRenderbuffer(),J(N.__webglDepthbuffer,X,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function _e(X,N,oe){const Re=i.get(X);N!==void 0&&He(Re.__webglFramebuffer,X,X.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),oe!==void 0&&re(X)}function ye(X){const N=X.texture,oe=i.get(X),Re=i.get(N);X.addEventListener("dispose",G),X.isWebGLMultipleRenderTargets!==!0&&(Re.__webglTexture===void 0&&(Re.__webglTexture=n.createTexture()),Re.__version=N.version,o.memory.textures++);const Se=X.isWebGLCubeRenderTarget===!0,Ce=X.isWebGLMultipleRenderTargets===!0,qe=M(X)||a;if(Se){oe.__webglFramebuffer=[];for(let Ie=0;Ie<6;Ie++)if(a&&N.mipmaps&&N.mipmaps.length>0){oe.__webglFramebuffer[Ie]=[];for(let Ue=0;Ue<N.mipmaps.length;Ue++)oe.__webglFramebuffer[Ie][Ue]=n.createFramebuffer()}else oe.__webglFramebuffer[Ie]=n.createFramebuffer()}else{if(a&&N.mipmaps&&N.mipmaps.length>0){oe.__webglFramebuffer=[];for(let Ie=0;Ie<N.mipmaps.length;Ie++)oe.__webglFramebuffer[Ie]=n.createFramebuffer()}else oe.__webglFramebuffer=n.createFramebuffer();if(Ce)if(r.drawBuffers){const Ie=X.texture;for(let Ue=0,ut=Ie.length;Ue<ut;Ue++){const It=i.get(Ie[Ue]);It.__webglTexture===void 0&&(It.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&X.samples>0&&at(X)===!1){const Ie=Ce?N:[N];oe.__webglMultisampledFramebuffer=n.createFramebuffer(),oe.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,oe.__webglMultisampledFramebuffer);for(let Ue=0;Ue<Ie.length;Ue++){const ut=Ie[Ue];oe.__webglColorRenderbuffer[Ue]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,oe.__webglColorRenderbuffer[Ue]);const It=s.convert(ut.format,ut.colorSpace),Pe=s.convert(ut.type),Dt=B(ut.internalFormat,It,Pe,ut.colorSpace,X.isXRRenderTarget===!0),Y=We(X);n.renderbufferStorageMultisample(n.RENDERBUFFER,Y,Dt,X.width,X.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ue,n.RENDERBUFFER,oe.__webglColorRenderbuffer[Ue])}n.bindRenderbuffer(n.RENDERBUFFER,null),X.depthBuffer&&(oe.__webglDepthRenderbuffer=n.createRenderbuffer(),J(oe.__webglDepthRenderbuffer,X,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Se){t.bindTexture(n.TEXTURE_CUBE_MAP,Re.__webglTexture),Be(n.TEXTURE_CUBE_MAP,N,qe);for(let Ie=0;Ie<6;Ie++)if(a&&N.mipmaps&&N.mipmaps.length>0)for(let Ue=0;Ue<N.mipmaps.length;Ue++)He(oe.__webglFramebuffer[Ie][Ue],X,N,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Ue);else He(oe.__webglFramebuffer[Ie],X,N,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0);C(N,qe)&&P(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Ce){const Ie=X.texture;for(let Ue=0,ut=Ie.length;Ue<ut;Ue++){const It=Ie[Ue],Pe=i.get(It);t.bindTexture(n.TEXTURE_2D,Pe.__webglTexture),Be(n.TEXTURE_2D,It,qe),He(oe.__webglFramebuffer,X,It,n.COLOR_ATTACHMENT0+Ue,n.TEXTURE_2D,0),C(It,qe)&&P(n.TEXTURE_2D)}t.unbindTexture()}else{let Ie=n.TEXTURE_2D;if((X.isWebGL3DRenderTarget||X.isWebGLArrayRenderTarget)&&(a?Ie=X.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Ie,Re.__webglTexture),Be(Ie,N,qe),a&&N.mipmaps&&N.mipmaps.length>0)for(let Ue=0;Ue<N.mipmaps.length;Ue++)He(oe.__webglFramebuffer[Ue],X,N,n.COLOR_ATTACHMENT0,Ie,Ue);else He(oe.__webglFramebuffer,X,N,n.COLOR_ATTACHMENT0,Ie,0);C(N,qe)&&P(Ie),t.unbindTexture()}X.depthBuffer&&re(X)}function Ye(X){const N=M(X)||a,oe=X.isWebGLMultipleRenderTargets===!0?X.texture:[X.texture];for(let Re=0,Se=oe.length;Re<Se;Re++){const Ce=oe[Re];if(C(Ce,N)){const qe=X.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,Ie=i.get(Ce).__webglTexture;t.bindTexture(qe,Ie),P(qe),t.unbindTexture()}}}function ke(X){if(a&&X.samples>0&&at(X)===!1){const N=X.isWebGLMultipleRenderTargets?X.texture:[X.texture],oe=X.width,Re=X.height;let Se=n.COLOR_BUFFER_BIT;const Ce=[],qe=X.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ie=i.get(X),Ue=X.isWebGLMultipleRenderTargets===!0;if(Ue)for(let ut=0;ut<N.length;ut++)t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ut,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ut,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ie.__webglFramebuffer);for(let ut=0;ut<N.length;ut++){Ce.push(n.COLOR_ATTACHMENT0+ut),X.depthBuffer&&Ce.push(qe);const It=Ie.__ignoreDepthValues!==void 0?Ie.__ignoreDepthValues:!1;if(It===!1&&(X.depthBuffer&&(Se|=n.DEPTH_BUFFER_BIT),X.stencilBuffer&&(Se|=n.STENCIL_BUFFER_BIT)),Ue&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Ie.__webglColorRenderbuffer[ut]),It===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[qe]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[qe])),Ue){const Pe=i.get(N[ut]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Pe,0)}n.blitFramebuffer(0,0,oe,Re,0,0,oe,Re,Se,n.NEAREST),m&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ce)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Ue)for(let ut=0;ut<N.length;ut++){t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ut,n.RENDERBUFFER,Ie.__webglColorRenderbuffer[ut]);const It=i.get(N[ut]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ut,n.TEXTURE_2D,It,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ie.__webglMultisampledFramebuffer)}}function We(X){return Math.min(h,X.samples)}function at(X){const N=i.get(X);return a&&X.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&N.__useRenderToTexture!==!1}function wt(X){const N=o.render.frame;v.get(X)!==N&&(v.set(X,N),X.update())}function Kt(X,N){const oe=X.colorSpace,Re=X.format,Se=X.type;return X.isCompressedTexture===!0||X.isVideoTexture===!0||X.format===L0||oe!==js&&oe!==cr&&(Wt.getTransfer(oe)===Qt?a===!1?e.has("EXT_sRGB")===!0&&Re===Wi?(X.format=L0,X.minFilter=cn,X.generateMipmaps=!1):N=fM.sRGBToLinear(N):(Re!==Wi||Se!==Us)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",oe)),N}this.allocateTextureUnit=I,this.resetTextureUnits=$,this.setTexture2D=W,this.setTexture2DArray=z,this.setTexture3D=K,this.setTextureCube=ue,this.rebindTextures=_e,this.setupRenderTarget=ye,this.updateRenderTargetMipmap=Ye,this.updateMultisampleRenderTarget=ke,this.setupDepthRenderbuffer=re,this.setupFrameBufferTexture=He,this.useMultisampledRTT=at}function MF(n,e,t){const i=t.isWebGL2;function r(s,o=cr){let a;const l=Wt.getTransfer(o);if(s===Us)return n.UNSIGNED_BYTE;if(s===nM)return n.UNSIGNED_SHORT_4_4_4_4;if(s===iM)return n.UNSIGNED_SHORT_5_5_5_1;if(s===zN)return n.BYTE;if(s===HN)return n.SHORT;if(s===wv)return n.UNSIGNED_SHORT;if(s===tM)return n.INT;if(s===yo)return n.UNSIGNED_INT;if(s===Ls)return n.FLOAT;if(s===sd)return i?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===GN)return n.ALPHA;if(s===Wi)return n.RGBA;if(s===VN)return n.LUMINANCE;if(s===WN)return n.LUMINANCE_ALPHA;if(s===Ra)return n.DEPTH_COMPONENT;if(s===ec)return n.DEPTH_STENCIL;if(s===L0)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===jN)return n.RED;if(s===rM)return n.RED_INTEGER;if(s===XN)return n.RG;if(s===sM)return n.RG_INTEGER;if(s===oM)return n.RGBA_INTEGER;if(s===Fg||s===Og||s===kg||s===Ug)if(l===Qt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Fg)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Og)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===kg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Ug)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Fg)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Og)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===kg)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Ug)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===yA||s===xA||s===_A||s===AA)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===yA)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===xA)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===_A)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===AA)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===JN)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===SA||s===wA)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===SA)return l===Qt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===wA)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===MA||s===EA||s===TA||s===CA||s===bA||s===RA||s===PA||s===LA||s===BA||s===IA||s===DA||s===NA||s===FA||s===OA)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===MA)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===EA)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===TA)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===CA)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===bA)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===RA)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===PA)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===LA)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===BA)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===IA)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===DA)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===NA)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===FA)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===OA)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===zg||s===kA||s===UA)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===zg)return l===Qt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===kA)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===UA)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===KN||s===zA||s===HA||s===GA)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===zg)return a.COMPRESSED_RED_RGTC1_EXT;if(s===zA)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===HA)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===GA)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===ba?i?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class EF extends wn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class xo extends Bt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const rQ={type:"move"};class y1{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new xo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new xo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new H,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new H),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new xo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new H,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new H),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const _ of e.hand.values()){const x=t.getJointPose(_,i),g=this._getHandJoint(c,_);x!==null&&(g.matrix.fromArray(x.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=x.radius),g.visible=x!==null}const d=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],p=d.position.distanceTo(h.position),m=.02,v=.005;c.inputState.pinching&&p>m+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(rQ)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new xo;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class TF extends hn{constructor(e,t,i,r,s,o,a,l,c,d){if(d=d!==void 0?d:Ra,d!==Ra&&d!==ec)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&d===Ra&&(i=yo),i===void 0&&d===ec&&(i=ba),super(null,r,s,o,a,l,d,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:An,this.minFilter=l!==void 0?l:An,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class sQ extends Fo{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,d=null,h=null,p=null,m=null,v=null;const _=t.getContextAttributes();let x=null,g=null;const A=[],S=[],M=new wn;M.layers.enable(1),M.viewport=new jt;const T=new wn;T.layers.enable(2),T.viewport=new jt;const C=[M,T],P=new EF;P.layers.enable(1),P.layers.enable(2);let B=null,R=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(z){let K=A[z];return K===void 0&&(K=new y1,A[z]=K),K.getTargetRaySpace()},this.getControllerGrip=function(z){let K=A[z];return K===void 0&&(K=new y1,A[z]=K),K.getGripSpace()},this.getHand=function(z){let K=A[z];return K===void 0&&(K=new y1,A[z]=K),K.getHandSpace()};function L(z){const K=S.indexOf(z.inputSource);if(K===-1)return;const ue=A[K];ue!==void 0&&(ue.update(z.inputSource,z.frame,c||o),ue.dispatchEvent({type:z.type,data:z.inputSource}))}function O(){r.removeEventListener("select",L),r.removeEventListener("selectstart",L),r.removeEventListener("selectend",L),r.removeEventListener("squeeze",L),r.removeEventListener("squeezestart",L),r.removeEventListener("squeezeend",L),r.removeEventListener("end",O),r.removeEventListener("inputsourceschange",G);for(let z=0;z<A.length;z++){const K=S[z];K!==null&&(S[z]=null,A[z].disconnect(K))}B=null,R=null,e.setRenderTarget(x),m=null,p=null,h=null,r=null,g=null,W.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(z){s=z,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(z){a=z,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(z){c=z},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return h},this.getFrame=function(){return v},this.getSession=function(){return r},this.setSession=async function(z){if(r=z,r!==null){if(x=e.getRenderTarget(),r.addEventListener("select",L),r.addEventListener("selectstart",L),r.addEventListener("selectend",L),r.addEventListener("squeeze",L),r.addEventListener("squeezestart",L),r.addEventListener("squeezeend",L),r.addEventListener("end",O),r.addEventListener("inputsourceschange",G),_.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const K={antialias:r.renderState.layers===void 0?_.antialias:!0,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,K),r.updateRenderState({baseLayer:m}),g=new ds(m.framebufferWidth,m.framebufferHeight,{format:Wi,type:Us,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil})}else{let K=null,ue=null,ve=null;_.depth&&(ve=_.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,K=_.stencil?ec:Ra,ue=_.stencil?ba:yo);const Ae={colorFormat:t.RGBA8,depthFormat:ve,scaleFactor:s};h=new XRWebGLBinding(r,t),p=h.createProjectionLayer(Ae),r.updateRenderState({layers:[p]}),g=new ds(p.textureWidth,p.textureHeight,{format:Wi,type:Us,depthTexture:new TF(p.textureWidth,p.textureHeight,ue,void 0,void 0,void 0,void 0,void 0,void 0,K),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0});const be=e.properties.get(g);be.__ignoreDepthValues=p.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),W.setContext(r),W.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function G(z){for(let K=0;K<z.removed.length;K++){const ue=z.removed[K],ve=S.indexOf(ue);ve>=0&&(S[ve]=null,A[ve].disconnect(ue))}for(let K=0;K<z.added.length;K++){const ue=z.added[K];let ve=S.indexOf(ue);if(ve===-1){for(let be=0;be<A.length;be++)if(be>=S.length){S.push(ue),ve=be;break}else if(S[be]===null){S[be]=ue,ve=be;break}if(ve===-1)break}const Ae=A[ve];Ae&&Ae.connect(ue)}}const Q=new H,F=new H;function q(z,K,ue){Q.setFromMatrixPosition(K.matrixWorld),F.setFromMatrixPosition(ue.matrixWorld);const ve=Q.distanceTo(F),Ae=K.projectionMatrix.elements,be=ue.projectionMatrix.elements,Be=Ae[14]/(Ae[10]-1),Oe=Ae[14]/(Ae[10]+1),Je=(Ae[9]+1)/Ae[5],ot=(Ae[9]-1)/Ae[5],He=(Ae[8]-1)/Ae[0],J=(be[8]+1)/be[0],pe=Be*He,re=Be*J,_e=ve/(-He+J),ye=_e*-He;K.matrixWorld.decompose(z.position,z.quaternion,z.scale),z.translateX(ye),z.translateZ(_e),z.matrixWorld.compose(z.position,z.quaternion,z.scale),z.matrixWorldInverse.copy(z.matrixWorld).invert();const Ye=Be+_e,ke=Oe+_e,We=pe-ye,at=re+(ve-ye),wt=Je*Oe/ke*Ye,Kt=ot*Oe/ke*Ye;z.projectionMatrix.makePerspective(We,at,wt,Kt,Ye,ke),z.projectionMatrixInverse.copy(z.projectionMatrix).invert()}function ee(z,K){K===null?z.matrixWorld.copy(z.matrix):z.matrixWorld.multiplyMatrices(K.matrixWorld,z.matrix),z.matrixWorldInverse.copy(z.matrixWorld).invert()}this.updateCamera=function(z){if(r===null)return;P.near=T.near=M.near=z.near,P.far=T.far=M.far=z.far,(B!==P.near||R!==P.far)&&(r.updateRenderState({depthNear:P.near,depthFar:P.far}),B=P.near,R=P.far);const K=z.parent,ue=P.cameras;ee(P,K);for(let ve=0;ve<ue.length;ve++)ee(ue[ve],K);ue.length===2?q(P,M,T):P.projectionMatrix.copy(M.projectionMatrix),$(z,P,K)};function $(z,K,ue){ue===null?z.matrix.copy(K.matrixWorld):(z.matrix.copy(ue.matrixWorld),z.matrix.invert(),z.matrix.multiply(K.matrixWorld)),z.matrix.decompose(z.position,z.quaternion,z.scale),z.updateMatrixWorld(!0),z.projectionMatrix.copy(K.projectionMatrix),z.projectionMatrixInverse.copy(K.projectionMatrixInverse),z.isPerspectiveCamera&&(z.fov=ad*2*Math.atan(1/z.projectionMatrix.elements[5]),z.zoom=1)}this.getCamera=function(){return P},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(z){l=z,p!==null&&(p.fixedFoveation=z),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=z)};let I=null;function V(z,K){if(d=K.getViewerPose(c||o),v=K,d!==null){const ue=d.views;m!==null&&(e.setRenderTargetFramebuffer(g,m.framebuffer),e.setRenderTarget(g));let ve=!1;ue.length!==P.cameras.length&&(P.cameras.length=0,ve=!0);for(let Ae=0;Ae<ue.length;Ae++){const be=ue[Ae];let Be=null;if(m!==null)Be=m.getViewport(be);else{const Je=h.getViewSubImage(p,be);Be=Je.viewport,Ae===0&&(e.setRenderTargetTextures(g,Je.colorTexture,p.ignoreDepthValues?void 0:Je.depthStencilTexture),e.setRenderTarget(g))}let Oe=C[Ae];Oe===void 0&&(Oe=new wn,Oe.layers.enable(Ae),Oe.viewport=new jt,C[Ae]=Oe),Oe.matrix.fromArray(be.transform.matrix),Oe.matrix.decompose(Oe.position,Oe.quaternion,Oe.scale),Oe.projectionMatrix.fromArray(be.projectionMatrix),Oe.projectionMatrixInverse.copy(Oe.projectionMatrix).invert(),Oe.viewport.set(Be.x,Be.y,Be.width,Be.height),Ae===0&&(P.matrix.copy(Oe.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale)),ve===!0&&P.cameras.push(Oe)}}for(let ue=0;ue<A.length;ue++){const ve=S[ue],Ae=A[ue];ve!==null&&Ae!==void 0&&Ae.update(ve,K,c||o)}I&&I(z,K),K.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:K}),v=null}const W=new xF;W.setAnimationLoop(V),this.setAnimationLoop=function(z){I=z},this.dispose=function(){}}}function oQ(n,e){function t(x,g){x.matrixAutoUpdate===!0&&x.updateMatrix(),g.value.copy(x.matrix)}function i(x,g){g.color.getRGB(x.fogColor.value,mF(n)),g.isFog?(x.fogNear.value=g.near,x.fogFar.value=g.far):g.isFogExp2&&(x.fogDensity.value=g.density)}function r(x,g,A,S,M){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(x,g):g.isMeshToonMaterial?(s(x,g),h(x,g)):g.isMeshPhongMaterial?(s(x,g),d(x,g)):g.isMeshStandardMaterial?(s(x,g),p(x,g),g.isMeshPhysicalMaterial&&m(x,g,M)):g.isMeshMatcapMaterial?(s(x,g),v(x,g)):g.isMeshDepthMaterial?s(x,g):g.isMeshDistanceMaterial?(s(x,g),_(x,g)):g.isMeshNormalMaterial?s(x,g):g.isLineBasicMaterial?(o(x,g),g.isLineDashedMaterial&&a(x,g)):g.isPointsMaterial?l(x,g,A,S):g.isSpriteMaterial?c(x,g):g.isShadowMaterial?(x.color.value.copy(g.color),x.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(x,g){x.opacity.value=g.opacity,g.color&&x.diffuse.value.copy(g.color),g.emissive&&x.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(x.map.value=g.map,t(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,t(g.alphaMap,x.alphaMapTransform)),g.bumpMap&&(x.bumpMap.value=g.bumpMap,t(g.bumpMap,x.bumpMapTransform),x.bumpScale.value=g.bumpScale,g.side===Ni&&(x.bumpScale.value*=-1)),g.normalMap&&(x.normalMap.value=g.normalMap,t(g.normalMap,x.normalMapTransform),x.normalScale.value.copy(g.normalScale),g.side===Ni&&x.normalScale.value.negate()),g.displacementMap&&(x.displacementMap.value=g.displacementMap,t(g.displacementMap,x.displacementMapTransform),x.displacementScale.value=g.displacementScale,x.displacementBias.value=g.displacementBias),g.emissiveMap&&(x.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,x.emissiveMapTransform)),g.specularMap&&(x.specularMap.value=g.specularMap,t(g.specularMap,x.specularMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest);const A=e.get(g).envMap;if(A&&(x.envMap.value=A,x.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=g.reflectivity,x.ior.value=g.ior,x.refractionRatio.value=g.refractionRatio),g.lightMap){x.lightMap.value=g.lightMap;const S=n._useLegacyLights===!0?Math.PI:1;x.lightMapIntensity.value=g.lightMapIntensity*S,t(g.lightMap,x.lightMapTransform)}g.aoMap&&(x.aoMap.value=g.aoMap,x.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,x.aoMapTransform))}function o(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,g.map&&(x.map.value=g.map,t(g.map,x.mapTransform))}function a(x,g){x.dashSize.value=g.dashSize,x.totalSize.value=g.dashSize+g.gapSize,x.scale.value=g.scale}function l(x,g,A,S){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.size.value=g.size*A,x.scale.value=S*.5,g.map&&(x.map.value=g.map,t(g.map,x.uvTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,t(g.alphaMap,x.alphaMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function c(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.rotation.value=g.rotation,g.map&&(x.map.value=g.map,t(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,t(g.alphaMap,x.alphaMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function d(x,g){x.specular.value.copy(g.specular),x.shininess.value=Math.max(g.shininess,1e-4)}function h(x,g){g.gradientMap&&(x.gradientMap.value=g.gradientMap)}function p(x,g){x.metalness.value=g.metalness,g.metalnessMap&&(x.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,x.metalnessMapTransform)),x.roughness.value=g.roughness,g.roughnessMap&&(x.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,x.roughnessMapTransform)),e.get(g).envMap&&(x.envMapIntensity.value=g.envMapIntensity)}function m(x,g,A){x.ior.value=g.ior,g.sheen>0&&(x.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),x.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(x.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,x.sheenColorMapTransform)),g.sheenRoughnessMap&&(x.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,x.sheenRoughnessMapTransform))),g.clearcoat>0&&(x.clearcoat.value=g.clearcoat,x.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(x.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,x.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(x.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Ni&&x.clearcoatNormalScale.value.negate())),g.iridescence>0&&(x.iridescence.value=g.iridescence,x.iridescenceIOR.value=g.iridescenceIOR,x.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(x.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,x.iridescenceMapTransform)),g.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),g.transmission>0&&(x.transmission.value=g.transmission,x.transmissionSamplerMap.value=A.texture,x.transmissionSamplerSize.value.set(A.width,A.height),g.transmissionMap&&(x.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,x.transmissionMapTransform)),x.thickness.value=g.thickness,g.thicknessMap&&(x.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=g.attenuationDistance,x.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(x.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(x.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=g.specularIntensity,x.specularColor.value.copy(g.specularColor),g.specularColorMap&&(x.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,x.specularColorMapTransform)),g.specularIntensityMap&&(x.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,x.specularIntensityMapTransform))}function v(x,g){g.matcap&&(x.matcap.value=g.matcap)}function _(x,g){const A=e.get(g).light;x.referencePosition.value.setFromMatrixPosition(A.matrixWorld),x.nearDistance.value=A.shadow.camera.near,x.farDistance.value=A.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function aQ(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(A,S){const M=S.program;i.uniformBlockBinding(A,M)}function c(A,S){let M=r[A.id];M===void 0&&(v(A),M=d(A),r[A.id]=M,A.addEventListener("dispose",x));const T=S.program;i.updateUBOMapping(A,T);const C=e.render.frame;s[A.id]!==C&&(p(A),s[A.id]=C)}function d(A){const S=h();A.__bindingPointIndex=S;const M=n.createBuffer(),T=A.__size,C=A.usage;return n.bindBuffer(n.UNIFORM_BUFFER,M),n.bufferData(n.UNIFORM_BUFFER,T,C),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,S,M),M}function h(){for(let A=0;A<a;A++)if(o.indexOf(A)===-1)return o.push(A),A;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(A){const S=r[A.id],M=A.uniforms,T=A.__cache;n.bindBuffer(n.UNIFORM_BUFFER,S);for(let C=0,P=M.length;C<P;C++){const B=M[C];if(m(B,C,T)===!0){const R=B.__offset,L=Array.isArray(B.value)?B.value:[B.value];let O=0;for(let G=0;G<L.length;G++){const Q=L[G],F=_(Q);typeof Q=="number"?(B.__data[0]=Q,n.bufferSubData(n.UNIFORM_BUFFER,R+O,B.__data)):Q.isMatrix3?(B.__data[0]=Q.elements[0],B.__data[1]=Q.elements[1],B.__data[2]=Q.elements[2],B.__data[3]=Q.elements[0],B.__data[4]=Q.elements[3],B.__data[5]=Q.elements[4],B.__data[6]=Q.elements[5],B.__data[7]=Q.elements[0],B.__data[8]=Q.elements[6],B.__data[9]=Q.elements[7],B.__data[10]=Q.elements[8],B.__data[11]=Q.elements[0]):(Q.toArray(B.__data,O),O+=F.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,R,B.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(A,S,M){const T=A.value;if(M[S]===void 0){if(typeof T=="number")M[S]=T;else{const C=Array.isArray(T)?T:[T],P=[];for(let B=0;B<C.length;B++)P.push(C[B].clone());M[S]=P}return!0}else if(typeof T=="number"){if(M[S]!==T)return M[S]=T,!0}else{const C=Array.isArray(M[S])?M[S]:[M[S]],P=Array.isArray(T)?T:[T];for(let B=0;B<C.length;B++){const R=C[B];if(R.equals(P[B])===!1)return R.copy(P[B]),!0}}return!1}function v(A){const S=A.uniforms;let M=0;const T=16;let C=0;for(let P=0,B=S.length;P<B;P++){const R=S[P],L={boundary:0,storage:0},O=Array.isArray(R.value)?R.value:[R.value];for(let G=0,Q=O.length;G<Q;G++){const F=O[G],q=_(F);L.boundary+=q.boundary,L.storage+=q.storage}if(R.__data=new Float32Array(L.storage/Float32Array.BYTES_PER_ELEMENT),R.__offset=M,P>0){C=M%T;const G=T-C;C!==0&&G-L.boundary<0&&(M+=T-C,R.__offset=M)}M+=L.storage}return C=M%T,C>0&&(M+=T-C),A.__size=M,A.__cache={},this}function _(A){const S={boundary:0,storage:0};return typeof A=="number"?(S.boundary=4,S.storage=4):A.isVector2?(S.boundary=8,S.storage=8):A.isVector3||A.isColor?(S.boundary=16,S.storage=12):A.isVector4?(S.boundary=16,S.storage=16):A.isMatrix3?(S.boundary=48,S.storage=48):A.isMatrix4?(S.boundary=64,S.storage=64):A.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",A),S}function x(A){const S=A.target;S.removeEventListener("dispose",x);const M=o.indexOf(S.__bindingPointIndex);o.splice(M,1),n.deleteBuffer(r[S.id]),delete r[S.id],delete s[S.id]}function g(){for(const A in r)n.deleteBuffer(r[A]);o=[],r={},s={}}return{bind:l,update:c,dispose:g}}class xM{constructor(e={}){const{canvas:t=fF(),context:i=null,depth:r=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:h=!1}=e;this.isWebGLRenderer=!0;let p;i!==null?p=i.getContextAttributes().alpha:p=o;const m=new Uint32Array(4),v=new Int32Array(4);let _=null,x=null;const g=[],A=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Fn,this._useLegacyLights=!1,this.toneMapping=ks,this.toneMappingExposure=1;const S=this;let M=!1,T=0,C=0,P=null,B=-1,R=null;const L=new jt,O=new jt;let G=null;const Q=new ze(0);let F=0,q=t.width,ee=t.height,$=1,I=null,V=null;const W=new jt(0,0,q,ee),z=new jt(0,0,q,ee);let K=!1;const ue=new Cv;let ve=!1,Ae=!1,be=null;const Be=new ht,Oe=new ge,Je=new H,ot={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function He(){return P===null?$:1}let J=i;function pe(k,ie){for(let ae=0;ae<k.length;ae++){const ce=k[ae],de=t.getContext(ce,ie);if(de!==null)return de}return null}try{const k={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:h};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Hh}`),t.addEventListener("webglcontextlost",it,!1),t.addEventListener("webglcontextrestored",Z,!1),t.addEventListener("webglcontextcreationerror",Ne,!1),J===null){const ie=["webgl2","webgl","experimental-webgl"];if(S.isWebGL1Renderer===!0&&ie.shift(),J=pe(ie,k),J===null)throw pe(ie)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&J instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),J.getShaderPrecisionFormat===void 0&&(J.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(k){throw console.error("THREE.WebGLRenderer: "+k.message),k}let re,_e,ye,Ye,ke,We,at,wt,Kt,X,N,oe,Re,Se,Ce,qe,Ie,Ue,ut,It,Pe,Dt,Y,he;function Me(){re=new SK(J),_e=new gK(J,re,e),re.init(_e),Dt=new MF(J,re,_e),ye=new nQ(J,re,_e),Ye=new EK(J),ke=new WY,We=new iQ(J,re,ye,ke,_e,Dt,Ye),at=new yK(S),wt=new AK(S),Kt=new Nj(J,_e),Y=new pK(J,re,Kt,_e),X=new wK(J,Kt,Ye,Y),N=new RK(J,X,Kt,Ye),ut=new bK(J,_e,We),qe=new vK(ke),oe=new VY(S,at,wt,re,_e,Y,qe),Re=new oQ(S,ke),Se=new XY,Ce=new ZY(re,_e),Ue=new hK(S,at,wt,ye,N,p,l),Ie=new tQ(S,N,_e),he=new aQ(J,Ye,_e,ye),It=new mK(J,re,Ye,_e),Pe=new MK(J,re,Ye,_e),Ye.programs=oe.programs,S.capabilities=_e,S.extensions=re,S.properties=ke,S.renderLists=Se,S.shadowMap=Ie,S.state=ye,S.info=Ye}Me();const we=new sQ(S,J);this.xr=we,this.getContext=function(){return J},this.getContextAttributes=function(){return J.getContextAttributes()},this.forceContextLoss=function(){const k=re.get("WEBGL_lose_context");k&&k.loseContext()},this.forceContextRestore=function(){const k=re.get("WEBGL_lose_context");k&&k.restoreContext()},this.getPixelRatio=function(){return $},this.setPixelRatio=function(k){k!==void 0&&($=k,this.setSize(q,ee,!1))},this.getSize=function(k){return k.set(q,ee)},this.setSize=function(k,ie,ae=!0){if(we.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}q=k,ee=ie,t.width=Math.floor(k*$),t.height=Math.floor(ie*$),ae===!0&&(t.style.width=k+"px",t.style.height=ie+"px"),this.setViewport(0,0,k,ie)},this.getDrawingBufferSize=function(k){return k.set(q*$,ee*$).floor()},this.setDrawingBufferSize=function(k,ie,ae){q=k,ee=ie,$=ae,t.width=Math.floor(k*ae),t.height=Math.floor(ie*ae),this.setViewport(0,0,k,ie)},this.getCurrentViewport=function(k){return k.copy(L)},this.getViewport=function(k){return k.copy(W)},this.setViewport=function(k,ie,ae,ce){k.isVector4?W.set(k.x,k.y,k.z,k.w):W.set(k,ie,ae,ce),ye.viewport(L.copy(W).multiplyScalar($).floor())},this.getScissor=function(k){return k.copy(z)},this.setScissor=function(k,ie,ae,ce){k.isVector4?z.set(k.x,k.y,k.z,k.w):z.set(k,ie,ae,ce),ye.scissor(O.copy(z).multiplyScalar($).floor())},this.getScissorTest=function(){return K},this.setScissorTest=function(k){ye.setScissorTest(K=k)},this.setOpaqueSort=function(k){I=k},this.setTransparentSort=function(k){V=k},this.getClearColor=function(k){return k.copy(Ue.getClearColor())},this.setClearColor=function(){Ue.setClearColor.apply(Ue,arguments)},this.getClearAlpha=function(){return Ue.getClearAlpha()},this.setClearAlpha=function(){Ue.setClearAlpha.apply(Ue,arguments)},this.clear=function(k=!0,ie=!0,ae=!0){let ce=0;if(k){let de=!1;if(P!==null){const je=P.texture.format;de=je===oM||je===sM||je===rM}if(de){const je=P.texture.type,tt=je===Us||je===yo||je===wv||je===ba||je===nM||je===iM,lt=Ue.getClearColor(),dt=Ue.getClearAlpha(),mt=lt.r,pt=lt.g,gt=lt.b;tt?(m[0]=mt,m[1]=pt,m[2]=gt,m[3]=dt,J.clearBufferuiv(J.COLOR,0,m)):(v[0]=mt,v[1]=pt,v[2]=gt,v[3]=dt,J.clearBufferiv(J.COLOR,0,v))}else ce|=J.COLOR_BUFFER_BIT}ie&&(ce|=J.DEPTH_BUFFER_BIT),ae&&(ce|=J.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),J.clear(ce)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",it,!1),t.removeEventListener("webglcontextrestored",Z,!1),t.removeEventListener("webglcontextcreationerror",Ne,!1),Se.dispose(),Ce.dispose(),ke.dispose(),at.dispose(),wt.dispose(),N.dispose(),Y.dispose(),he.dispose(),oe.dispose(),we.dispose(),we.removeEventListener("sessionstart",Mn),we.removeEventListener("sessionend",Ft),be&&(be.dispose(),be=null),ei.stop()};function it(k){k.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),M=!0}function Z(){console.log("THREE.WebGLRenderer: Context Restored."),M=!1;const k=Ye.autoReset,ie=Ie.enabled,ae=Ie.autoUpdate,ce=Ie.needsUpdate,de=Ie.type;Me(),Ye.autoReset=k,Ie.enabled=ie,Ie.autoUpdate=ae,Ie.needsUpdate=ce,Ie.type=de}function Ne(k){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",k.statusMessage)}function De(k){const ie=k.target;ie.removeEventListener("dispose",De),me(ie)}function me(k){Ee(k),ke.remove(k)}function Ee(k){const ie=ke.get(k).programs;ie!==void 0&&(ie.forEach(function(ae){oe.releaseProgram(ae)}),k.isShaderMaterial&&oe.releaseShaderCache(k))}this.renderBufferDirect=function(k,ie,ae,ce,de,je){ie===null&&(ie=ot);const tt=de.isMesh&&de.matrixWorld.determinant()<0,lt=Yv(k,ie,ae,ce,de);ye.setMaterial(ce,tt);let dt=ae.index,mt=1;if(ce.wireframe===!0){if(dt=X.getWireframeAttribute(ae),dt===void 0)return;mt=2}const pt=ae.drawRange,gt=ae.attributes.position;let on=pt.start*mt,ti=(pt.start+pt.count)*mt;je!==null&&(on=Math.max(on,je.start*mt),ti=Math.min(ti,(je.start+je.count)*mt)),dt!==null?(on=Math.max(on,0),ti=Math.min(ti,dt.count)):gt!=null&&(on=Math.max(on,0),ti=Math.min(ti,gt.count));const $t=ti-on;if($t<0||$t===1/0)return;Y.setup(de,ce,lt,ae,dt);let Gn,ft=It;if(dt!==null&&(Gn=Kt.get(dt),ft=Pe,ft.setIndex(Gn)),de.isMesh)ce.wireframe===!0?(ye.setLineWidth(ce.wireframeLinewidth*He()),ft.setMode(J.LINES)):ft.setMode(J.TRIANGLES);else if(de.isLine){let Qe=ce.linewidth;Qe===void 0&&(Qe=1),ye.setLineWidth(Qe*He()),de.isLineSegments?ft.setMode(J.LINES):de.isLineLoop?ft.setMode(J.LINE_LOOP):ft.setMode(J.LINE_STRIP)}else de.isPoints?ft.setMode(J.POINTS):de.isSprite&&ft.setMode(J.TRIANGLES);if(de.isInstancedMesh)ft.renderInstances(on,$t,de.count);else if(ae.isInstancedBufferGeometry){const Qe=ae._maxInstanceCount!==void 0?ae._maxInstanceCount:1/0,Ar=Math.min(ae.instanceCount,Qe);ft.renderInstances(on,$t,Ar)}else ft.render(on,$t)};function $e(k,ie,ae){k.transparent===!0&&k.side===rs&&k.forceSinglePass===!1?(k.side=Ni,k.needsUpdate=!0,gc(k,ie,ae),k.side=Vs,k.needsUpdate=!0,gc(k,ie,ae),k.side=rs):gc(k,ie,ae)}this.compile=function(k,ie,ae=null){ae===null&&(ae=k),x=Ce.get(ae),x.init(),A.push(x),ae.traverseVisible(function(de){de.isLight&&de.layers.test(ie.layers)&&(x.pushLight(de),de.castShadow&&x.pushShadow(de))}),k!==ae&&k.traverseVisible(function(de){de.isLight&&de.layers.test(ie.layers)&&(x.pushLight(de),de.castShadow&&x.pushShadow(de))}),x.setupLights(S._useLegacyLights);const ce=new Set;return k.traverse(function(de){const je=de.material;if(je)if(Array.isArray(je))for(let tt=0;tt<je.length;tt++){const lt=je[tt];$e(lt,ae,de),ce.add(lt)}else $e(je,ae,de),ce.add(je)}),A.pop(),x=null,ce},this.compileAsync=function(k,ie,ae=null){const ce=this.compile(k,ie,ae);return new Promise(de=>{function je(){if(ce.forEach(function(tt){ke.get(tt).currentProgram.isReady()&&ce.delete(tt)}),ce.size===0){de(k);return}setTimeout(je,10)}re.get("KHR_parallel_shader_compile")!==null?je():setTimeout(je,10)})};let Mt=null;function Vt(k){Mt&&Mt(k)}function Mn(){ei.stop()}function Ft(){ei.start()}const ei=new xF;ei.setAnimationLoop(Vt),typeof self<"u"&&ei.setContext(self),this.setAnimationLoop=function(k){Mt=k,we.setAnimationLoop(k),k===null?ei.stop():ei.start()},we.addEventListener("sessionstart",Mn),we.addEventListener("sessionend",Ft),this.render=function(k,ie){if(ie!==void 0&&ie.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(M===!0)return;k.matrixWorldAutoUpdate===!0&&k.updateMatrixWorld(),ie.parent===null&&ie.matrixWorldAutoUpdate===!0&&ie.updateMatrixWorld(),we.enabled===!0&&we.isPresenting===!0&&(we.cameraAutoUpdate===!0&&we.updateCamera(ie),ie=we.getCamera()),k.isScene===!0&&k.onBeforeRender(S,k,ie,P),x=Ce.get(k,A.length),x.init(),A.push(x),Be.multiplyMatrices(ie.projectionMatrix,ie.matrixWorldInverse),ue.setFromProjectionMatrix(Be),Ae=this.localClippingEnabled,ve=qe.init(this.clippingPlanes,Ae),_=Se.get(k,g.length),_.init(),g.push(_),_r(k,ie,0,S.sortObjects),_.finish(),S.sortObjects===!0&&_.sort(I,V),this.info.render.frame++,ve===!0&&qe.beginShadows();const ae=x.state.shadowsArray;if(Ie.render(ae,k,ie),ve===!0&&qe.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ue.render(_,k),x.setupLights(S._useLegacyLights),ie.isArrayCamera){const ce=ie.cameras;for(let de=0,je=ce.length;de<je;de++){const tt=ce[de];wd(_,k,tt,tt.viewport)}}else wd(_,k,ie);P!==null&&(We.updateMultisampleRenderTarget(P),We.updateRenderTargetMipmap(P)),k.isScene===!0&&k.onAfterRender(S,k,ie),Y.resetDefaultState(),B=-1,R=null,A.pop(),A.length>0?x=A[A.length-1]:x=null,g.pop(),g.length>0?_=g[g.length-1]:_=null};function _r(k,ie,ae,ce){if(k.visible===!1)return;if(k.layers.test(ie.layers)){if(k.isGroup)ae=k.renderOrder;else if(k.isLOD)k.autoUpdate===!0&&k.update(ie);else if(k.isLight)x.pushLight(k),k.castShadow&&x.pushShadow(k);else if(k.isSprite){if(!k.frustumCulled||ue.intersectsSprite(k)){ce&&Je.setFromMatrixPosition(k.matrixWorld).applyMatrix4(Be);const tt=N.update(k),lt=k.material;lt.visible&&_.push(k,tt,lt,ae,Je.z,null)}}else if((k.isMesh||k.isLine||k.isPoints)&&(!k.frustumCulled||ue.intersectsObject(k))){const tt=N.update(k),lt=k.material;if(ce&&(k.boundingSphere!==void 0?(k.boundingSphere===null&&k.computeBoundingSphere(),Je.copy(k.boundingSphere.center)):(tt.boundingSphere===null&&tt.computeBoundingSphere(),Je.copy(tt.boundingSphere.center)),Je.applyMatrix4(k.matrixWorld).applyMatrix4(Be)),Array.isArray(lt)){const dt=tt.groups;for(let mt=0,pt=dt.length;mt<pt;mt++){const gt=dt[mt],on=lt[gt.materialIndex];on&&on.visible&&_.push(k,tt,on,ae,Je.z,gt)}}else lt.visible&&_.push(k,tt,lt,ae,Je.z,null)}}const je=k.children;for(let tt=0,lt=je.length;tt<lt;tt++)_r(je[tt],ie,ae,ce)}function wd(k,ie,ae,ce){const de=k.opaque,je=k.transmissive,tt=k.transparent;x.setupLightsView(ae),ve===!0&&qe.setGlobalState(S.clippingPlanes,ae),je.length>0&&Md(de,je,ie,ae),ce&&ye.viewport(L.copy(ce)),de.length>0&&mc(de,ie,ae),je.length>0&&mc(je,ie,ae),tt.length>0&&mc(tt,ie,ae),ye.buffers.depth.setTest(!0),ye.buffers.depth.setMask(!0),ye.buffers.color.setMask(!0),ye.setPolygonOffset(!1)}function Md(k,ie,ae,ce){if((ae.isScene===!0?ae.overrideMaterial:null)!==null)return;const je=_e.isWebGL2;be===null&&(be=new ds(1,1,{generateMipmaps:!0,type:re.has("EXT_color_buffer_half_float")?sd:Us,minFilter:Ws,samples:je?4:0})),S.getDrawingBufferSize(Oe),je?be.setSize(Oe.x,Oe.y):be.setSize(B0(Oe.x),B0(Oe.y));const tt=S.getRenderTarget();S.setRenderTarget(be),S.getClearColor(Q),F=S.getClearAlpha(),F<1&&S.setClearColor(16777215,.5),S.clear();const lt=S.toneMapping;S.toneMapping=ks,mc(k,ae,ce),We.updateMultisampleRenderTarget(be),We.updateRenderTargetMipmap(be);let dt=!1;for(let mt=0,pt=ie.length;mt<pt;mt++){const gt=ie[mt],on=gt.object,ti=gt.geometry,$t=gt.material,Gn=gt.group;if($t.side===rs&&on.layers.test(ce.layers)){const ft=$t.side;$t.side=Ni,$t.needsUpdate=!0,Oo(on,ae,ce,ti,$t,Gn),$t.side=ft,$t.needsUpdate=!0,dt=!0}}dt===!0&&(We.updateMultisampleRenderTarget(be),We.updateRenderTargetMipmap(be)),S.setRenderTarget(tt),S.setClearColor(Q,F),S.toneMapping=lt}function mc(k,ie,ae){const ce=ie.isScene===!0?ie.overrideMaterial:null;for(let de=0,je=k.length;de<je;de++){const tt=k[de],lt=tt.object,dt=tt.geometry,mt=ce===null?tt.material:ce,pt=tt.group;lt.layers.test(ae.layers)&&Oo(lt,ie,ae,dt,mt,pt)}}function Oo(k,ie,ae,ce,de,je){k.onBeforeRender(S,ie,ae,ce,de,je),k.modelViewMatrix.multiplyMatrices(ae.matrixWorldInverse,k.matrixWorld),k.normalMatrix.getNormalMatrix(k.modelViewMatrix),de.onBeforeRender(S,ie,ae,ce,k,je),de.transparent===!0&&de.side===rs&&de.forceSinglePass===!1?(de.side=Ni,de.needsUpdate=!0,S.renderBufferDirect(ae,ie,ce,de,k,je),de.side=Vs,de.needsUpdate=!0,S.renderBufferDirect(ae,ie,ce,de,k,je),de.side=rs):S.renderBufferDirect(ae,ie,ce,de,k,je),k.onAfterRender(S,ie,ae,ce,de,je)}function gc(k,ie,ae){ie.isScene!==!0&&(ie=ot);const ce=ke.get(k),de=x.state.lights,je=x.state.shadowsArray,tt=de.state.version,lt=oe.getParameters(k,de.state,je,ie,ae),dt=oe.getProgramCacheKey(lt);let mt=ce.programs;ce.environment=k.isMeshStandardMaterial?ie.environment:null,ce.fog=ie.fog,ce.envMap=(k.isMeshStandardMaterial?wt:at).get(k.envMap||ce.environment),mt===void 0&&(k.addEventListener("dispose",De),mt=new Map,ce.programs=mt);let pt=mt.get(dt);if(pt!==void 0){if(ce.currentProgram===pt&&ce.lightsStateVersion===tt)return ip(k,lt),pt}else lt.uniforms=oe.getUniforms(k),k.onBuild(ae,lt,S),k.onBeforeCompile(lt,S),pt=oe.acquireProgram(lt,dt),mt.set(dt,pt),ce.uniforms=lt.uniforms;const gt=ce.uniforms;return(!k.isShaderMaterial&&!k.isRawShaderMaterial||k.clipping===!0)&&(gt.clippingPlanes=qe.uniform),ip(k,lt),ce.needsLights=qv(k),ce.lightsStateVersion=tt,ce.needsLights&&(gt.ambientLightColor.value=de.state.ambient,gt.lightProbe.value=de.state.probe,gt.directionalLights.value=de.state.directional,gt.directionalLightShadows.value=de.state.directionalShadow,gt.spotLights.value=de.state.spot,gt.spotLightShadows.value=de.state.spotShadow,gt.rectAreaLights.value=de.state.rectArea,gt.ltc_1.value=de.state.rectAreaLTC1,gt.ltc_2.value=de.state.rectAreaLTC2,gt.pointLights.value=de.state.point,gt.pointLightShadows.value=de.state.pointShadow,gt.hemisphereLights.value=de.state.hemi,gt.directionalShadowMap.value=de.state.directionalShadowMap,gt.directionalShadowMatrix.value=de.state.directionalShadowMatrix,gt.spotShadowMap.value=de.state.spotShadowMap,gt.spotLightMatrix.value=de.state.spotLightMatrix,gt.spotLightMap.value=de.state.spotLightMap,gt.pointShadowMap.value=de.state.pointShadowMap,gt.pointShadowMatrix.value=de.state.pointShadowMatrix),ce.currentProgram=pt,ce.uniformsList=null,pt}function np(k){if(k.uniformsList===null){const ie=k.currentProgram.getUniforms();k.uniformsList=Gg.seqWithValue(ie.seq,k.uniforms)}return k.uniformsList}function ip(k,ie){const ae=ke.get(k);ae.outputColorSpace=ie.outputColorSpace,ae.instancing=ie.instancing,ae.instancingColor=ie.instancingColor,ae.skinning=ie.skinning,ae.morphTargets=ie.morphTargets,ae.morphNormals=ie.morphNormals,ae.morphColors=ie.morphColors,ae.morphTargetsCount=ie.morphTargetsCount,ae.numClippingPlanes=ie.numClippingPlanes,ae.numIntersection=ie.numClipIntersection,ae.vertexAlphas=ie.vertexAlphas,ae.vertexTangents=ie.vertexTangents,ae.toneMapping=ie.toneMapping}function Yv(k,ie,ae,ce,de){ie.isScene!==!0&&(ie=ot),We.resetTextureUnits();const je=ie.fog,tt=ce.isMeshStandardMaterial?ie.environment:null,lt=P===null?S.outputColorSpace:P.isXRRenderTarget===!0?P.texture.colorSpace:js,dt=(ce.isMeshStandardMaterial?wt:at).get(ce.envMap||tt),mt=ce.vertexColors===!0&&!!ae.attributes.color&&ae.attributes.color.itemSize===4,pt=!!ae.attributes.tangent&&(!!ce.normalMap||ce.anisotropy>0),gt=!!ae.morphAttributes.position,on=!!ae.morphAttributes.normal,ti=!!ae.morphAttributes.color;let $t=ks;ce.toneMapped&&(P===null||P.isXRRenderTarget===!0)&&($t=S.toneMapping);const Gn=ae.morphAttributes.position||ae.morphAttributes.normal||ae.morphAttributes.color,ft=Gn!==void 0?Gn.length:0,Qe=ke.get(ce),Ar=x.state.lights;if(ve===!0&&(Ae===!0||k!==R)){const Wn=k===R&&ce.id===B;qe.setState(ce,k,Wn)}let Rt=!1;ce.version===Qe.__version?(Qe.needsLights&&Qe.lightsStateVersion!==Ar.state.version||Qe.outputColorSpace!==lt||de.isInstancedMesh&&Qe.instancing===!1||!de.isInstancedMesh&&Qe.instancing===!0||de.isSkinnedMesh&&Qe.skinning===!1||!de.isSkinnedMesh&&Qe.skinning===!0||de.isInstancedMesh&&Qe.instancingColor===!0&&de.instanceColor===null||de.isInstancedMesh&&Qe.instancingColor===!1&&de.instanceColor!==null||Qe.envMap!==dt||ce.fog===!0&&Qe.fog!==je||Qe.numClippingPlanes!==void 0&&(Qe.numClippingPlanes!==qe.numPlanes||Qe.numIntersection!==qe.numIntersection)||Qe.vertexAlphas!==mt||Qe.vertexTangents!==pt||Qe.morphTargets!==gt||Qe.morphNormals!==on||Qe.morphColors!==ti||Qe.toneMapping!==$t||_e.isWebGL2===!0&&Qe.morphTargetsCount!==ft)&&(Rt=!0):(Rt=!0,Qe.__version=ce.version);let mn=Qe.currentProgram;Rt===!0&&(mn=gc(ce,ie,de));let gs=!1,Sr=!1,Vn=!1;const Rn=mn.getUniforms(),vs=Qe.uniforms;if(ye.useProgram(mn.program)&&(gs=!0,Sr=!0,Vn=!0),ce.id!==B&&(B=ce.id,Sr=!0),gs||R!==k){Rn.setValue(J,"projectionMatrix",k.projectionMatrix),Rn.setValue(J,"viewMatrix",k.matrixWorldInverse);const Wn=Rn.map.cameraPosition;Wn!==void 0&&Wn.setValue(J,Je.setFromMatrixPosition(k.matrixWorld)),_e.logarithmicDepthBuffer&&Rn.setValue(J,"logDepthBufFC",2/(Math.log(k.far+1)/Math.LN2)),(ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshLambertMaterial||ce.isMeshBasicMaterial||ce.isMeshStandardMaterial||ce.isShaderMaterial)&&Rn.setValue(J,"isOrthographic",k.isOrthographicCamera===!0),R!==k&&(R=k,Sr=!0,Vn=!0)}if(de.isSkinnedMesh){Rn.setOptional(J,de,"bindMatrix"),Rn.setOptional(J,de,"bindMatrixInverse");const Wn=de.skeleton;Wn&&(_e.floatVertexTextures?(Wn.boneTexture===null&&Wn.computeBoneTexture(),Rn.setValue(J,"boneTexture",Wn.boneTexture,We),Rn.setValue(J,"boneTextureSize",Wn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const vc=ae.morphAttributes;if((vc.position!==void 0||vc.normal!==void 0||vc.color!==void 0&&_e.isWebGL2===!0)&&ut.update(de,ae,mn),(Sr||Qe.receiveShadow!==de.receiveShadow)&&(Qe.receiveShadow=de.receiveShadow,Rn.setValue(J,"receiveShadow",de.receiveShadow)),ce.isMeshGouraudMaterial&&ce.envMap!==null&&(vs.envMap.value=dt,vs.flipEnvMap.value=dt.isCubeTexture&&dt.isRenderTargetTexture===!1?-1:1),Sr&&(Rn.setValue(J,"toneMappingExposure",S.toneMappingExposure),Qe.needsLights&&Qv(vs,Vn),je&&ce.fog===!0&&Re.refreshFogUniforms(vs,je),Re.refreshMaterialUniforms(vs,ce,$,ee,be),Gg.upload(J,np(Qe),vs,We)),ce.isShaderMaterial&&ce.uniformsNeedUpdate===!0&&(Gg.upload(J,np(Qe),vs,We),ce.uniformsNeedUpdate=!1),ce.isSpriteMaterial&&Rn.setValue(J,"center",de.center),Rn.setValue(J,"modelViewMatrix",de.modelViewMatrix),Rn.setValue(J,"normalMatrix",de.normalMatrix),Rn.setValue(J,"modelMatrix",de.matrixWorld),ce.isShaderMaterial||ce.isRawShaderMaterial){const Wn=ce.uniformsGroups;for(let yc=0,$i=Wn.length;yc<$i;yc++)if(_e.isWebGL2){const rp=Wn[yc];he.update(rp,mn),he.bind(rp,mn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return mn}function Qv(k,ie){k.ambientLightColor.needsUpdate=ie,k.lightProbe.needsUpdate=ie,k.directionalLights.needsUpdate=ie,k.directionalLightShadows.needsUpdate=ie,k.pointLights.needsUpdate=ie,k.pointLightShadows.needsUpdate=ie,k.spotLights.needsUpdate=ie,k.spotLightShadows.needsUpdate=ie,k.rectAreaLights.needsUpdate=ie,k.hemisphereLights.needsUpdate=ie}function qv(k){return k.isMeshLambertMaterial||k.isMeshToonMaterial||k.isMeshPhongMaterial||k.isMeshStandardMaterial||k.isShadowMaterial||k.isShaderMaterial&&k.lights===!0}this.getActiveCubeFace=function(){return T},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return P},this.setRenderTargetTextures=function(k,ie,ae){ke.get(k.texture).__webglTexture=ie,ke.get(k.depthTexture).__webglTexture=ae;const ce=ke.get(k);ce.__hasExternalTextures=!0,ce.__hasExternalTextures&&(ce.__autoAllocateDepthBuffer=ae===void 0,ce.__autoAllocateDepthBuffer||re.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ce.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(k,ie){const ae=ke.get(k);ae.__webglFramebuffer=ie,ae.__useDefaultFramebuffer=ie===void 0},this.setRenderTarget=function(k,ie=0,ae=0){P=k,T=ie,C=ae;let ce=!0,de=null,je=!1,tt=!1;if(k){const dt=ke.get(k);dt.__useDefaultFramebuffer!==void 0?(ye.bindFramebuffer(J.FRAMEBUFFER,null),ce=!1):dt.__webglFramebuffer===void 0?We.setupRenderTarget(k):dt.__hasExternalTextures&&We.rebindTextures(k,ke.get(k.texture).__webglTexture,ke.get(k.depthTexture).__webglTexture);const mt=k.texture;(mt.isData3DTexture||mt.isDataArrayTexture||mt.isCompressedArrayTexture)&&(tt=!0);const pt=ke.get(k).__webglFramebuffer;k.isWebGLCubeRenderTarget?(Array.isArray(pt[ie])?de=pt[ie][ae]:de=pt[ie],je=!0):_e.isWebGL2&&k.samples>0&&We.useMultisampledRTT(k)===!1?de=ke.get(k).__webglMultisampledFramebuffer:Array.isArray(pt)?de=pt[ae]:de=pt,L.copy(k.viewport),O.copy(k.scissor),G=k.scissorTest}else L.copy(W).multiplyScalar($).floor(),O.copy(z).multiplyScalar($).floor(),G=K;if(ye.bindFramebuffer(J.FRAMEBUFFER,de)&&_e.drawBuffers&&ce&&ye.drawBuffers(k,de),ye.viewport(L),ye.scissor(O),ye.setScissorTest(G),je){const dt=ke.get(k.texture);J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_CUBE_MAP_POSITIVE_X+ie,dt.__webglTexture,ae)}else if(tt){const dt=ke.get(k.texture),mt=ie||0;J.framebufferTextureLayer(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,dt.__webglTexture,ae||0,mt)}B=-1},this.readRenderTargetPixels=function(k,ie,ae,ce,de,je,tt){if(!(k&&k.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let lt=ke.get(k).__webglFramebuffer;if(k.isWebGLCubeRenderTarget&&tt!==void 0&&(lt=lt[tt]),lt){ye.bindFramebuffer(J.FRAMEBUFFER,lt);try{const dt=k.texture,mt=dt.format,pt=dt.type;if(mt!==Wi&&Dt.convert(mt)!==J.getParameter(J.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const gt=pt===sd&&(re.has("EXT_color_buffer_half_float")||_e.isWebGL2&&re.has("EXT_color_buffer_float"));if(pt!==Us&&Dt.convert(pt)!==J.getParameter(J.IMPLEMENTATION_COLOR_READ_TYPE)&&!(pt===Ls&&(_e.isWebGL2||re.has("OES_texture_float")||re.has("WEBGL_color_buffer_float")))&&!gt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ie>=0&&ie<=k.width-ce&&ae>=0&&ae<=k.height-de&&J.readPixels(ie,ae,ce,de,Dt.convert(mt),Dt.convert(pt),je)}finally{const dt=P!==null?ke.get(P).__webglFramebuffer:null;ye.bindFramebuffer(J.FRAMEBUFFER,dt)}}},this.copyFramebufferToTexture=function(k,ie,ae=0){const ce=Math.pow(2,-ae),de=Math.floor(ie.image.width*ce),je=Math.floor(ie.image.height*ce);We.setTexture2D(ie,0),J.copyTexSubImage2D(J.TEXTURE_2D,ae,0,0,k.x,k.y,de,je),ye.unbindTexture()},this.copyTextureToTexture=function(k,ie,ae,ce=0){const de=ie.image.width,je=ie.image.height,tt=Dt.convert(ae.format),lt=Dt.convert(ae.type);We.setTexture2D(ae,0),J.pixelStorei(J.UNPACK_FLIP_Y_WEBGL,ae.flipY),J.pixelStorei(J.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ae.premultiplyAlpha),J.pixelStorei(J.UNPACK_ALIGNMENT,ae.unpackAlignment),ie.isDataTexture?J.texSubImage2D(J.TEXTURE_2D,ce,k.x,k.y,de,je,tt,lt,ie.image.data):ie.isCompressedTexture?J.compressedTexSubImage2D(J.TEXTURE_2D,ce,k.x,k.y,ie.mipmaps[0].width,ie.mipmaps[0].height,tt,ie.mipmaps[0].data):J.texSubImage2D(J.TEXTURE_2D,ce,k.x,k.y,tt,lt,ie.image),ce===0&&ae.generateMipmaps&&J.generateMipmap(J.TEXTURE_2D),ye.unbindTexture()},this.copyTextureToTexture3D=function(k,ie,ae,ce,de=0){if(S.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const je=k.max.x-k.min.x+1,tt=k.max.y-k.min.y+1,lt=k.max.z-k.min.z+1,dt=Dt.convert(ce.format),mt=Dt.convert(ce.type);let pt;if(ce.isData3DTexture)We.setTexture3D(ce,0),pt=J.TEXTURE_3D;else if(ce.isDataArrayTexture)We.setTexture2DArray(ce,0),pt=J.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}J.pixelStorei(J.UNPACK_FLIP_Y_WEBGL,ce.flipY),J.pixelStorei(J.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ce.premultiplyAlpha),J.pixelStorei(J.UNPACK_ALIGNMENT,ce.unpackAlignment);const gt=J.getParameter(J.UNPACK_ROW_LENGTH),on=J.getParameter(J.UNPACK_IMAGE_HEIGHT),ti=J.getParameter(J.UNPACK_SKIP_PIXELS),$t=J.getParameter(J.UNPACK_SKIP_ROWS),Gn=J.getParameter(J.UNPACK_SKIP_IMAGES),ft=ae.isCompressedTexture?ae.mipmaps[0]:ae.image;J.pixelStorei(J.UNPACK_ROW_LENGTH,ft.width),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,ft.height),J.pixelStorei(J.UNPACK_SKIP_PIXELS,k.min.x),J.pixelStorei(J.UNPACK_SKIP_ROWS,k.min.y),J.pixelStorei(J.UNPACK_SKIP_IMAGES,k.min.z),ae.isDataTexture||ae.isData3DTexture?J.texSubImage3D(pt,de,ie.x,ie.y,ie.z,je,tt,lt,dt,mt,ft.data):ae.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),J.compressedTexSubImage3D(pt,de,ie.x,ie.y,ie.z,je,tt,lt,dt,ft.data)):J.texSubImage3D(pt,de,ie.x,ie.y,ie.z,je,tt,lt,dt,mt,ft),J.pixelStorei(J.UNPACK_ROW_LENGTH,gt),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,on),J.pixelStorei(J.UNPACK_SKIP_PIXELS,ti),J.pixelStorei(J.UNPACK_SKIP_ROWS,$t),J.pixelStorei(J.UNPACK_SKIP_IMAGES,Gn),de===0&&ce.generateMipmaps&&J.generateMipmap(pt),ye.unbindTexture()},this.initTexture=function(k){k.isCubeTexture?We.setTextureCube(k,0):k.isData3DTexture?We.setTexture3D(k,0):k.isDataArrayTexture||k.isCompressedArrayTexture?We.setTexture2DArray(k,0):We.setTexture2D(k,0),ye.unbindTexture()},this.resetState=function(){T=0,C=0,P=null,ye.reset(),Y.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Bs}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===Ev?"display-p3":"srgb",t.unpackColorSpace=Wt.workingColorSpace===Vh?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Fn?Pa:uM}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Pa?Fn:js}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class CF extends xM{}CF.prototype.isWebGL1Renderer=!0;class Rv{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new ze(e),this.density=t}clone(){return new Rv(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Pv{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new ze(e),this.near=t,this.far=i}clone(){return new Pv(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class _M extends Bt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class Kh{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=_h,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=pr()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=pr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=pr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const bi=new H;class Ha{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)bi.fromBufferAttribute(this,t),bi.applyMatrix4(e),this.setXYZ(t,bi.x,bi.y,bi.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)bi.fromBufferAttribute(this,t),bi.applyNormalMatrix(e),this.setXYZ(t,bi.x,bi.y,bi.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)bi.fromBufferAttribute(this,t),bi.transformDirection(e),this.setXYZ(t,bi.x,bi.y,bi.z);return this}setX(e,t){return this.normalized&&(t=At(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=At(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=At(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=At(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ji(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ji(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ji(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ji(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=At(t,this.array),i=At(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=At(t,this.array),i=At(i,this.array),r=At(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=At(t,this.array),i=At(i,this.array),r=At(r,this.array),s=At(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Ht(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ha(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class AM extends Un{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ze(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Jc;const of=new H,Kc=new H,Yc=new H,Qc=new ge,af=new ge,bF=new ht,jm=new H,lf=new H,Xm=new H,dR=new ge,x1=new ge,fR=new ge;class RF extends Bt{constructor(e=new AM){if(super(),this.isSprite=!0,this.type="Sprite",Jc===void 0){Jc=new St;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Kh(t,5);Jc.setIndex([0,1,2,0,2,3]),Jc.setAttribute("position",new Ha(i,3,0,!1)),Jc.setAttribute("uv",new Ha(i,2,3,!1))}this.geometry=Jc,this.material=e,this.center=new ge(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Kc.setFromMatrixScale(this.matrixWorld),bF.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Yc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Kc.multiplyScalar(-Yc.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;Jm(jm.set(-.5,-.5,0),Yc,o,Kc,r,s),Jm(lf.set(.5,-.5,0),Yc,o,Kc,r,s),Jm(Xm.set(.5,.5,0),Yc,o,Kc,r,s),dR.set(0,0),x1.set(1,0),fR.set(1,1);let a=e.ray.intersectTriangle(jm,lf,Xm,!1,of);if(a===null&&(Jm(lf.set(-.5,.5,0),Yc,o,Kc,r,s),x1.set(0,1),a=e.ray.intersectTriangle(jm,Xm,lf,!1,of),a===null))return;const l=e.ray.origin.distanceTo(of);l<e.near||l>e.far||t.push({distance:l,point:of.clone(),uv:Vi.getInterpolation(of,jm,lf,Xm,dR,x1,fR,new ge),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Jm(n,e,t,i,r,s){Qc.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(af.x=s*Qc.x-r*Qc.y,af.y=r*Qc.x+s*Qc.y):af.copy(Qc),n.copy(e),n.x+=af.x,n.y+=af.y,n.applyMatrix4(bF)}const Km=new H,hR=new H;class PF extends Bt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Km.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Km);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Km.setFromMatrixPosition(e.matrixWorld),hR.setFromMatrixPosition(this.matrixWorld);const i=Km.distanceTo(hR)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const pR=new H,mR=new jt,gR=new jt,lQ=new H,vR=new ht,Ym=new H,_1=new Gr,yR=new ht,A1=new uc;class SM extends qn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=vA,this.bindMatrix=new ht,this.bindMatrixInverse=new ht,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new fs),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Ym),this.boundingBox.expandByPoint(Ym)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Gr),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Ym),this.boundingSphere.expandByPoint(Ym)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_1.copy(this.boundingSphere),_1.applyMatrix4(r),e.ray.intersectsSphere(_1)!==!1&&(yR.copy(r).invert(),A1.copy(e.ray).applyMatrix4(yR),!(this.boundingBox!==null&&A1.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,A1)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new jt,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===vA?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===UN?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;mR.fromBufferAttribute(r.attributes.skinIndex,e),gR.fromBufferAttribute(r.attributes.skinWeight,e),pR.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=gR.getComponent(s);if(o!==0){const a=mR.getComponent(s);vR.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(lQ.copy(pR).applyMatrix4(vR),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class Lv extends Bt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Du extends hn{constructor(e=null,t=1,i=1,r,s,o,a,l,c=An,d=An,h,p){super(null,o,a,l,c,d,r,s,h,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const xR=new ht,cQ=new ht;class Yh{constructor(e=[],t=[]){this.uuid=pr(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new ht)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new ht;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:cQ;xR.multiplyMatrices(a,t[s]),xR.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Yh(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=cF(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Du(t,e,e,Wi,Ls);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new Lv),this.bones.push(o),this.boneInverses.push(new ht().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class nc extends Ht{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const qc=new ht,_R=new ht,Qm=[],AR=new fs,uQ=new ht,cf=new qn,uf=new Gr;class wM extends qn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new nc(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,uQ)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new fs),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,qc),AR.copy(e.boundingBox).applyMatrix4(qc),this.boundingBox.union(AR)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Gr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,qc),uf.copy(e.boundingSphere).applyMatrix4(qc),this.boundingSphere.union(uf)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(cf.geometry=this.geometry,cf.material=this.material,cf.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),uf.copy(this.boundingSphere),uf.applyMatrix4(i),e.ray.intersectsSphere(uf)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,qc),_R.multiplyMatrices(i,qc),cf.matrixWorld=_R,cf.raycast(e,Qm);for(let o=0,a=Qm.length;o<a;o++){const l=Qm[o];l.instanceId=s,l.object=this,t.push(l)}Qm.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new nc(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class wi extends Un{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ze(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const SR=new H,wR=new H,MR=new ht,S1=new uc,qm=new Gr;class Do extends Bt{constructor(e=new St,t=new wi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)SR.fromBufferAttribute(t,r-1),wR.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=SR.distanceTo(wR);e.setAttribute("lineDistance",new Ze(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),qm.copy(i.boundingSphere),qm.applyMatrix4(r),qm.radius+=s,e.ray.intersectsSphere(qm)===!1)return;MR.copy(r).invert(),S1.copy(e.ray).applyMatrix4(MR);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new H,d=new H,h=new H,p=new H,m=this.isLineSegments?2:1,v=i.index,x=i.attributes.position;if(v!==null){const g=Math.max(0,o.start),A=Math.min(v.count,o.start+o.count);for(let S=g,M=A-1;S<M;S+=m){const T=v.getX(S),C=v.getX(S+1);if(c.fromBufferAttribute(x,T),d.fromBufferAttribute(x,C),S1.distanceSqToSegment(c,d,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const B=e.ray.origin.distanceTo(p);B<e.near||B>e.far||t.push({distance:B,point:h.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),A=Math.min(x.count,o.start+o.count);for(let S=g,M=A-1;S<M;S+=m){if(c.fromBufferAttribute(x,S),d.fromBufferAttribute(x,S+1),S1.distanceSqToSegment(c,d,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(p);C<e.near||C>e.far||t.push({distance:C,point:h.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const ER=new H,TR=new H;class hs extends Do{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)ER.fromBufferAttribute(t,r),TR.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+ER.distanceTo(TR);e.setAttribute("lineDistance",new Ze(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class MM extends Do{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Bv extends Un{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ze(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const CR=new ht,KA=new uc,Zm=new Gr,$m=new H;class EM extends Bt{constructor(e=new St,t=new Bv){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Zm.copy(i.boundingSphere),Zm.applyMatrix4(r),Zm.radius+=s,e.ray.intersectsSphere(Zm)===!1)return;CR.copy(r).invert(),KA.copy(e.ray).applyMatrix4(CR);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,h=i.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let v=p,_=m;v<_;v++){const x=c.getX(v);$m.fromBufferAttribute(h,x),bR($m,x,l,r,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let v=p,_=m;v<_;v++)$m.fromBufferAttribute(h,v),bR($m,v,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function bR(n,e,t,i,r,s,o){const a=KA.distanceSqToPoint(n);if(a<t){const l=new H;KA.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class dQ extends hn{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:cn,this.magFilter=s!==void 0?s:cn,this.generateMipmaps=!1;const d=this;function h(){d.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class fQ extends hn{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=An,this.minFilter=An,this.generateMipmaps=!1,this.needsUpdate=!0}}class Iv extends hn{constructor(e,t,i,r,s,o,a,l,c,d,h,p){super(null,o,a,l,c,d,r,s,h,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class hQ extends Iv{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=si}}class pQ extends Iv{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Io),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class mQ extends hn{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ps{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const d=i[r],p=i[r+1]-d,m=(o-d)/p;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new ge:new H);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new H,r=[],s=[],o=[],a=new H,l=new ht;for(let m=0;m<=e;m++){const v=m/e;r[m]=this.getTangentAt(v,new H)}s[0]=new H,o[0]=new H;let c=Number.MAX_VALUE;const d=Math.abs(r[0].x),h=Math.abs(r[0].y),p=Math.abs(r[0].z);d<=c&&(c=d,i.set(1,0,0)),h<=c&&(c=h,i.set(0,1,0)),p<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(Sn(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(Sn(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(r[v],m*v)),o[v].crossVectors(r[v],s[v])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Dv extends ps{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new ge,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*d-m*h+this.aX,c=p*h+m*d+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class LF extends Dv{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function TM(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,d,h){let p=(o-s)/c-(a-s)/(c+d)+(a-o)/d,m=(a-o)/d-(l-o)/(d+h)+(l-a)/h;p*=d,m*=d,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const eg=new H,w1=new TM,M1=new TM,E1=new TM;class BF extends ps{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new H){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,d;this.closed||a>0?c=r[(a-1)%s]:(eg.subVectors(r[0],r[1]).add(r[0]),c=eg);const h=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?d=r[(a+2)%s]:(eg.subVectors(r[s-1],r[s-2]).add(r[s-1]),d=eg),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(h),m),_=Math.pow(h.distanceToSquared(p),m),x=Math.pow(p.distanceToSquared(d),m);_<1e-4&&(_=1),v<1e-4&&(v=_),x<1e-4&&(x=_),w1.initNonuniformCatmullRom(c.x,h.x,p.x,d.x,v,_,x),M1.initNonuniformCatmullRom(c.y,h.y,p.y,d.y,v,_,x),E1.initNonuniformCatmullRom(c.z,h.z,p.z,d.z,v,_,x)}else this.curveType==="catmullrom"&&(w1.initCatmullRom(c.x,h.x,p.x,d.x,this.tension),M1.initCatmullRom(c.y,h.y,p.y,d.y,this.tension),E1.initCatmullRom(c.z,h.z,p.z,d.z,this.tension));return i.set(w1.calc(l),M1.calc(l),E1.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new H().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function RR(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function gQ(n,e){const t=1-n;return t*t*e}function vQ(n,e){return 2*(1-n)*n*e}function yQ(n,e){return n*n*e}function Uf(n,e,t,i){return gQ(n,e)+vQ(n,t)+yQ(n,i)}function xQ(n,e){const t=1-n;return t*t*t*e}function _Q(n,e){const t=1-n;return 3*t*t*n*e}function AQ(n,e){return 3*(1-n)*n*n*e}function SQ(n,e){return n*n*n*e}function zf(n,e,t,i,r){return xQ(n,e)+_Q(n,t)+AQ(n,i)+SQ(n,r)}class CM extends ps{constructor(e=new ge,t=new ge,i=new ge,r=new ge){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new ge){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(zf(e,r.x,s.x,o.x,a.x),zf(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class IF extends ps{constructor(e=new H,t=new H,i=new H,r=new H){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new H){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(zf(e,r.x,s.x,o.x,a.x),zf(e,r.y,s.y,o.y,a.y),zf(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class bM extends ps{constructor(e=new ge,t=new ge){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ge){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ge){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class DF extends ps{constructor(e=new H,t=new H){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new H){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new H){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class RM extends ps{constructor(e=new ge,t=new ge,i=new ge){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new ge){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Uf(e,r.x,s.x,o.x),Uf(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class PM extends ps{constructor(e=new H,t=new H,i=new H){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new H){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Uf(e,r.x,s.x,o.x),Uf(e,r.y,s.y,o.y),Uf(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class LM extends ps{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new ge){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],d=r[o>r.length-2?r.length-1:o+1],h=r[o>r.length-3?r.length-1:o+2];return i.set(RR(a,l.x,c.x,d.x,h.x),RR(a,l.y,c.y,d.y,h.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new ge().fromArray(r))}return this}}var I0=Object.freeze({__proto__:null,ArcCurve:LF,CatmullRomCurve3:BF,CubicBezierCurve:CM,CubicBezierCurve3:IF,EllipseCurve:Dv,LineCurve:bM,LineCurve3:DF,QuadraticBezierCurve:RM,QuadraticBezierCurve3:PM,SplineCurve:LM});class NF extends ps{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new I0[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const d=l[c];i&&i.equals(d)||(t.push(d),i=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new I0[r.type]().fromJSON(r))}return this}}class wh extends NF{constructor(e){super(),this.type="Path",this.currentPoint=new ge,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new bM(this.currentPoint.clone(),new ge(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new RM(this.currentPoint.clone(),new ge(e,t),new ge(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new CM(this.currentPoint.clone(),new ge(e,t),new ge(i,r),new ge(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new LM(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+c,t+d,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const c=new Dv(e,t,i,r,s,o,a,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const d=c.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Qh extends St{constructor(e=[new ge(0,-.5),new ge(.5,0),new ge(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Sn(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],d=1/t,h=new H,p=new ge,m=new H,v=new H,_=new H;let x=0,g=0;for(let A=0;A<=e.length-1;A++)switch(A){case 0:x=e[A+1].x-e[A].x,g=e[A+1].y-e[A].y,m.x=g*1,m.y=-x,m.z=g*0,_.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(_.x,_.y,_.z);break;default:x=e[A+1].x-e[A].x,g=e[A+1].y-e[A].y,m.x=g*1,m.y=-x,m.z=g*0,v.copy(m),m.x+=_.x,m.y+=_.y,m.z+=_.z,m.normalize(),l.push(m.x,m.y,m.z),_.copy(v)}for(let A=0;A<=t;A++){const S=i+A*d*r,M=Math.sin(S),T=Math.cos(S);for(let C=0;C<=e.length-1;C++){h.x=e[C].x*M,h.y=e[C].y,h.z=e[C].x*T,o.push(h.x,h.y,h.z),p.x=A/t,p.y=C/(e.length-1),a.push(p.x,p.y);const P=l[3*C+0]*M,B=l[3*C+1],R=l[3*C+0]*T;c.push(P,B,R)}}for(let A=0;A<t;A++)for(let S=0;S<e.length-1;S++){const M=S+A*e.length,T=M,C=M+e.length,P=M+e.length+1,B=M+1;s.push(T,C,B),s.push(P,B,C)}this.setIndex(s),this.setAttribute("position",new Ze(o,3)),this.setAttribute("uv",new Ze(a,2)),this.setAttribute("normal",new Ze(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Qh(e.points,e.segments,e.phiStart,e.phiLength)}}class Nv extends Qh{constructor(e=1,t=1,i=4,r=8){const s=new wh;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new Nv(e.radius,e.length,e.capSegments,e.radialSegments)}}class Fv extends St{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new H,d=new ge;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=t;h++,p+=3){const m=i+h/t*r;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),d.x=(o[p]/e+1)/2,d.y=(o[p+1]/e+1)/2,l.push(d.x,d.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new Ze(o,3)),this.setAttribute("normal",new Ze(a,3)),this.setAttribute("uv",new Ze(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fv(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class _d extends St{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const d=[],h=[],p=[],m=[];let v=0;const _=[],x=i/2;let g=0;A(),o===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(d),this.setAttribute("position",new Ze(h,3)),this.setAttribute("normal",new Ze(p,3)),this.setAttribute("uv",new Ze(m,2));function A(){const M=new H,T=new H;let C=0;const P=(t-e)/i;for(let B=0;B<=s;B++){const R=[],L=B/s,O=L*(t-e)+e;for(let G=0;G<=r;G++){const Q=G/r,F=Q*l+a,q=Math.sin(F),ee=Math.cos(F);T.x=O*q,T.y=-L*i+x,T.z=O*ee,h.push(T.x,T.y,T.z),M.set(q,P,ee).normalize(),p.push(M.x,M.y,M.z),m.push(Q,1-L),R.push(v++)}_.push(R)}for(let B=0;B<r;B++)for(let R=0;R<s;R++){const L=_[R][B],O=_[R+1][B],G=_[R+1][B+1],Q=_[R][B+1];d.push(L,O,Q),d.push(O,G,Q),C+=6}c.addGroup(g,C,0),g+=C}function S(M){const T=v,C=new ge,P=new H;let B=0;const R=M===!0?e:t,L=M===!0?1:-1;for(let G=1;G<=r;G++)h.push(0,x*L,0),p.push(0,L,0),m.push(.5,.5),v++;const O=v;for(let G=0;G<=r;G++){const F=G/r*l+a,q=Math.cos(F),ee=Math.sin(F);P.x=R*ee,P.y=x*L,P.z=R*q,h.push(P.x,P.y,P.z),p.push(0,L,0),C.x=q*.5+.5,C.y=ee*.5*L+.5,m.push(C.x,C.y),v++}for(let G=0;G<r;G++){const Q=T+G,F=O+G;M===!0?d.push(F,F+1,Q):d.push(F+1,F,Q),B+=3}c.addGroup(g,B,M===!0?1:2),g+=B}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _d(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ov extends _d{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Ov(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ka extends St{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),c(i),d(),this.setAttribute("position",new Ze(s,3)),this.setAttribute("normal",new Ze(s.slice(),3)),this.setAttribute("uv",new Ze(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(A){const S=new H,M=new H,T=new H;for(let C=0;C<t.length;C+=3)m(t[C+0],S),m(t[C+1],M),m(t[C+2],T),l(S,M,T,A)}function l(A,S,M,T){const C=T+1,P=[];for(let B=0;B<=C;B++){P[B]=[];const R=A.clone().lerp(M,B/C),L=S.clone().lerp(M,B/C),O=C-B;for(let G=0;G<=O;G++)G===0&&B===C?P[B][G]=R:P[B][G]=R.clone().lerp(L,G/O)}for(let B=0;B<C;B++)for(let R=0;R<2*(C-B)-1;R++){const L=Math.floor(R/2);R%2===0?(p(P[B][L+1]),p(P[B+1][L]),p(P[B][L])):(p(P[B][L+1]),p(P[B+1][L+1]),p(P[B+1][L]))}}function c(A){const S=new H;for(let M=0;M<s.length;M+=3)S.x=s[M+0],S.y=s[M+1],S.z=s[M+2],S.normalize().multiplyScalar(A),s[M+0]=S.x,s[M+1]=S.y,s[M+2]=S.z}function d(){const A=new H;for(let S=0;S<s.length;S+=3){A.x=s[S+0],A.y=s[S+1],A.z=s[S+2];const M=x(A)/2/Math.PI+.5,T=g(A)/Math.PI+.5;o.push(M,1-T)}v(),h()}function h(){for(let A=0;A<o.length;A+=6){const S=o[A+0],M=o[A+2],T=o[A+4],C=Math.max(S,M,T),P=Math.min(S,M,T);C>.9&&P<.1&&(S<.2&&(o[A+0]+=1),M<.2&&(o[A+2]+=1),T<.2&&(o[A+4]+=1))}}function p(A){s.push(A.x,A.y,A.z)}function m(A,S){const M=A*3;S.x=e[M+0],S.y=e[M+1],S.z=e[M+2]}function v(){const A=new H,S=new H,M=new H,T=new H,C=new ge,P=new ge,B=new ge;for(let R=0,L=0;R<s.length;R+=9,L+=6){A.set(s[R+0],s[R+1],s[R+2]),S.set(s[R+3],s[R+4],s[R+5]),M.set(s[R+6],s[R+7],s[R+8]),C.set(o[L+0],o[L+1]),P.set(o[L+2],o[L+3]),B.set(o[L+4],o[L+5]),T.copy(A).add(S).add(M).divideScalar(3);const O=x(T);_(C,L+0,A,O),_(P,L+2,S,O),_(B,L+4,M,O)}}function _(A,S,M,T){T<0&&A.x===1&&(o[S]=A.x-1),M.x===0&&M.z===0&&(o[S]=T/2/Math.PI+.5)}function x(A){return Math.atan2(A.z,-A.x)}function g(A){return Math.atan2(-A.y,Math.sqrt(A.x*A.x+A.z*A.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ka(e.vertices,e.indices,e.radius,e.details)}}class kv extends Ka{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new kv(e.radius,e.detail)}}const tg=new H,ng=new H,T1=new H,ig=new Vi;class FF extends St{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Vl*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],d=["a","b","c"],h=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){o?(c[0]=o.getX(v),c[1]=o.getX(v+1),c[2]=o.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:_,b:x,c:g}=ig;if(_.fromBufferAttribute(a,c[0]),x.fromBufferAttribute(a,c[1]),g.fromBufferAttribute(a,c[2]),ig.getNormal(T1),h[0]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,h[1]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,h[2]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let A=0;A<3;A++){const S=(A+1)%3,M=h[A],T=h[S],C=ig[d[A]],P=ig[d[S]],B=`${M}_${T}`,R=`${T}_${M}`;R in p&&p[R]?(T1.dot(p[R].normal)<=s&&(m.push(C.x,C.y,C.z),m.push(P.x,P.y,P.z)),p[R]=null):B in p||(p[B]={index0:c[A],index1:c[S],normal:T1.clone()})}}for(const v in p)if(p[v]){const{index0:_,index1:x}=p[v];tg.fromBufferAttribute(a,_),ng.fromBufferAttribute(a,x),m.push(tg.x,tg.y,tg.z),m.push(ng.x,ng.y,ng.z)}this.setAttribute("position",new Ze(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class jl extends wh{constructor(e){super(e),this.uuid=pr(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new wh().fromJSON(r))}return this}}const wQ={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=OF(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,d,h,p,m;if(i&&(s=bQ(n,e,s,t)),n.length>80*t){a=c=n[0],l=d=n[1];for(let v=t;v<r;v+=t)h=n[v],p=n[v+1],h<a&&(a=h),p<l&&(l=p),h>c&&(c=h),p>d&&(d=p);m=Math.max(c-a,d-l),m=m!==0?32767/m:0}return Mh(s,o,t,a,l,m,0),o}};function OF(n,e,t,i,r){let s,o;if(r===UQ(n,e,t,i)>0)for(s=e;s<t;s+=i)o=PR(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=PR(s,n[s],n[s+1],o);return o&&Uv(o,o.next)&&(Th(o),o=o.next),o}function ic(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(Uv(t,t.next)||dn(t.prev,t,t.next)===0)){if(Th(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Mh(n,e,t,i,r,s,o){if(!n)return;!o&&s&&IQ(n,i,r,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?EQ(n,i,r,s):MQ(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),Th(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=TQ(ic(n),e,t),Mh(n,e,t,i,r,s,2)):o===2&&CQ(n,e,t,i,r,s):Mh(ic(n),e,t,i,r,s,1);break}}}function MQ(n){const e=n.prev,t=n,i=n.next;if(dn(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,c=i.y,d=r<s?r<o?r:o:s<o?s:o,h=a<l?a<c?a:c:l<c?l:c,p=r>s?r>o?r:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let v=i.next;for(;v!==e;){if(v.x>=d&&v.x<=p&&v.y>=h&&v.y<=m&&Su(r,a,s,l,o,c,v.x,v.y)&&dn(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function EQ(n,e,t,i){const r=n.prev,s=n,o=n.next;if(dn(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,d=r.y,h=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,v=d<h?d<p?d:p:h<p?h:p,_=a>l?a>c?a:c:l>c?l:c,x=d>h?d>p?d:p:h>p?h:p,g=YA(m,v,e,t,i),A=YA(_,x,e,t,i);let S=n.prevZ,M=n.nextZ;for(;S&&S.z>=g&&M&&M.z<=A;){if(S.x>=m&&S.x<=_&&S.y>=v&&S.y<=x&&S!==r&&S!==o&&Su(a,d,l,h,c,p,S.x,S.y)&&dn(S.prev,S,S.next)>=0||(S=S.prevZ,M.x>=m&&M.x<=_&&M.y>=v&&M.y<=x&&M!==r&&M!==o&&Su(a,d,l,h,c,p,M.x,M.y)&&dn(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;S&&S.z>=g;){if(S.x>=m&&S.x<=_&&S.y>=v&&S.y<=x&&S!==r&&S!==o&&Su(a,d,l,h,c,p,S.x,S.y)&&dn(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;M&&M.z<=A;){if(M.x>=m&&M.x<=_&&M.y>=v&&M.y<=x&&M!==r&&M!==o&&Su(a,d,l,h,c,p,M.x,M.y)&&dn(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function TQ(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!Uv(r,s)&&kF(r,i,i.next,s)&&Eh(r,s)&&Eh(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),Th(i),Th(i.next),i=n=s),i=i.next}while(i!==n);return ic(i)}function CQ(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&FQ(o,a)){let l=UF(o,a);o=ic(o,o.next),l=ic(l,l.next),Mh(o,e,t,i,r,s,0),Mh(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function bQ(n,e,t,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,c=OF(n,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(NQ(c));for(r.sort(RQ),s=0;s<r.length;s++)t=PQ(r[s],t);return t}function RQ(n,e){return n.x-e.x}function PQ(n,e){const t=LQ(n,e);if(!t)return e;const i=UF(t,n);return ic(i,i.next),ic(t,t.next)}function LQ(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let d=1/0,h;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&Su(o<c?s:i,o,l,c,o<c?i:s,o,t.x,t.y)&&(h=Math.abs(o-t.y)/(s-t.x),Eh(t,n)&&(h<d||h===d&&(t.x>r.x||t.x===r.x&&BQ(r,t)))&&(r=t,d=h)),t=t.next;while(t!==a);return r}function BQ(n,e){return dn(n.prev,n,e.prev)<0&&dn(e.next,n,n.next)<0}function IQ(n,e,t,i){let r=n;do r.z===0&&(r.z=YA(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,DQ(r)}function DQ(n){let e,t,i,r,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,c*=2}while(o>1);return n}function YA(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function NQ(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Su(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function FQ(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!OQ(n,e)&&(Eh(n,e)&&Eh(e,n)&&kQ(n,e)&&(dn(n.prev,n,e.prev)||dn(n,e.prev,e))||Uv(n,e)&&dn(n.prev,n,n.next)>0&&dn(e.prev,e,e.next)>0)}function dn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Uv(n,e){return n.x===e.x&&n.y===e.y}function kF(n,e,t,i){const r=sg(dn(n,e,t)),s=sg(dn(n,e,i)),o=sg(dn(t,i,n)),a=sg(dn(t,i,e));return!!(r!==s&&o!==a||r===0&&rg(n,t,e)||s===0&&rg(n,i,e)||o===0&&rg(t,n,i)||a===0&&rg(t,e,i))}function rg(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function sg(n){return n>0?1:n<0?-1:0}function OQ(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&kF(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Eh(n,e){return dn(n.prev,n,n.next)<0?dn(n,e,n.next)>=0&&dn(n,n.prev,e)>=0:dn(n,e,n.prev)<0||dn(n,n.next,e)<0}function kQ(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function UF(n,e){const t=new QA(n.i,n.x,n.y),i=new QA(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function PR(n,e,t,i){const r=new QA(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Th(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function QA(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function UQ(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class zs{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return zs.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];LR(e),BR(i,e);let o=e.length;t.forEach(LR);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,BR(i,t[l]);const a=wQ.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function LR(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function BR(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class zv extends St{constructor(e=new jl([new ge(.5,.5),new ge(-.5,.5),new ge(-.5,-.5),new ge(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Ze(r,3)),this.setAttribute("uv",new Ze(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:m-.1,_=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,A=t.UVGenerator!==void 0?t.UVGenerator:zQ;let S,M=!1,T,C,P,B;g&&(S=g.getSpacedPoints(d),M=!0,p=!1,T=g.computeFrenetFrames(d,!1),C=new H,P=new H,B=new H),p||(x=0,m=0,v=0,_=0);const R=a.extractPoints(c);let L=R.shape;const O=R.holes;if(!zs.isClockWise(L)){L=L.reverse();for(let J=0,pe=O.length;J<pe;J++){const re=O[J];zs.isClockWise(re)&&(O[J]=re.reverse())}}const Q=zs.triangulateShape(L,O),F=L;for(let J=0,pe=O.length;J<pe;J++){const re=O[J];L=L.concat(re)}function q(J,pe,re){return pe||console.error("THREE.ExtrudeGeometry: vec does not exist"),J.clone().addScaledVector(pe,re)}const ee=L.length,$=Q.length;function I(J,pe,re){let _e,ye,Ye;const ke=J.x-pe.x,We=J.y-pe.y,at=re.x-J.x,wt=re.y-J.y,Kt=ke*ke+We*We,X=ke*wt-We*at;if(Math.abs(X)>Number.EPSILON){const N=Math.sqrt(Kt),oe=Math.sqrt(at*at+wt*wt),Re=pe.x-We/N,Se=pe.y+ke/N,Ce=re.x-wt/oe,qe=re.y+at/oe,Ie=((Ce-Re)*wt-(qe-Se)*at)/(ke*wt-We*at);_e=Re+ke*Ie-J.x,ye=Se+We*Ie-J.y;const Ue=_e*_e+ye*ye;if(Ue<=2)return new ge(_e,ye);Ye=Math.sqrt(Ue/2)}else{let N=!1;ke>Number.EPSILON?at>Number.EPSILON&&(N=!0):ke<-Number.EPSILON?at<-Number.EPSILON&&(N=!0):Math.sign(We)===Math.sign(wt)&&(N=!0),N?(_e=-We,ye=ke,Ye=Math.sqrt(Kt)):(_e=ke,ye=We,Ye=Math.sqrt(Kt/2))}return new ge(_e/Ye,ye/Ye)}const V=[];for(let J=0,pe=F.length,re=pe-1,_e=J+1;J<pe;J++,re++,_e++)re===pe&&(re=0),_e===pe&&(_e=0),V[J]=I(F[J],F[re],F[_e]);const W=[];let z,K=V.concat();for(let J=0,pe=O.length;J<pe;J++){const re=O[J];z=[];for(let _e=0,ye=re.length,Ye=ye-1,ke=_e+1;_e<ye;_e++,Ye++,ke++)Ye===ye&&(Ye=0),ke===ye&&(ke=0),z[_e]=I(re[_e],re[Ye],re[ke]);W.push(z),K=K.concat(z)}for(let J=0;J<x;J++){const pe=J/x,re=m*Math.cos(pe*Math.PI/2),_e=v*Math.sin(pe*Math.PI/2)+_;for(let ye=0,Ye=F.length;ye<Ye;ye++){const ke=q(F[ye],V[ye],_e);Be(ke.x,ke.y,-re)}for(let ye=0,Ye=O.length;ye<Ye;ye++){const ke=O[ye];z=W[ye];for(let We=0,at=ke.length;We<at;We++){const wt=q(ke[We],z[We],_e);Be(wt.x,wt.y,-re)}}}const ue=v+_;for(let J=0;J<ee;J++){const pe=p?q(L[J],K[J],ue):L[J];M?(P.copy(T.normals[0]).multiplyScalar(pe.x),C.copy(T.binormals[0]).multiplyScalar(pe.y),B.copy(S[0]).add(P).add(C),Be(B.x,B.y,B.z)):Be(pe.x,pe.y,0)}for(let J=1;J<=d;J++)for(let pe=0;pe<ee;pe++){const re=p?q(L[pe],K[pe],ue):L[pe];M?(P.copy(T.normals[J]).multiplyScalar(re.x),C.copy(T.binormals[J]).multiplyScalar(re.y),B.copy(S[J]).add(P).add(C),Be(B.x,B.y,B.z)):Be(re.x,re.y,h/d*J)}for(let J=x-1;J>=0;J--){const pe=J/x,re=m*Math.cos(pe*Math.PI/2),_e=v*Math.sin(pe*Math.PI/2)+_;for(let ye=0,Ye=F.length;ye<Ye;ye++){const ke=q(F[ye],V[ye],_e);Be(ke.x,ke.y,h+re)}for(let ye=0,Ye=O.length;ye<Ye;ye++){const ke=O[ye];z=W[ye];for(let We=0,at=ke.length;We<at;We++){const wt=q(ke[We],z[We],_e);M?Be(wt.x,wt.y+S[d-1].y,S[d-1].x+re):Be(wt.x,wt.y,h+re)}}}ve(),Ae();function ve(){const J=r.length/3;if(p){let pe=0,re=ee*pe;for(let _e=0;_e<$;_e++){const ye=Q[_e];Oe(ye[2]+re,ye[1]+re,ye[0]+re)}pe=d+x*2,re=ee*pe;for(let _e=0;_e<$;_e++){const ye=Q[_e];Oe(ye[0]+re,ye[1]+re,ye[2]+re)}}else{for(let pe=0;pe<$;pe++){const re=Q[pe];Oe(re[2],re[1],re[0])}for(let pe=0;pe<$;pe++){const re=Q[pe];Oe(re[0]+ee*d,re[1]+ee*d,re[2]+ee*d)}}i.addGroup(J,r.length/3-J,0)}function Ae(){const J=r.length/3;let pe=0;be(F,pe),pe+=F.length;for(let re=0,_e=O.length;re<_e;re++){const ye=O[re];be(ye,pe),pe+=ye.length}i.addGroup(J,r.length/3-J,1)}function be(J,pe){let re=J.length;for(;--re>=0;){const _e=re;let ye=re-1;ye<0&&(ye=J.length-1);for(let Ye=0,ke=d+x*2;Ye<ke;Ye++){const We=ee*Ye,at=ee*(Ye+1),wt=pe+_e+We,Kt=pe+ye+We,X=pe+ye+at,N=pe+_e+at;Je(wt,Kt,X,N)}}}function Be(J,pe,re){l.push(J),l.push(pe),l.push(re)}function Oe(J,pe,re){ot(J),ot(pe),ot(re);const _e=r.length/3,ye=A.generateTopUV(i,r,_e-3,_e-2,_e-1);He(ye[0]),He(ye[1]),He(ye[2])}function Je(J,pe,re,_e){ot(J),ot(pe),ot(_e),ot(pe),ot(re),ot(_e);const ye=r.length/3,Ye=A.generateSideWallUV(i,r,ye-6,ye-3,ye-2,ye-1);He(Ye[0]),He(Ye[1]),He(Ye[3]),He(Ye[1]),He(Ye[2]),He(Ye[3])}function ot(J){r.push(l[J*3+0]),r.push(l[J*3+1]),r.push(l[J*3+2])}function He(J){s.push(J.x),s.push(J.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return HQ(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new I0[r.type]().fromJSON(r)),new zv(i,e.options)}}const zQ={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],d=e[r*3+1];return[new ge(s,o),new ge(a,l),new ge(c,d)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[i*3],d=e[i*3+1],h=e[i*3+2],p=e[r*3],m=e[r*3+1],v=e[r*3+2],_=e[s*3],x=e[s*3+1],g=e[s*3+2];return Math.abs(a-d)<Math.abs(o-c)?[new ge(o,1-l),new ge(c,1-h),new ge(p,1-v),new ge(_,1-g)]:[new ge(a,1-l),new ge(d,1-h),new ge(m,1-v),new ge(x,1-g)]}};function HQ(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Hv extends Ka{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Hv(e.radius,e.detail)}}class qh extends Ka{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new qh(e.radius,e.detail)}}class Gv extends St{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],c=[],d=[];let h=e;const p=(t-e)/r,m=new H,v=new ge;for(let _=0;_<=r;_++){for(let x=0;x<=i;x++){const g=s+x/i*o;m.x=h*Math.cos(g),m.y=h*Math.sin(g),l.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,d.push(v.x,v.y)}h+=p}for(let _=0;_<r;_++){const x=_*(i+1);for(let g=0;g<i;g++){const A=g+x,S=A,M=A+i+1,T=A+i+2,C=A+1;a.push(S,M,C),a.push(M,T,C)}}this.setIndex(a),this.setAttribute("position",new Ze(l,3)),this.setAttribute("normal",new Ze(c,3)),this.setAttribute("uv",new Ze(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gv(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Vv extends St{constructor(e=new jl([new ge(0,.5),new ge(-.5,-.5),new ge(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let d=0;d<e.length;d++)c(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Ze(r,3)),this.setAttribute("normal",new Ze(s,3)),this.setAttribute("uv",new Ze(o,2));function c(d){const h=r.length/3,p=d.extractPoints(t);let m=p.shape;const v=p.holes;zs.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,g=v.length;x<g;x++){const A=v[x];zs.isClockWise(A)===!0&&(v[x]=A.reverse())}const _=zs.triangulateShape(m,v);for(let x=0,g=v.length;x<g;x++){const A=v[x];m=m.concat(A)}for(let x=0,g=m.length;x<g;x++){const A=m[x];r.push(A.x,A.y,0),s.push(0,0,1),o.push(A.x,A.y)}for(let x=0,g=_.length;x<g;x++){const A=_[x],S=A[0]+h,M=A[1]+h,T=A[2]+h;i.push(S,M,T),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return GQ(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new Vv(i,e.curveSegments)}}function GQ(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class Zh extends St{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const d=[],h=new H,p=new H,m=[],v=[],_=[],x=[];for(let g=0;g<=i;g++){const A=[],S=g/i;let M=0;g===0&&o===0?M=.5/t:g===i&&l===Math.PI&&(M=-.5/t);for(let T=0;T<=t;T++){const C=T/t;h.x=-e*Math.cos(r+C*s)*Math.sin(o+S*a),h.y=e*Math.cos(o+S*a),h.z=e*Math.sin(r+C*s)*Math.sin(o+S*a),v.push(h.x,h.y,h.z),p.copy(h).normalize(),_.push(p.x,p.y,p.z),x.push(C+M,1-S),A.push(c++)}d.push(A)}for(let g=0;g<i;g++)for(let A=0;A<t;A++){const S=d[g][A+1],M=d[g][A],T=d[g+1][A],C=d[g+1][A+1];(g!==0||o>0)&&m.push(S,M,C),(g!==i-1||l<Math.PI)&&m.push(M,T,C)}this.setIndex(m),this.setAttribute("position",new Ze(v,3)),this.setAttribute("normal",new Ze(_,3)),this.setAttribute("uv",new Ze(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zh(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Wv extends Ka{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Wv(e.radius,e.detail)}}class jv extends St{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],d=new H,h=new H,p=new H;for(let m=0;m<=i;m++)for(let v=0;v<=r;v++){const _=v/r*s,x=m/i*Math.PI*2;h.x=(e+t*Math.cos(x))*Math.cos(_),h.y=(e+t*Math.cos(x))*Math.sin(_),h.z=t*Math.sin(x),a.push(h.x,h.y,h.z),d.x=e*Math.cos(_),d.y=e*Math.sin(_),p.subVectors(h,d).normalize(),l.push(p.x,p.y,p.z),c.push(v/r),c.push(m/i)}for(let m=1;m<=i;m++)for(let v=1;v<=r;v++){const _=(r+1)*m+v-1,x=(r+1)*(m-1)+v-1,g=(r+1)*(m-1)+v,A=(r+1)*m+v;o.push(_,x,A),o.push(x,g,A)}this.setIndex(o),this.setAttribute("position",new Ze(a,3)),this.setAttribute("normal",new Ze(l,3)),this.setAttribute("uv",new Ze(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jv(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Xv extends St{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],c=[],d=[],h=new H,p=new H,m=new H,v=new H,_=new H,x=new H,g=new H;for(let S=0;S<=i;++S){const M=S/i*s*Math.PI*2;A(M,s,o,e,m),A(M+.01,s,o,e,v),x.subVectors(v,m),g.addVectors(v,m),_.crossVectors(x,g),g.crossVectors(_,x),_.normalize(),g.normalize();for(let T=0;T<=r;++T){const C=T/r*Math.PI*2,P=-t*Math.cos(C),B=t*Math.sin(C);h.x=m.x+(P*g.x+B*_.x),h.y=m.y+(P*g.y+B*_.y),h.z=m.z+(P*g.z+B*_.z),l.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),c.push(p.x,p.y,p.z),d.push(S/i),d.push(T/r)}}for(let S=1;S<=i;S++)for(let M=1;M<=r;M++){const T=(r+1)*(S-1)+(M-1),C=(r+1)*S+(M-1),P=(r+1)*S+M,B=(r+1)*(S-1)+M;a.push(T,C,B),a.push(C,P,B)}this.setIndex(a),this.setAttribute("position",new Ze(l,3)),this.setAttribute("normal",new Ze(c,3)),this.setAttribute("uv",new Ze(d,2));function A(S,M,T,C,P){const B=Math.cos(S),R=Math.sin(S),L=T/M*S,O=Math.cos(L);P.x=C*(2+O)*.5*B,P.y=C*(2+O)*R*.5,P.z=C*Math.sin(L)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xv(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Jv extends St{constructor(e=new PM(new H(-1,-1,0),new H(-1,1,0),new H(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new H,l=new H,c=new ge;let d=new H;const h=[],p=[],m=[],v=[];_(),this.setIndex(v),this.setAttribute("position",new Ze(h,3)),this.setAttribute("normal",new Ze(p,3)),this.setAttribute("uv",new Ze(m,2));function _(){for(let S=0;S<t;S++)x(S);x(s===!1?t:0),A(),g()}function x(S){d=e.getPointAt(S/t,d);const M=o.normals[S],T=o.binormals[S];for(let C=0;C<=r;C++){const P=C/r*Math.PI*2,B=Math.sin(P),R=-Math.cos(P);l.x=R*M.x+B*T.x,l.y=R*M.y+B*T.y,l.z=R*M.z+B*T.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=d.x+i*l.x,a.y=d.y+i*l.y,a.z=d.z+i*l.z,h.push(a.x,a.y,a.z)}}function g(){for(let S=1;S<=t;S++)for(let M=1;M<=r;M++){const T=(r+1)*(S-1)+(M-1),C=(r+1)*S+(M-1),P=(r+1)*S+M,B=(r+1)*(S-1)+M;v.push(T,C,B),v.push(C,P,B)}}function A(){for(let S=0;S<=t;S++)for(let M=0;M<=r;M++)c.x=S/t,c.y=M/r,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Jv(new I0[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class zF extends St{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new H,s=new H;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,d=l.length;c<d;++c){const h=l[c],p=h.start,m=h.count;for(let v=p,_=p+m;v<_;v+=3)for(let x=0;x<3;x++){const g=a.getX(v+x),A=a.getX(v+(x+1)%3);r.fromBufferAttribute(o,g),s.fromBufferAttribute(o,A),IR(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const d=3*a+c,h=3*a+(c+1)%3;r.fromBufferAttribute(o,d),s.fromBufferAttribute(o,h),IR(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ze(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function IR(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var DR=Object.freeze({__proto__:null,BoxGeometry:dc,CapsuleGeometry:Nv,CircleGeometry:Fv,ConeGeometry:Ov,CylinderGeometry:_d,DodecahedronGeometry:kv,EdgesGeometry:FF,ExtrudeGeometry:zv,IcosahedronGeometry:Hv,LatheGeometry:Qh,OctahedronGeometry:qh,PlaneGeometry:Jh,PolyhedronGeometry:Ka,RingGeometry:Gv,ShapeGeometry:Vv,SphereGeometry:Zh,TetrahedronGeometry:Wv,TorusGeometry:jv,TorusKnotGeometry:Xv,TubeGeometry:Jv,WireframeGeometry:zF});class HF extends Un{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ze(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class GF extends Xs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class $h extends Un{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ze(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ja,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Vr extends $h{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ge(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Sn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ze(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ze(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ze(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class VF extends Un{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ze(16777215),this.specular=new ze(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ja,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Gh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class WF extends Un{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ze(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ja,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class jF extends Un{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ja,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class XF extends Un{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ze(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ja,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Gh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class JF extends Un{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ze(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ja,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class KF extends wi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Bl(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function YF(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function QF(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function qA(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function BM(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function VQ(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],d=c.getValueSize(),h=[],p=[];for(let m=0;m<c.times.length;++m){const v=c.times[m]*r;if(!(v<t||v>=i)){h.push(c.times[m]);for(let _=0;_<d;++_)p.push(c.values[m*d+_])}}h.length!==0&&(c.times=Bl(h,c.times.constructor),c.values=Bl(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function WQ(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let d=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let _;if(s<=a.times[0]){const g=d,A=h-d;_=a.values.slice(g,A)}else if(s>=a.times[v]){const g=v*h+d,A=g+h-d;_=a.values.slice(g,A)}else{const g=a.createInterpolant(),A=d,S=h-d;g.evaluate(s),_=g.resultBuffer.slice(A,S)}l==="quaternion"&&new $n().fromArray(_).normalize().conjugate().toArray(_);const x=c.times.length;for(let g=0;g<x;++g){const A=g*m+p;if(l==="quaternion")$n.multiplyQuaternionsFlat(c.values,A,_,0,c.values,A);else{const S=m-p*2;for(let M=0;M<S;++M)c.values[A+M]-=_[M]}}}return n.blendMode=lM,n}const jQ={convertArray:Bl,isTypedArray:YF,getKeyframeOrder:QF,sortedArray:qA,flattenJSON:BM,subclip:VQ,makeClipAdditive:WQ};class Ad{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class qF extends Ad{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Rl,endingEnd:Rl}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Pl:s=e,a=2*t-i;break;case gh:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Pl:o=e,l=2*i-t;break;case gh:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=(i-t)*.5,d=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(i-t)/(r-t),_=v*v,x=_*v,g=-p*x+2*p*_-p*v,A=(1+p)*x+(-1.5-2*p)*_+(-.5+p)*v+1,S=(-1-m)*x+(1.5+m)*_+.5*v,M=m*x-m*_;for(let T=0;T!==a;++T)s[T]=g*o[d+T]+A*o[c+T]+S*o[l+T]+M*o[h+T];return s}}class IM extends Ad{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=(i-t)/(r-t),h=1-d;for(let p=0;p!==a;++p)s[p]=o[c+p]*h+o[l+p]*d;return s}}class ZF extends Ad{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class ms{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Bl(t,this.TimeBufferType),this.values=Bl(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Bl(e.times,Array),values:Bl(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new ZF(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new IM(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new qF(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case od:t=this.InterpolantFactoryMethodDiscrete;break;case tc:t=this.InterpolantFactoryMethodLinear;break;case Hg:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return od;case this.InterpolantFactoryMethodLinear:return tc;case this.InterpolantFactoryMethodSmooth:return Hg}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&YF(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===Hg,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],d=e[a+1];if(c!==d&&(a!==1||c!==e[0]))if(r)l=!0;else{const h=a*i,p=h-i,m=h+i;for(let v=0;v!==i;++v){const _=t[h+v];if(_!==t[p+v]||_!==t[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*i,p=o*i;for(let m=0;m!==i;++m)t[p+m]=t[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}ms.prototype.TimeBufferType=Float32Array;ms.prototype.ValueBufferType=Float32Array;ms.prototype.DefaultInterpolation=tc;class fc extends ms{}fc.prototype.ValueTypeName="bool";fc.prototype.ValueBufferType=Array;fc.prototype.DefaultInterpolation=od;fc.prototype.InterpolantFactoryMethodLinear=void 0;fc.prototype.InterpolantFactoryMethodSmooth=void 0;class DM extends ms{}DM.prototype.ValueTypeName="color";class rc extends ms{}rc.prototype.ValueTypeName="number";class $F extends Ad{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let d=c+a;c!==d;c+=4)$n.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Ga extends ms{InterpolantFactoryMethodLinear(e){return new $F(this.times,this.values,this.getValueSize(),e)}}Ga.prototype.ValueTypeName="quaternion";Ga.prototype.DefaultInterpolation=tc;Ga.prototype.InterpolantFactoryMethodSmooth=void 0;class hc extends ms{}hc.prototype.ValueTypeName="string";hc.prototype.ValueBufferType=Array;hc.prototype.DefaultInterpolation=od;hc.prototype.InterpolantFactoryMethodLinear=void 0;hc.prototype.InterpolantFactoryMethodSmooth=void 0;class sc extends ms{}sc.prototype.ValueTypeName="vector";class cd{constructor(e,t=-1,i,r=Mv){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=pr(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(JQ(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(ms.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const d=QF(l);l=qA(l,1,d),c=qA(c,1,d),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new rc(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],d=c.name.match(s);if(d&&d.length>1){const h=d[1];let p=r[h];p||(r[h]=p=[]),p.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(h,p,m,v,_){if(m.length!==0){const x=[],g=[];BM(m,x,g,v),x.length!==0&&_.push(new h(p,x,g))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const p=c[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let _=0;_<p[v].morphTargets.length;_++)m[p[v].morphTargets[_]]=-1;for(const _ in m){const x=[],g=[];for(let A=0;A!==p[v].morphTargets.length;++A){const S=p[v];x.push(S.time),g.push(S.morphTarget===_?1:0)}r.push(new rc(".morphTargetInfluence["+_+"]",x,g))}l=m.length*o}else{const m=".bones["+t[h].name+"]";i(sc,m+".position",p,"pos",r),i(Ga,m+".quaternion",p,"rot",r),i(sc,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function XQ(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return rc;case"vector":case"vector2":case"vector3":case"vector4":return sc;case"color":return DM;case"quaternion":return Ga;case"bool":case"boolean":return fc;case"string":return hc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function JQ(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=XQ(n.type);if(n.times===void 0){const t=[],i=[];BM(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const oc={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class NM{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(d){a++,s===!1&&r.onStart!==void 0&&r.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,r.onProgress!==void 0&&r.onProgress(d,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(d){r.onError!==void 0&&r.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,h){return c.push(d,h),this},this.removeHandler=function(d){const h=c.indexOf(d);return h!==-1&&c.splice(h,2),this},this.getHandler=function(d){for(let h=0,p=c.length;h<p;h+=2){const m=c[h],v=c[h+1];if(m.global&&(m.lastIndex=0),m.test(d))return v}return null}}}const eO=new NM;class Mi{constructor(e){this.manager=e!==void 0?e:eO,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Mi.DEFAULT_MATERIAL_NAME="__DEFAULT";const ao={};class KQ extends Error{constructor(e,t){super(e),this.response=t}}class vr extends Mi{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=oc.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(ao[e]!==void 0){ao[e].push({onLoad:t,onProgress:i,onError:r});return}ao[e]=[],ao[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const d=ao[e],h=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=p?parseInt(p):0,v=m!==0;let _=0;const x=new ReadableStream({start(g){A();function A(){h.read().then(({done:S,value:M})=>{if(S)g.close();else{_+=M.byteLength;const T=new ProgressEvent("progress",{lengthComputable:v,loaded:_,total:m});for(let C=0,P=d.length;C<P;C++){const B=d[C];B.onProgress&&B.onProgress(T)}g.enqueue(M),A()}})}}});return new Response(x)}else throw new KQ(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return c.json();default:if(a===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(v=>m.decode(v))}}}).then(c=>{oc.add(e,c);const d=ao[e];delete ao[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onLoad&&m.onLoad(c)}}).catch(c=>{const d=ao[e];if(d===void 0)throw this.manager.itemError(e),c;delete ao[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class YQ extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new vr(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=cd.parse(e[i]);t.push(r)}return t}}class QQ extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new Iv,l=new vr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function d(h){l.load(e[h],function(p){const m=s.parse(p,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=cn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)d(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let _=0;_<p.mipmapCount;_++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+_]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=cn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class Ch extends Mi{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=oc.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Sh("img");function l(){d(),oc.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(h){d(),r&&r(h),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class qQ extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=new Xh;s.colorSpace=Fn;const o=new Ch(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(d){s.images[c]=d,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class ZQ extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Du,a=new vr(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(d){if(r!==void 0)r(d);else{console.error(d);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:si,o.wrapT=c.wrapT!==void 0?c.wrapT:si,o.magFilter=c.magFilter!==void 0?c.magFilter:cn,o.minFilter=c.minFilter!==void 0?c.minFilter:cn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Ws),c.mipmapCount===1&&(o.minFilter=cn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c)},i,r),o}}class tO extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=new hn,o=new Ch(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class Ya extends Bt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ze(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class nO extends Ya{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Bt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ze(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const C1=new ht,NR=new H,FR=new H;class FM{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ge(512,512),this.map=null,this.mapPass=null,this.matrix=new ht,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Cv,this._frameExtents=new ge(1,1),this._viewportCount=1,this._viewports=[new jt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;NR.setFromMatrixPosition(e.matrixWorld),t.position.copy(NR),FR.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(FR),t.updateMatrixWorld(),C1.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(C1),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(C1)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class $Q extends FM{constructor(){super(new wn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=ad*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class OM extends Ya{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Bt.DEFAULT_UP),this.updateMatrix(),this.target=new Bt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new $Q}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const OR=new ht,df=new H,b1=new H;class eq extends FM{constructor(){super(new wn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ge(4,2),this._viewportCount=6,this._viewports=[new jt(2,1,1,1),new jt(0,1,1,1),new jt(3,1,1,1),new jt(1,1,1,1),new jt(3,0,1,1),new jt(1,0,1,1)],this._cubeDirections=[new H(1,0,0),new H(-1,0,0),new H(0,0,1),new H(0,0,-1),new H(0,1,0),new H(0,-1,0)],this._cubeUps=[new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,0,1),new H(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),df.setFromMatrixPosition(e.matrixWorld),i.position.copy(df),b1.copy(i.position),b1.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(b1),i.updateMatrixWorld(),r.makeTranslation(-df.x,-df.y,-df.z),OR.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(OR)}}class kM extends Ya{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new eq}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class tq extends FM{constructor(){super(new Mo(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class UM extends Ya{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Bt.DEFAULT_UP),this.updateMatrix(),this.target=new Bt,this.shadow=new tq}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class iO extends Ya{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class rO extends Ya{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class sO{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new H)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class oO extends Ya{constructor(e=new sO,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Kv extends Mi{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new vr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=Kv.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new ze().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new ze().setHex(o.value);break;case"v2":r.uniforms[s].value=new ge().fromArray(o.value);break;case"v3":r.uniforms[s].value=new H().fromArray(o.value);break;case"v4":r.uniforms[s].value=new jt().fromArray(o.value);break;case"m3":r.uniforms[s].value=new Ct().fromArray(o.value);break;case"m4":r.uniforms[s].value=new ht().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new ge().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new ge().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:HF,SpriteMaterial:AM,RawShaderMaterial:GF,ShaderMaterial:Xs,PointsMaterial:Bv,MeshPhysicalMaterial:Vr,MeshStandardMaterial:$h,MeshPhongMaterial:VF,MeshToonMaterial:WF,MeshNormalMaterial:jF,MeshLambertMaterial:XF,MeshDepthMaterial:vM,MeshDistanceMaterial:yM,MeshBasicMaterial:dr,MeshMatcapMaterial:JF,LineDashedMaterial:KF,LineBasicMaterial:wi,Material:Un};return new t[e]}}class La{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class aO extends St{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class lO extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new vr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,v){if(t[v]!==void 0)return t[v];const x=m.interleavedBuffers[v],g=s(m,x.buffer),A=_u(x.type,g),S=new Kh(A,x.stride);return S.uuid=x.uuid,t[v]=S,S}function s(m,v){if(i[v]!==void 0)return i[v];const x=m.arrayBuffers[v],g=new Uint32Array(x).buffer;return i[v]=g,g}const o=e.isInstancedBufferGeometry?new aO:new St,a=e.data.index;if(a!==void 0){const m=_u(a.type,a.array);o.setIndex(new Ht(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let _;if(v.isInterleavedBufferAttribute){const x=r(e.data,v.data);_=new Ha(x,v.itemSize,v.offset,v.normalized)}else{const x=_u(v.type,v.array),g=v.isInstancedBufferAttribute?nc:Ht;_=new g(x,v.itemSize,v.normalized)}v.name!==void 0&&(_.name=v.name),v.usage!==void 0&&_.setUsage(v.usage),v.updateRange!==void 0&&(_.updateRange.offset=v.updateRange.offset,_.updateRange.count=v.updateRange.count),o.setAttribute(m,_)}const c=e.data.morphAttributes;if(c)for(const m in c){const v=c[m],_=[];for(let x=0,g=v.length;x<g;x++){const A=v[x];let S;if(A.isInterleavedBufferAttribute){const M=r(e.data,A.data);S=new Ha(M,A.itemSize,A.offset,A.normalized)}else{const M=_u(A.type,A.array);S=new Ht(M,A.itemSize,A.normalized)}A.name!==void 0&&(S.name=A.name),_.push(S)}o.morphAttributes[m]=_}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,v=h.length;m!==v;++m){const _=h[m];o.addGroup(_.start,_.count,_.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new H;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new Gr(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class nq extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?La.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new vr(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){r!==void 0&&r(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const d=c.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?La.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new vr(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,i),d=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,d),t!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new jl().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Yh().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new lO;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in DR?a=DR[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new Kv;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=cd.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(d)}else return l.data?{data:_u(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new NM(t);s=new Ch(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,d=e.length;c<d;c++){const h=e[c],p=h.url;if(Array.isArray(p)){const m=[];for(let v=0,_=p.length;v<_;v++){const x=p[v],g=a(x);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new Du(g.data,g.width,g.height)))}r[h.uuid]=new Ll(m)}else{const m=a(h.url);r[h.uuid]=new Ll(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:_u(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new Ch(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const d=[];for(let h=0,p=c.length;h<p;h++){const m=c[h],v=await s(m);v!==null&&(v instanceof HTMLImageElement?d.push(v):d.push(new Du(v.data,v.width,v.height)))}i[l.uuid]=new Ll(d)}else{const d=await s(l.url);i[l.uuid]=new Ll(d)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let d;Array.isArray(c)?(d=new Xh,c.length===6&&(d.needsUpdate=!0)):(c&&c.data?d=new Du:d=new hn,c&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=i(a.mapping,iq)),a.channel!==void 0&&(d.channel=a.channel),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=i(a.wrap[0],kR),d.wrapT=i(a.wrap[1],kR)),a.format!==void 0&&(d.format=a.format),a.internalFormat!==void 0&&(d.internalFormat=a.internalFormat),a.type!==void 0&&(d.type=a.type),a.colorSpace!==void 0&&(d.colorSpace=a.colorSpace),a.encoding!==void 0&&(d.encoding=a.encoding),a.minFilter!==void 0&&(d.minFilter=i(a.minFilter,UR)),a.magFilter!==void 0&&(d.magFilter=i(a.magFilter,UR)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.generateMipmaps!==void 0&&(d.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(d.compareFunction=a.compareFunction),a.userData!==void 0&&(d.userData=a.userData),r[a.uuid]=d}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,_=p.length;v<_;v++){const x=p[v];i[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(i[x])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function c(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let d,h;switch(e.type){case"Scene":o=new _M,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new ze(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Pv(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Rv(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new wn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Mo(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new iO(e.color,e.intensity);break;case"DirectionalLight":o=new UM(e.color,e.intensity);break;case"PointLight":o=new kM(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new rO(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new OM(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new nO(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new oO().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),h=l(e.material),o=new SM(d,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),h=l(e.material),o=new qn(d,h);break;case"InstancedMesh":d=a(e.geometry),h=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new wM(d,h,p),o.instanceMatrix=new nc(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new nc(new Float32Array(v.array),v.itemSize));break;case"LOD":o=new PF;break;case"Line":o=new Do(a(e.geometry),l(e.material));break;case"LineLoop":o=new MM(a(e.geometry),l(e.material));break;case"LineSegments":o=new hs(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new EM(a(e.geometry),l(e.material));break;case"Sprite":o=new RF(l(e.material));break;case"Group":o=new xo;break;case"Bone":o=new Lv;break;default:o=new Bt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],_=o.getObjectByProperty("uuid",v.object);_!==void 0&&o.addLevel(_,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const iq={UVMapping:Av,CubeReflectionMapping:Io,CubeRefractionMapping:Ua,EquirectangularReflectionMapping:hh,EquirectangularRefractionMapping:ph,CubeUVReflectionMapping:yd},kR={RepeatWrapping:za,ClampToEdgeWrapping:si,MirroredRepeatWrapping:rd},UR={NearestFilter:An,NearestMipmapNearestFilter:mh,NearestMipmapLinearFilter:Bu,LinearFilter:cn,LinearMipmapNearestFilter:Sv,LinearMipmapLinearFilter:Ws};class cO extends Mi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=oc.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){oc.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let og;class zM{static getContext(){return og===void 0&&(og=new(window.AudioContext||window.webkitAudioContext)),og}static setContext(e){og=e}}class rq extends Mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new vr(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);zM.getContext().decodeAudioData(c,function(h){t(h)},a)}catch(c){a(c)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}const zR=new ht,HR=new ht,ul=new ht;class sq{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new wn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new wn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,ul.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(Vl*t.fov*.5)/t.zoom;let a,l;HR.elements[12]=-r,zR.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,ul.elements[0]=2*t.near/(l-a),ul.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(ul),a=-o*t.aspect-s,l=o*t.aspect-s,ul.elements[0]=2*t.near/(l-a),ul.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(ul)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(HR),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(zR)}}class HM{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=GR(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=GR();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function GR(){return(typeof performance>"u"?Date:performance).now()}const dl=new H,VR=new $n,oq=new H,fl=new H;class aq extends Bt{constructor(){super(),this.type="AudioListener",this.context=zM.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new HM}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(dl,VR,oq),fl.set(0,0,-1).applyQuaternion(VR),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(dl.x,r),t.positionY.linearRampToValueAtTime(dl.y,r),t.positionZ.linearRampToValueAtTime(dl.z,r),t.forwardX.linearRampToValueAtTime(fl.x,r),t.forwardY.linearRampToValueAtTime(fl.y,r),t.forwardZ.linearRampToValueAtTime(fl.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(dl.x,dl.y,dl.z),t.setOrientation(fl.x,fl.y,fl.z,i.x,i.y,i.z)}}class uO extends Bt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const hl=new H,WR=new $n,lq=new H,pl=new H;class cq extends uO{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(hl,WR,lq),pl.set(0,0,1).applyQuaternion(WR);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(hl.x,i),t.positionY.linearRampToValueAtTime(hl.y,i),t.positionZ.linearRampToValueAtTime(hl.z,i),t.orientationX.linearRampToValueAtTime(pl.x,i),t.orientationY.linearRampToValueAtTime(pl.y,i),t.orientationZ.linearRampToValueAtTime(pl.z,i)}else t.setPosition(hl.x,hl.y,hl.z),t.setOrientation(pl.x,pl.y,pl.z)}}class uq{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class dO{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){$n.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;$n.multiplyQuaternionsFlat(e,o,e,t,e,i),$n.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const GM="\\[\\]\\.:\\/",dq=new RegExp("["+GM+"]","g"),VM="[^"+GM+"]",fq="[^"+GM.replace("\\.","")+"]",hq=/((?:WC+[\/:])*)/.source.replace("WC",VM),pq=/(WCOD+)?/.source.replace("WCOD",fq),mq=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",VM),gq=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",VM),vq=new RegExp("^"+hq+pq+mq+gq+"$"),yq=["material","materials","bones","map"];class xq{constructor(e,t,i){const r=i||Nt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Nt{constructor(e,t,i){this.path=t,this.parsedPath=i||Nt.parseTrackName(t),this.node=Nt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Nt.Composite(e,t,i):new Nt(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(dq,"")}static parseTrackName(e){const t=vq.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);yq.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Nt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===c){c=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Nt.Composite=xq;Nt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Nt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Nt.prototype.GetterByBindingType=[Nt.prototype._getValue_direct,Nt.prototype._getValue_array,Nt.prototype._getValue_arrayElement,Nt.prototype._getValue_toArray];Nt.prototype.SetterByBindingTypeAndVersioning=[[Nt.prototype._setValue_direct,Nt.prototype._setValue_direct_setNeedsUpdate,Nt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Nt.prototype._setValue_array,Nt.prototype._setValue_array_setNeedsUpdate,Nt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Nt.prototype._setValue_arrayElement,Nt.prototype._setValue_arrayElement_setNeedsUpdate,Nt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Nt.prototype._setValue_fromArray,Nt.prototype._setValue_fromArray_setNeedsUpdate,Nt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class _q{constructor(){this.isAnimationObjectGroup=!0,this.uuid=pr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let d=0,h=arguments.length;d!==h;++d){const p=arguments[d],m=p.uuid;let v=t[m];if(v===void 0){v=l++,t[m]=v,e.push(p);for(let _=0,x=o;_!==x;++_)s[_].push(new Nt(p,i[_],r[_]))}else if(v<c){a=e[v];const _=--c,x=e[_];t[x.uuid]=v,e[v]=x,t[m]=_,e[_]=p;for(let g=0,A=o;g!==A;++g){const S=s[g],M=S[_];let T=S[v];S[v]=M,T===void 0&&(T=new Nt(p,i[g],r[g])),S[_]=T}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,d=t[c];if(d!==void 0&&d>=s){const h=s++,p=e[h];t[p.uuid]=d,e[d]=p,t[c]=h,e[h]=l;for(let m=0,v=r;m!==v;++m){const _=i[m],x=_[h],g=_[d];_[d]=x,_[h]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],d=c.uuid,h=t[d];if(h!==void 0)if(delete t[d],h<s){const p=--s,m=e[p],v=--o,_=e[v];t[m.uuid]=h,e[h]=m,t[_.uuid]=p,e[p]=_,e.pop();for(let x=0,g=r;x!==g;++x){const A=i[x],S=A[p],M=A[v];A[h]=S,A[p]=M,A.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=h),e[h]=m,e.pop();for(let v=0,_=r;v!==_;++v){const x=i[v];x[h]=x[p],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,d=this.nCachedObjects_,h=new Array(c);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(h);for(let p=d,m=l.length;p!==m;++p){const v=l[p];h[p]=new Nt(v,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class fO{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Rl,endingEnd:Rl};for(let c=0;c!==o;++c){const d=s[c].createInterpolant(null);a[c]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=aM,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case lM:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),c[d].accumulateAdditive(a);break;case Mv:default:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),c[d].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===QN;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===YN){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Pl,r.endingEnd=Pl):(e?r.endingStart=this.zeroSlopeAtStart?Pl:Rl:r.endingStart=gh,t?r.endingEnd=this.zeroSlopeAtEnd?Pl:Rl:r.endingEnd=gh)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const Aq=new Float32Array(1);class hO extends Fo{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let d=c[l];d===void 0&&(d={},c[l]=d);for(let h=0;h!==s;++h){const p=r[h],m=p.name;let v=d[m];if(v!==void 0)++v.referenceCount,o[h]=v;else{if(v=o[h],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const _=t&&t._propertyBindings[h].binding.parsedPath;v=new dO(Nt.create(i,m,_),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[h]=v}a[h].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],d=e._byClipCacheIndex;c._byClipCacheIndex=d,l[d]=c,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new IM(new Float32Array(2),new Float32Array(2),1,Aq),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?cd.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=Mv),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===i)return h;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const d=new fO(this,o,t,i);return this._bindAction(d,c),this._addInactiveAction(d,a,s),d}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?cd.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const d=c._cacheIndex,h=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=d,t[d]=h,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class WM{constructor(e){this.value=e}clone(){return new WM(this.value.clone===void 0?this.value:this.value.clone())}}let Sq=0;class wq extends Fo{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Sq++}),this.name="",this.usage=_h,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++)this.uniforms.push(t[i].clone());return this}clone(){return new this.constructor().copy(this)}}class Mq extends Kh{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Eq{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class pO{constructor(e,t,i=0,r=1/0){this.ray=new uc(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Wl,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return ZA(e,this,i,t),i.sort(jR),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)ZA(e[r],this,i,t);return i.sort(jR),i}}function jR(n,e){return n.distance-e.distance}function ZA(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)ZA(r[s],e,t,!0)}}class $A{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Sn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Tq{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const XR=new ge;class Cq{constructor(e=new ge(1/0,1/0),t=new ge(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=XR.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,XR).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const JR=new H,ag=new H;class bq{constructor(e=new H,t=new H){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){JR.subVectors(e,this.start),ag.subVectors(this.end,this.start);const i=ag.dot(ag);let s=ag.dot(JR)/i;return t&&(s=Sn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const KR=new H;class Rq extends Bt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new St,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,d=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(d),Math.sin(d),1)}i.setAttribute("position",new Ze(r,3));const s=new wi({fog:!1,toneMapped:!1});this.cone=new hs(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),KR.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(KR),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ea=new H,lg=new ht,R1=new ht;class Pq extends hs{constructor(e){const t=mO(e),i=new St,r=[],s=[],o=new ze(0,0,1),a=new ze(0,1,0);for(let c=0;c<t.length;c++){const d=t[c];d.parent&&d.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Ze(r,3)),i.setAttribute("color",new Ze(s,3));const l=new wi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");R1.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(lg.multiplyMatrices(R1,a.matrixWorld),ea.setFromMatrixPosition(lg),r.setXYZ(o,ea.x,ea.y,ea.z),lg.multiplyMatrices(R1,a.parent.matrixWorld),ea.setFromMatrixPosition(lg),r.setXYZ(o+1,ea.x,ea.y,ea.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function mO(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,mO(n.children[t]));return e}class Lq extends qn{constructor(e,t,i){const r=new Zh(t,4,2),s=new dr({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Bq=new H,YR=new ze,QR=new ze;class Iq extends Bt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new qh(t);r.rotateY(Math.PI*.5),this.material=new dr({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Ht(o,3)),this.add(new qn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");YR.copy(this.light.color),QR.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?YR:QR;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Bq.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Dq extends hs{constructor(e=10,t=10,i=4473924,r=8947848){i=new ze(i),r=new ze(r);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,m=0,v=-a;p<=t;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const _=p===s?i:r;_.toArray(c,m),m+=3,_.toArray(c,m),m+=3,_.toArray(c,m),m+=3,_.toArray(c,m),m+=3}const d=new St;d.setAttribute("position",new Ze(l,3)),d.setAttribute("color",new Ze(c,3));const h=new wi({vertexColors:!0,toneMapped:!1});super(d,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Nq extends hs{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new ze(s),o=new ze(o);const a=[],l=[];if(t>1)for(let h=0;h<t;h++){const p=h/t*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const _=h&1?s:o;l.push(_.r,_.g,_.b),l.push(_.r,_.g,_.b)}for(let h=0;h<i;h++){const p=h&1?s:o,m=e-e/i*h;for(let v=0;v<r;v++){let _=v/r*(Math.PI*2),x=Math.sin(_)*m,g=Math.cos(_)*m;a.push(x,0,g),l.push(p.r,p.g,p.b),_=(v+1)/r*(Math.PI*2),x=Math.sin(_)*m,g=Math.cos(_)*m,a.push(x,0,g),l.push(p.r,p.g,p.b)}}const c=new St;c.setAttribute("position",new Ze(a,3)),c.setAttribute("color",new Ze(l,3));const d=new wi({vertexColors:!0,toneMapped:!1});super(c,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const qR=new H,cg=new H,ZR=new H;class Fq extends Bt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new St;r.setAttribute("position",new Ze([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new wi({fog:!1,toneMapped:!1});this.lightPlane=new Do(r,s),this.add(this.lightPlane),r=new St,r.setAttribute("position",new Ze([0,0,0,0,0,1],3)),this.targetLine=new Do(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),qR.setFromMatrixPosition(this.light.matrixWorld),cg.setFromMatrixPosition(this.light.target.matrixWorld),ZR.subVectors(cg,qR),this.lightPlane.lookAt(cg),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(cg),this.targetLine.scale.z=ZR.length()}}const ug=new H,vn=new jh;class Oq extends hs{constructor(e){const t=new St,i=new wi({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,_){l(v),l(_)}function l(v){r.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(r.length/3-1)}t.setAttribute("position",new Ze(r,3)),t.setAttribute("color",new Ze(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new ze(16755200),d=new ze(16711680),h=new ze(43775),p=new ze(16777215),m=new ze(3355443);this.setColors(c,d,h,p,m)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;vn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Tn("c",t,e,vn,0,0,-1),Tn("t",t,e,vn,0,0,1),Tn("n1",t,e,vn,-i,-r,-1),Tn("n2",t,e,vn,i,-r,-1),Tn("n3",t,e,vn,-i,r,-1),Tn("n4",t,e,vn,i,r,-1),Tn("f1",t,e,vn,-i,-r,1),Tn("f2",t,e,vn,i,-r,1),Tn("f3",t,e,vn,-i,r,1),Tn("f4",t,e,vn,i,r,1),Tn("u1",t,e,vn,i*.7,r*1.1,-1),Tn("u2",t,e,vn,-i*.7,r*1.1,-1),Tn("u3",t,e,vn,0,r*2,-1),Tn("cf1",t,e,vn,-i,0,1),Tn("cf2",t,e,vn,i,0,1),Tn("cf3",t,e,vn,0,-r,1),Tn("cf4",t,e,vn,0,r,1),Tn("cn1",t,e,vn,-i,0,-1),Tn("cn2",t,e,vn,i,0,-1),Tn("cn3",t,e,vn,0,-r,-1),Tn("cn4",t,e,vn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Tn(n,e,t,i,r,s,o){ug.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,d=a.length;c<d;c++)l.setXYZ(a[c],ug.x,ug.y,ug.z)}}const dg=new fs;class kq extends hs{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new St;s.setIndex(new Ht(i,1)),s.setAttribute("position",new Ht(r,3)),super(s,new wi({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&dg.setFromObject(this.object),dg.isEmpty())return;const t=dg.min,i=dg.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Uq extends hs{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new St;s.setIndex(new Ht(i,1)),s.setAttribute("position",new Ze(r,3)),super(s,new wi({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class zq extends Do{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new St;o.setAttribute("position",new Ze(s,3)),o.computeBoundingSphere(),super(o,new wi({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new St;l.setAttribute("position",new Ze(a,3)),l.computeBoundingSphere(),this.add(new qn(l,new dr({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const $R=new H;let fg,P1;class Hq extends Bt{constructor(e=new H(0,0,1),t=new H(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",fg===void 0&&(fg=new St,fg.setAttribute("position",new Ze([0,0,0,0,1,0],3)),P1=new _d(0,.5,1,5,1),P1.translate(0,-.5,0)),this.position.copy(t),this.line=new Do(fg,new wi({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new qn(P1,new dr({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{$R.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle($R,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Gq extends hs{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new St;r.setAttribute("position",new Ze(t,3)),r.setAttribute("color",new Ze(i,3));const s=new wi({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new ze,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Vq{constructor(){this.type="ShapePath",this.color=new ze,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new wh,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(g){const A=[];for(let S=0,M=g.length;S<M;S++){const T=g[S],C=new jl;C.curves=T.curves,A.push(C)}return A}function i(g,A){const S=A.length;let M=!1;for(let T=S-1,C=0;C<S;T=C++){let P=A[T],B=A[C],R=B.x-P.x,L=B.y-P.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(P=A[C],R=-R,B=A[T],L=-L),g.y<P.y||g.y>B.y)continue;if(g.y===P.y){if(g.x===P.x)return!0}else{const O=L*(g.x-P.x)-R*(g.y-P.y);if(O===0)return!0;if(O<0)continue;M=!M}}else{if(g.y!==P.y)continue;if(B.x<=g.x&&g.x<=P.x||P.x<=g.x&&g.x<=B.x)return!0}}return M}const r=zs.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new jl,l.curves=a.curves,c.push(l),c;let d=!r(s[0].getPoints());d=e?!d:d;const h=[],p=[];let m=[],v=0,_;p[v]=void 0,m[v]=[];for(let g=0,A=s.length;g<A;g++)a=s[g],_=a.getPoints(),o=r(_),o=e?!o:o,o?(!d&&p[v]&&v++,p[v]={s:new jl,p:_},p[v].s.curves=a.curves,d&&v++,m[v]=[]):m[v].push({h:a,p:_[0]});if(!p[0])return t(s);if(p.length>1){let g=!1,A=0;for(let S=0,M=p.length;S<M;S++)h[S]=[];for(let S=0,M=p.length;S<M;S++){const T=m[S];for(let C=0;C<T.length;C++){const P=T[C];let B=!0;for(let R=0;R<p.length;R++)i(P.p,p[R].p)&&(S!==R&&A++,B?(B=!1,h[R].push(P)):g=!0);B&&h[S].push(P)}}A>0&&g===!1&&(m=h)}let x;for(let g=0,A=p.length;g<A;g++){l=p[g].s,c.push(l),x=m[g];for(let S=0,M=x.length;S<M;S++)l.holes.push(x[S].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Hh}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Hh);const Wq=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:eM,AddEquation:ca,AddOperation:DN,AdditiveAnimationBlendMode:lM,AdditiveBlending:fA,AlphaFormat:GN,AlwaysCompare:lF,AlwaysDepth:CN,AlwaysStencilFunc:VA,AmbientLight:iO,AnimationAction:fO,AnimationClip:cd,AnimationLoader:YQ,AnimationMixer:hO,AnimationObjectGroup:_q,AnimationUtils:jQ,ArcCurve:LF,ArrayCamera:EF,ArrowHelper:Hq,AttachedBindMode:vA,Audio:uO,AudioAnalyser:uq,AudioContext:zM,AudioListener:aq,AudioLoader:rq,AxesHelper:Gq,BackSide:Ni,BasicDepthPacking:ZN,BasicShadowMap:cN,Bone:Lv,BooleanKeyframeTrack:fc,Box2:Cq,Box3:fs,Box3Helper:Uq,BoxGeometry:dc,BoxHelper:kq,BufferAttribute:Ht,BufferGeometry:St,BufferGeometryLoader:lO,ByteType:zN,Cache:oc,Camera:jh,CameraHelper:Oq,CanvasTexture:mQ,CapsuleGeometry:Nv,CatmullRomCurve3:BF,CineonToneMapping:ON,CircleGeometry:Fv,ClampToEdgeWrapping:si,Clock:HM,Color:ze,ColorKeyframeTrack:DM,ColorManagement:Wt,CompressedArrayTexture:hQ,CompressedCubeTexture:pQ,CompressedTexture:Iv,CompressedTextureLoader:QQ,ConeGeometry:Ov,ConstantAlphaFactor:MN,ConstantColorFactor:SN,CubeCamera:vF,CubeReflectionMapping:Io,CubeRefractionMapping:Ua,CubeTexture:Xh,CubeTextureLoader:qQ,CubeUVReflectionMapping:yd,CubicBezierCurve:CM,CubicBezierCurve3:IF,CubicInterpolant:qF,CullFaceBack:dA,CullFaceFront:lN,CullFaceFrontBack:m7,CullFaceNone:aN,Curve:ps,CurvePath:NF,CustomBlending:uN,CustomToneMapping:kN,CylinderGeometry:_d,Cylindrical:Tq,Data3DTexture:hM,DataArrayTexture:Tv,DataTexture:Du,DataTextureLoader:ZQ,DataUtils:_j,DecrementStencilOp:M7,DecrementWrapStencilOp:T7,DefaultLoadingManager:eO,DepthFormat:Ra,DepthStencilFormat:ec,DepthTexture:TF,DetachedBindMode:UN,DirectionalLight:UM,DirectionalLightHelper:Fq,DiscreteInterpolant:ZF,DisplayP3ColorSpace:Ev,DodecahedronGeometry:kv,DoubleSide:rs,DstAlphaFactor:vN,DstColorFactor:xN,DynamicCopyUsage:H7,DynamicDrawUsage:N7,DynamicReadUsage:k7,EdgesGeometry:FF,EllipseCurve:Dv,EqualCompare:iF,EqualDepth:RN,EqualStencilFunc:P7,EquirectangularReflectionMapping:hh,EquirectangularRefractionMapping:ph,Euler:Wh,EventDispatcher:Fo,ExtrudeGeometry:zv,FileLoader:vr,Float16BufferAttribute:Tj,Float32BufferAttribute:Ze,Float64BufferAttribute:Cj,FloatType:Ls,Fog:Pv,FogExp2:Rv,FramebufferTexture:fQ,FrontSide:Vs,Frustum:Cv,GLBufferAttribute:Eq,GLSL1:V7,GLSL3:WA,GreaterCompare:sF,GreaterDepth:LN,GreaterEqualCompare:aF,GreaterEqualDepth:PN,GreaterEqualStencilFunc:D7,GreaterStencilFunc:B7,GridHelper:Dq,Group:xo,HalfFloatType:sd,HemisphereLight:nO,HemisphereLightHelper:Iq,IcosahedronGeometry:Hv,ImageBitmapLoader:cO,ImageLoader:Ch,ImageUtils:fM,IncrementStencilOp:w7,IncrementWrapStencilOp:E7,InstancedBufferAttribute:nc,InstancedBufferGeometry:aO,InstancedInterleavedBuffer:Mq,InstancedMesh:wM,Int16BufferAttribute:Mj,Int32BufferAttribute:Ej,Int8BufferAttribute:Aj,IntType:tM,InterleavedBuffer:Kh,InterleavedBufferAttribute:Ha,Interpolant:Ad,InterpolateDiscrete:od,InterpolateLinear:tc,InterpolateSmooth:Hg,InvertStencilOp:C7,KeepStencilOp:Sl,KeyframeTrack:ms,LOD:PF,LatheGeometry:Qh,Layers:Wl,LessCompare:nF,LessDepth:bN,LessEqualCompare:rF,LessEqualDepth:fh,LessEqualStencilFunc:L7,LessStencilFunc:R7,Light:Ya,LightProbe:oO,Line:Do,Line3:bq,LineBasicMaterial:wi,LineCurve:bM,LineCurve3:DF,LineDashedMaterial:KF,LineLoop:MM,LineSegments:hs,LinearDisplayP3ColorSpace:Vh,LinearEncoding:uM,LinearFilter:cn,LinearInterpolant:IM,LinearMipMapLinearFilter:_7,LinearMipMapNearestFilter:x7,LinearMipmapLinearFilter:Ws,LinearMipmapNearestFilter:Sv,LinearSRGBColorSpace:js,LinearToneMapping:NN,LinearTransfer:vh,Loader:Mi,LoaderUtils:La,LoadingManager:NM,LoopOnce:YN,LoopPingPong:QN,LoopRepeat:aM,LuminanceAlphaFormat:WN,LuminanceFormat:VN,MOUSE:_l,Material:Un,MaterialLoader:Kv,MathUtils:uF,Matrix3:Ct,Matrix4:ht,MaxEquation:gA,Mesh:qn,MeshBasicMaterial:dr,MeshDepthMaterial:vM,MeshDistanceMaterial:yM,MeshLambertMaterial:XF,MeshMatcapMaterial:JF,MeshNormalMaterial:jF,MeshPhongMaterial:VF,MeshPhysicalMaterial:Vr,MeshStandardMaterial:$h,MeshToonMaterial:WF,MinEquation:mA,MirroredRepeatWrapping:rd,MixOperation:IN,MultiplyBlending:pA,MultiplyOperation:Gh,NearestFilter:An,NearestMipMapLinearFilter:y7,NearestMipMapNearestFilter:v7,NearestMipmapLinearFilter:Bu,NearestMipmapNearestFilter:mh,NeverCompare:tF,NeverDepth:TN,NeverStencilFunc:b7,NoBlending:wo,NoColorSpace:cr,NoToneMapping:ks,NormalAnimationBlendMode:Mv,NormalBlending:Gl,NotEqualCompare:oF,NotEqualDepth:BN,NotEqualStencilFunc:I7,NumberKeyframeTrack:rc,Object3D:Bt,ObjectLoader:nq,ObjectSpaceNormalMap:eF,OctahedronGeometry:qh,OneFactor:pN,OneMinusConstantAlphaFactor:EN,OneMinusConstantColorFactor:wN,OneMinusDstAlphaFactor:yN,OneMinusDstColorFactor:_N,OneMinusSrcAlphaFactor:R0,OneMinusSrcColorFactor:gN,OrthographicCamera:Mo,P3Primaries:xh,PCFShadowMap:_v,PCFSoftShadowMap:Ff,PMREMGenerator:XA,Path:wh,PerspectiveCamera:wn,Plane:ho,PlaneGeometry:Jh,PlaneHelper:zq,PointLight:kM,PointLightHelper:Lq,Points:EM,PointsMaterial:Bv,PolarGridHelper:Nq,PolyhedronGeometry:Ka,PositionalAudio:cq,PropertyBinding:Nt,PropertyMixer:dO,QuadraticBezierCurve:RM,QuadraticBezierCurve3:PM,Quaternion:$n,QuaternionKeyframeTrack:Ga,QuaternionLinearInterpolant:$F,RED_GREEN_RGTC2_Format:HA,RED_RGTC1_Format:KN,REVISION:Hh,RGBADepthPacking:$N,RGBAFormat:Wi,RGBAIntegerFormat:oM,RGBA_ASTC_10x10_Format:NA,RGBA_ASTC_10x5_Format:BA,RGBA_ASTC_10x6_Format:IA,RGBA_ASTC_10x8_Format:DA,RGBA_ASTC_12x10_Format:FA,RGBA_ASTC_12x12_Format:OA,RGBA_ASTC_4x4_Format:MA,RGBA_ASTC_5x4_Format:EA,RGBA_ASTC_5x5_Format:TA,RGBA_ASTC_6x5_Format:CA,RGBA_ASTC_6x6_Format:bA,RGBA_ASTC_8x5_Format:RA,RGBA_ASTC_8x6_Format:PA,RGBA_ASTC_8x8_Format:LA,RGBA_BPTC_Format:zg,RGBA_ETC2_EAC_Format:wA,RGBA_PVRTC_2BPPV1_Format:AA,RGBA_PVRTC_4BPPV1_Format:_A,RGBA_S3TC_DXT1_Format:Og,RGBA_S3TC_DXT3_Format:kg,RGBA_S3TC_DXT5_Format:Ug,RGB_BPTC_SIGNED_Format:kA,RGB_BPTC_UNSIGNED_Format:UA,RGB_ETC1_Format:JN,RGB_ETC2_Format:SA,RGB_PVRTC_2BPPV1_Format:xA,RGB_PVRTC_4BPPV1_Format:yA,RGB_S3TC_DXT1_Format:Fg,RGFormat:XN,RGIntegerFormat:sM,RawShaderMaterial:GF,Ray:uc,Raycaster:pO,Rec709Primaries:yh,RectAreaLight:rO,RedFormat:jN,RedIntegerFormat:rM,ReinhardToneMapping:FN,RenderTarget:hF,RepeatWrapping:za,ReplaceStencilOp:S7,ReverseSubtractEquation:fN,RingGeometry:Gv,SIGNED_RED_GREEN_RGTC2_Format:GA,SIGNED_RED_RGTC1_Format:zA,SRGBColorSpace:Fn,SRGBTransfer:Qt,Scene:_M,ShaderChunk:_t,ShaderLib:is,ShaderMaterial:Xs,ShadowMaterial:HF,Shape:jl,ShapeGeometry:Vv,ShapePath:Vq,ShapeUtils:zs,ShortType:HN,Skeleton:Yh,SkeletonHelper:Pq,SkinnedMesh:SM,Source:Ll,Sphere:Gr,SphereGeometry:Zh,Spherical:$A,SphericalHarmonics3:sO,SplineCurve:LM,SpotLight:OM,SpotLightHelper:Rq,Sprite:RF,SpriteMaterial:AM,SrcAlphaFactor:b0,SrcAlphaSaturateFactor:AN,SrcColorFactor:mN,StaticCopyUsage:z7,StaticDrawUsage:_h,StaticReadUsage:O7,StereoCamera:sq,StreamCopyUsage:G7,StreamDrawUsage:F7,StreamReadUsage:U7,StringKeyframeTrack:hc,SubtractEquation:dN,SubtractiveBlending:hA,TOUCH:Al,TangentSpaceNormalMap:Ja,TetrahedronGeometry:Wv,Texture:hn,TextureLoader:tO,TorusGeometry:jv,TorusKnotGeometry:Xv,Triangle:Vi,TriangleFanDrawMode:P0,TriangleStripDrawMode:cM,TrianglesDrawMode:qN,TubeGeometry:Jv,TwoPassDoubleSide:g7,UVMapping:Av,Uint16BufferAttribute:pM,Uint32BufferAttribute:mM,Uint8BufferAttribute:Sj,Uint8ClampedBufferAttribute:wj,Uniform:WM,UniformsGroup:wq,UniformsLib:Fe,UniformsUtils:gF,UnsignedByteType:Us,UnsignedInt248Type:ba,UnsignedIntType:yo,UnsignedShort4444Type:nM,UnsignedShort5551Type:iM,UnsignedShortType:wv,VSMShadowMap:$r,Vector2:ge,Vector3:H,Vector4:jt,VectorKeyframeTrack:sc,VideoTexture:dQ,WebGL1Renderer:CF,WebGL3DRenderTarget:lj,WebGLArrayRenderTarget:aj,WebGLCoordinateSystem:Bs,WebGLCubeRenderTarget:yF,WebGLMultipleRenderTargets:cj,WebGLRenderTarget:ds,WebGLRenderer:xM,WebGLUtils:MF,WebGPUCoordinateSystem:Ah,WireframeGeometry:zF,WrapAroundEnding:gh,ZeroCurvatureEnding:Rl,ZeroFactor:hN,ZeroSlopeEnding:Pl,ZeroStencilOp:A7,_SRGBAFormat:L0,createCanvasElement:fF,sRGBEncoding:Pa},Symbol.toStringTag,{value:"Module"}));var gO={exports:{}},pc={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */pc.ConcurrentRoot=1;pc.ContinuousEventPriority=4;pc.DefaultEventPriority=16;pc.DiscreteEventPriority=1;pc.IdleEventPriority=536870912;pc.LegacyRoot=0;gO.exports=pc;var wu=gO.exports;function jq(n){let e;const t=new Set,i=(c,d)=>{const h=typeof c=="function"?c(e):c;if(h!==e){const p=e;e=d?h:Object.assign({},e,h),t.forEach(m=>m(e,p))}},r=()=>e,s=(c,d=r,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=d(e);function m(){const v=d(e);if(!h(p,v)){const _=p;c(p=v,_)}}return t.add(m),()=>t.delete(m)},l={setState:i,getState:r,subscribe:(c,d,h)=>d||h?s(c,d,h):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(i,r,l),l}const Xq=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),eP=Xq?D.useEffect:D.useLayoutEffect;function Jq(n){const e=typeof n=="function"?jq(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=D.useReducer(x=>x+1,0),o=e.getState(),a=D.useRef(o),l=D.useRef(i),c=D.useRef(r),d=D.useRef(!1),h=D.useRef();h.current===void 0&&(h.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||c.current!==r||d.current)&&(p=i(o),m=!r(h.current,p)),eP(()=>{m&&(h.current=p),a.current=o,l.current=i,c.current=r,d.current=!1});const v=D.useRef(o);eP(()=>{const x=()=>{try{const A=e.getState(),S=l.current(A);c.current(h.current,S)||(a.current=A,h.current=S,s())}catch{d.current=!0,s()}},g=e.subscribe(x);return e.getState()!==v.current&&x(),g},[]);const _=m?p:h.current;return D.useDebugValue(_),_};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}const Kq=n=>typeof n=="object"&&typeof n.then=="function",Il=[];function vO(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function yO(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const s of Il)if(vO(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=Il.indexOf(r);s!==-1&&Il.splice(s,1)},promise:(Kq(n)?n:n(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(Il.push(r),!t)throw r.promise}const Yq=(n,e,t)=>yO(n,e,!1,t),Qq=(n,e,t)=>void yO(n,e,!0,t),qq=n=>{if(n===void 0||n.length===0)Il.splice(0,Il.length);else{const e=Il.find(t=>vO(n,t.keys,t.equal));e&&e.remove()}};var xO={exports:{}},L1={exports:{}},B1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tP;function Zq(){return tP||(tP=1,function(n){function e(I,V){var W=I.length;I.push(V);e:for(;0<W;){var z=W-1>>>1,K=I[z];if(0<r(K,V))I[z]=V,I[W]=K,W=z;else break e}}function t(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var V=I[0],W=I.pop();if(W!==V){I[0]=W;e:for(var z=0,K=I.length,ue=K>>>1;z<ue;){var ve=2*(z+1)-1,Ae=I[ve],be=ve+1,Be=I[be];if(0>r(Ae,W))be<K&&0>r(Be,Ae)?(I[z]=Be,I[be]=W,z=be):(I[z]=Ae,I[ve]=W,z=ve);else if(be<K&&0>r(Be,W))I[z]=Be,I[be]=W,z=be;else break e}}return V}function r(I,V){var W=I.sortIndex-V.sortIndex;return W!==0?W:I.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,m=!1,v=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(I){for(var V=t(c);V!==null;){if(V.callback===null)i(c);else if(V.startTime<=I)i(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=t(c)}}function M(I){if(_=!1,S(I),!v)if(t(l)!==null)v=!0,ee(T);else{var V=t(c);V!==null&&$(M,V.startTime-I)}}function T(I,V){v=!1,_&&(_=!1,g(B),B=-1),m=!0;var W=p;try{for(S(V),h=t(l);h!==null&&(!(h.expirationTime>V)||I&&!O());){var z=h.callback;if(typeof z=="function"){h.callback=null,p=h.priorityLevel;var K=z(h.expirationTime<=V);V=n.unstable_now(),typeof K=="function"?h.callback=K:h===t(l)&&i(l),S(V)}else i(l);h=t(l)}if(h!==null)var ue=!0;else{var ve=t(c);ve!==null&&$(M,ve.startTime-V),ue=!1}return ue}finally{h=null,p=W,m=!1}}var C=!1,P=null,B=-1,R=5,L=-1;function O(){return!(n.unstable_now()-L<R)}function G(){if(P!==null){var I=n.unstable_now();L=I;var V=!0;try{V=P(!0,I)}finally{V?Q():(C=!1,P=null)}}else C=!1}var Q;if(typeof A=="function")Q=function(){A(G)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,q=F.port2;F.port1.onmessage=G,Q=function(){q.postMessage(null)}}else Q=function(){x(G,0)};function ee(I){P=I,C||(C=!0,Q())}function $(I,V){B=x(function(){I(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,ee(T))},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(I){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var W=p;p=V;try{return I()}finally{p=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(I,V){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var W=p;p=I;try{return V()}finally{p=W}},n.unstable_scheduleCallback=function(I,V,W){var z=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?z+W:z):W=z,I){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=W+K,I={id:d++,callback:V,priorityLevel:I,startTime:W,expirationTime:K,sortIndex:-1},W>z?(I.sortIndex=W,e(c,I),t(l)===null&&I===t(c)&&(_?(g(B),B=-1):_=!0,$(M,W-z))):(I.sortIndex=K,e(l,I),v||m||(v=!0,ee(T))),I},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(I){var V=p;return function(){var W=p;p=V;try{return I.apply(this,arguments)}finally{p=W}}}}(B1)),B1}var nP;function $q(){return nP||(nP=1,L1.exports=Zq()),L1.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eZ=function(e){var t={},i=D,r=$q(),s=Object.assign;function o(u){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+u,y=1;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),T=Symbol.iterator;function C(u){return u===null||typeof u!="object"?null:(u=T&&u[T]||u["@@iterator"],typeof u=="function"?u:null)}function P(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case d:return"Fragment";case c:return"Portal";case p:return"Profiler";case h:return"StrictMode";case x:return"Suspense";case g:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case v:return(u.displayName||"Context")+".Consumer";case m:return(u._context.displayName||"Context")+".Provider";case _:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case A:return f=u.displayName||null,f!==null?f:P(u.type)||"Memo";case S:f=u._payload,u=u._init;try{return P(u(f))}catch{}}return null}function B(u){var f=u.type;switch(u.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=f.render,u=u.displayName||u.name||"",f.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(f);case 8:return f===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function R(u){var f=u,y=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,f.flags&4098&&(y=f.return),u=f.return;while(u)}return f.tag===3?y:null}function L(u){if(R(u)!==u)throw Error(o(188))}function O(u){var f=u.alternate;if(!f){if(f=R(u),f===null)throw Error(o(188));return f!==u?null:u}for(var y=u,w=f;;){var E=y.return;if(E===null)break;var b=E.alternate;if(b===null){if(w=E.return,w!==null){y=w;continue}break}if(E.child===b.child){for(b=E.child;b;){if(b===y)return L(E),u;if(b===w)return L(E),f;b=b.sibling}throw Error(o(188))}if(y.return!==w.return)y=E,w=b;else{for(var j=!1,te=E.child;te;){if(te===y){j=!0,y=E,w=b;break}if(te===w){j=!0,w=E,y=b;break}te=te.sibling}if(!j){for(te=b.child;te;){if(te===y){j=!0,y=b,w=E;break}if(te===w){j=!0,w=b,y=E;break}te=te.sibling}if(!j)throw Error(o(189))}}if(y.alternate!==w)throw Error(o(190))}if(y.tag!==3)throw Error(o(188));return y.stateNode.current===y?u:f}function G(u){return u=O(u),u!==null?Q(u):null}function Q(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var f=Q(u);if(f!==null)return f;u=u.sibling}return null}function F(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){if(u.tag!==4){var f=F(u);if(f!==null)return f}u=u.sibling}return null}var q=Array.isArray,ee=e.getPublicInstance,$=e.getRootHostContext,I=e.getChildHostContext,V=e.prepareForCommit,W=e.resetAfterCommit,z=e.createInstance,K=e.appendInitialChild,ue=e.finalizeInitialChildren,ve=e.prepareUpdate,Ae=e.shouldSetTextContent,be=e.createTextInstance,Be=e.scheduleTimeout,Oe=e.cancelTimeout,Je=e.noTimeout,ot=e.isPrimaryRenderer,He=e.supportsMutation,J=e.supportsPersistence,pe=e.supportsHydration,re=e.getInstanceFromNode,_e=e.preparePortalMount,ye=e.getCurrentEventPriority,Ye=e.detachDeletedInstance,ke=e.supportsMicrotasks,We=e.scheduleMicrotask,at=e.supportsTestSelectors,wt=e.findFiberRoot,Kt=e.getBoundingRect,X=e.getTextContent,N=e.isHiddenSubtree,oe=e.matchAccessibilityRole,Re=e.setFocusIfFocusable,Se=e.setupIntersectionObserver,Ce=e.appendChild,qe=e.appendChildToContainer,Ie=e.commitTextUpdate,Ue=e.commitMount,ut=e.commitUpdate,It=e.insertBefore,Pe=e.insertInContainerBefore,Dt=e.removeChild,Y=e.removeChildFromContainer,he=e.resetTextContent,Me=e.hideInstance,we=e.hideTextInstance,it=e.unhideInstance,Z=e.unhideTextInstance,Ne=e.clearContainer,De=e.cloneInstance,me=e.createContainerChildSet,Ee=e.appendChildToContainerChildSet,$e=e.finalizeContainerChildren,Mt=e.replaceContainerChildren,Vt=e.cloneHiddenInstance,Mn=e.cloneHiddenTextInstance,Ft=e.canHydrateInstance,ei=e.canHydrateTextInstance,_r=e.canHydrateSuspenseInstance,wd=e.isSuspenseInstancePending,Md=e.isSuspenseInstanceFallback,mc=e.registerSuspenseInstanceRetry,Oo=e.getNextHydratableSibling,gc=e.getFirstHydratableChild,np=e.getFirstHydratableChildWithinContainer,ip=e.getFirstHydratableChildWithinSuspenseInstance,Yv=e.hydrateInstance,Qv=e.hydrateTextInstance,qv=e.hydrateSuspenseInstance,k=e.getNextHydratableInstanceAfterSuspenseInstance,ie=e.commitHydratedContainer,ae=e.commitHydratedSuspenseInstance,ce=e.clearSuspenseBoundary,de=e.clearSuspenseBoundaryFromContainer,je=e.shouldDeleteUnhydratedTailInstances,tt=e.didNotMatchHydratedContainerTextInstance,lt=e.didNotMatchHydratedTextInstance,dt;function mt(u){if(dt===void 0)try{throw Error()}catch(y){var f=y.stack.trim().match(/\n( *(at )?)/);dt=f&&f[1]||""}return`
`+dt+u}var pt=!1;function gt(u,f){if(!u||pt)return"";pt=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Le){var w=Le}Reflect.construct(u,[],f)}else{try{f.call()}catch(Le){w=Le}u.call(f.prototype)}else{try{throw Error()}catch(Le){w=Le}u()}}catch(Le){if(Le&&w&&typeof Le.stack=="string"){for(var E=Le.stack.split(`
`),b=w.stack.split(`
`),j=E.length-1,te=b.length-1;1<=j&&0<=te&&E[j]!==b[te];)te--;for(;1<=j&&0<=te;j--,te--)if(E[j]!==b[te]){if(j!==1||te!==1)do if(j--,te--,0>te||E[j]!==b[te]){var fe=`
`+E[j].replace(" at new "," at ");return u.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",u.displayName)),fe}while(1<=j&&0<=te);break}}}finally{pt=!1,Error.prepareStackTrace=y}return(u=u?u.displayName||u.name:"")?mt(u):""}var on=Object.prototype.hasOwnProperty,ti=[],$t=-1;function Gn(u){return{current:u}}function ft(u){0>$t||(u.current=ti[$t],ti[$t]=null,$t--)}function Qe(u,f){$t++,ti[$t]=u.current,u.current=f}var Ar={},Rt=Gn(Ar),mn=Gn(!1),gs=Ar;function Sr(u,f){var y=u.type.contextTypes;if(!y)return Ar;var w=u.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===f)return w.__reactInternalMemoizedMaskedChildContext;var E={},b;for(b in y)E[b]=f[b];return w&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=f,u.__reactInternalMemoizedMaskedChildContext=E),E}function Vn(u){return u=u.childContextTypes,u!=null}function Rn(){ft(mn),ft(Rt)}function vs(u,f,y){if(Rt.current!==Ar)throw Error(o(168));Qe(Rt,f),Qe(mn,y)}function vc(u,f,y){var w=u.stateNode;if(f=f.childContextTypes,typeof w.getChildContext!="function")return y;w=w.getChildContext();for(var E in w)if(!(E in f))throw Error(o(108,B(u)||"Unknown",E));return s({},y,w)}function Wn(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Ar,gs=Rt.current,Qe(Rt,u),Qe(mn,mn.current),!0}function yc(u,f,y){var w=u.stateNode;if(!w)throw Error(o(169));y?(u=vc(u,f,gs),w.__reactInternalMemoizedMergedChildContext=u,ft(mn),ft(Rt),Qe(Rt,u)):ft(mn),Qe(mn,y)}var $i=Math.clz32?Math.clz32:YO,rp=Math.log,KO=Math.LN2;function YO(u){return u>>>=0,u===0?32:31-(rp(u)/KO|0)|0}var sp=64,op=4194304;function Ed(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function ap(u,f){var y=u.pendingLanes;if(y===0)return 0;var w=0,E=u.suspendedLanes,b=u.pingedLanes,j=y&268435455;if(j!==0){var te=j&~E;te!==0?w=Ed(te):(b&=j,b!==0&&(w=Ed(b)))}else j=y&~E,j!==0?w=Ed(j):b!==0&&(w=Ed(b));if(w===0)return 0;if(f!==0&&f!==w&&!(f&E)&&(E=w&-w,b=f&-f,E>=b||E===16&&(b&4194240)!==0))return f;if(w&4&&(w|=y&16),f=u.entangledLanes,f!==0)for(u=u.entanglements,f&=w;0<f;)y=31-$i(f),E=1<<y,w|=u[y],f&=~E;return w}function QO(u,f){switch(u){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qO(u,f){for(var y=u.suspendedLanes,w=u.pingedLanes,E=u.expirationTimes,b=u.pendingLanes;0<b;){var j=31-$i(b),te=1<<j,fe=E[j];fe===-1?(!(te&y)||te&w)&&(E[j]=QO(te,f)):fe<=f&&(u.expiredLanes|=te),b&=~te}}function Zv(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function $v(u){for(var f=[],y=0;31>y;y++)f.push(u);return f}function Td(u,f,y){u.pendingLanes|=f,f!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,f=31-$i(f),u[f]=y}function ZO(u,f){var y=u.pendingLanes&~f;u.pendingLanes=f,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=f,u.mutableReadLanes&=f,u.entangledLanes&=f,f=u.entanglements;var w=u.eventTimes;for(u=u.expirationTimes;0<y;){var E=31-$i(y),b=1<<E;f[E]=0,w[E]=-1,u[E]=-1,y&=~b}}function ey(u,f){var y=u.entangledLanes|=f;for(u=u.entanglements;y;){var w=31-$i(y),E=1<<w;E&f|u[w]&f&&(u[w]|=f),y&=~E}}var kt=0;function YM(u){return u&=-u,1<u?4<u?u&268435455?16:536870912:4:1}var ty=r.unstable_scheduleCallback,QM=r.unstable_cancelCallback,$O=r.unstable_shouldYield,ek=r.unstable_requestPaint,jn=r.unstable_now,ny=r.unstable_ImmediatePriority,tk=r.unstable_UserBlockingPriority,iy=r.unstable_NormalPriority,nk=r.unstable_IdlePriority,lp=null,ys=null;function ik(u){if(ys&&typeof ys.onCommitFiberRoot=="function")try{ys.onCommitFiberRoot(lp,u,void 0,(u.current.flags&128)===128)}catch{}}function rk(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var xs=typeof Object.is=="function"?Object.is:rk,Ks=null,cp=!1,ry=!1;function qM(u){Ks===null?Ks=[u]:Ks.push(u)}function sk(u){cp=!0,qM(u)}function _s(){if(!ry&&Ks!==null){ry=!0;var u=0,f=kt;try{var y=Ks;for(kt=1;u<y.length;u++){var w=y[u];do w=w(!0);while(w!==null)}Ks=null,cp=!1}catch(E){throw Ks!==null&&(Ks=Ks.slice(u+1)),ty(ny,_s),E}finally{kt=f,ry=!1}}return null}var ok=a.ReactCurrentBatchConfig;function up(u,f){if(xs(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var y=Object.keys(u),w=Object.keys(f);if(y.length!==w.length)return!1;for(w=0;w<y.length;w++){var E=y[w];if(!on.call(f,E)||!xs(u[E],f[E]))return!1}return!0}function ak(u){switch(u.tag){case 5:return mt(u.type);case 16:return mt("Lazy");case 13:return mt("Suspense");case 19:return mt("SuspenseList");case 0:case 2:case 15:return u=gt(u.type,!1),u;case 11:return u=gt(u.type.render,!1),u;case 1:return u=gt(u.type,!0),u;default:return""}}function Wr(u,f){if(u&&u.defaultProps){f=s({},f),u=u.defaultProps;for(var y in u)f[y]===void 0&&(f[y]=u[y]);return f}return f}var dp=Gn(null),fp=null,xc=null,sy=null;function oy(){sy=xc=fp=null}function ZM(u,f,y){ot?(Qe(dp,f._currentValue),f._currentValue=y):(Qe(dp,f._currentValue2),f._currentValue2=y)}function ay(u){var f=dp.current;ft(dp),ot?u._currentValue=f:u._currentValue2=f}function ly(u,f,y){for(;u!==null;){var w=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,w!==null&&(w.childLanes|=f)):w!==null&&(w.childLanes&f)!==f&&(w.childLanes|=f),u===y)break;u=u.return}}function _c(u,f){fp=u,sy=xc=null,u=u.dependencies,u!==null&&u.firstContext!==null&&(u.lanes&f&&(nr=!0),u.firstContext=null)}function wr(u){var f=ot?u._currentValue:u._currentValue2;if(sy!==u)if(u={context:u,memoizedValue:f,next:null},xc===null){if(fp===null)throw Error(o(308));xc=u,fp.dependencies={lanes:0,firstContext:u}}else xc=xc.next=u;return f}var As=null,ko=!1;function cy(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $M(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Ys(u,f){return{eventTime:u,lane:f,tag:0,payload:null,callback:null,next:null}}function Uo(u,f){var y=u.updateQueue;y!==null&&(y=y.shared,Pn!==null&&u.mode&1&&!(bt&2)?(u=y.interleaved,u===null?(f.next=f,As===null?As=[y]:As.push(y)):(f.next=u.next,u.next=f),y.interleaved=f):(u=y.pending,u===null?f.next=f:(f.next=u.next,u.next=f),y.pending=f))}function hp(u,f,y){if(f=f.updateQueue,f!==null&&(f=f.shared,(y&4194240)!==0)){var w=f.lanes;w&=u.pendingLanes,y|=w,f.lanes=y,ey(u,y)}}function eE(u,f){var y=u.updateQueue,w=u.alternate;if(w!==null&&(w=w.updateQueue,y===w)){var E=null,b=null;if(y=y.firstBaseUpdate,y!==null){do{var j={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};b===null?E=b=j:b=b.next=j,y=y.next}while(y!==null);b===null?E=b=f:b=b.next=f}else E=b=f;y={baseState:w.baseState,firstBaseUpdate:E,lastBaseUpdate:b,shared:w.shared,effects:w.effects},u.updateQueue=y;return}u=y.lastBaseUpdate,u===null?y.firstBaseUpdate=f:u.next=f,y.lastBaseUpdate=f}function pp(u,f,y,w){var E=u.updateQueue;ko=!1;var b=E.firstBaseUpdate,j=E.lastBaseUpdate,te=E.shared.pending;if(te!==null){E.shared.pending=null;var fe=te,Le=fe.next;fe.next=null,j===null?b=Le:j.next=Le,j=fe;var Ke=u.alternate;Ke!==null&&(Ke=Ke.updateQueue,te=Ke.lastBaseUpdate,te!==j&&(te===null?Ke.firstBaseUpdate=Le:te.next=Le,Ke.lastBaseUpdate=fe))}if(b!==null){var vt=E.baseState;j=0,Ke=Le=fe=null,te=b;do{var rt=te.lane,Yt=te.eventTime;if((w&rt)===rt){Ke!==null&&(Ke=Ke.next={eventTime:Yt,lane:0,tag:te.tag,payload:te.payload,callback:te.callback,next:null});e:{var nt=u,di=te;switch(rt=f,Yt=y,di.tag){case 1:if(nt=di.payload,typeof nt=="function"){vt=nt.call(Yt,vt,rt);break e}vt=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=di.payload,rt=typeof nt=="function"?nt.call(Yt,vt,rt):nt,rt==null)break e;vt=s({},vt,rt);break e;case 2:ko=!0}}te.callback!==null&&te.lane!==0&&(u.flags|=64,rt=E.effects,rt===null?E.effects=[te]:rt.push(te))}else Yt={eventTime:Yt,lane:rt,tag:te.tag,payload:te.payload,callback:te.callback,next:null},Ke===null?(Le=Ke=Yt,fe=vt):Ke=Ke.next=Yt,j|=rt;if(te=te.next,te===null){if(te=E.shared.pending,te===null)break;rt=te,te=rt.next,rt.next=null,E.lastBaseUpdate=rt,E.shared.pending=null}}while(!0);if(Ke===null&&(fe=vt),E.baseState=fe,E.firstBaseUpdate=Le,E.lastBaseUpdate=Ke,f=E.shared.interleaved,f!==null){E=f;do j|=E.lane,E=E.next;while(E!==f)}else b===null&&(E.shared.lanes=0);Rc|=j,u.lanes=j,u.memoizedState=vt}}function tE(u,f,y){if(u=f.effects,f.effects=null,u!==null)for(f=0;f<u.length;f++){var w=u[f],E=w.callback;if(E!==null){if(w.callback=null,w=y,typeof E!="function")throw Error(o(191,E));E.call(w)}}}var nE=new i.Component().refs;function uy(u,f,y,w){f=u.memoizedState,y=y(w,f),y=y==null?f:s({},f,y),u.memoizedState=y,u.lanes===0&&(u.updateQueue.baseState=y)}var mp={isMounted:function(u){return(u=u._reactInternals)?R(u)===u:!1},enqueueSetState:function(u,f,y){u=u._reactInternals;var w=Ci(),E=Go(u),b=Ys(w,E);b.payload=f,y!=null&&(b.callback=y),Uo(u,b),f=br(u,E,w),f!==null&&hp(f,u,E)},enqueueReplaceState:function(u,f,y){u=u._reactInternals;var w=Ci(),E=Go(u),b=Ys(w,E);b.tag=1,b.payload=f,y!=null&&(b.callback=y),Uo(u,b),f=br(u,E,w),f!==null&&hp(f,u,E)},enqueueForceUpdate:function(u,f){u=u._reactInternals;var y=Ci(),w=Go(u),E=Ys(y,w);E.tag=2,f!=null&&(E.callback=f),Uo(u,E),f=br(u,w,y),f!==null&&hp(f,u,w)}};function iE(u,f,y,w,E,b,j){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(w,b,j):f.prototype&&f.prototype.isPureReactComponent?!up(y,w)||!up(E,b):!0}function rE(u,f,y){var w=!1,E=Ar,b=f.contextType;return typeof b=="object"&&b!==null?b=wr(b):(E=Vn(f)?gs:Rt.current,w=f.contextTypes,b=(w=w!=null)?Sr(u,E):Ar),f=new f(y,b),u.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=mp,u.stateNode=f,f._reactInternals=u,w&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=E,u.__reactInternalMemoizedMaskedChildContext=b),f}function sE(u,f,y,w){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(y,w),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(y,w),f.state!==u&&mp.enqueueReplaceState(f,f.state,null)}function dy(u,f,y,w){var E=u.stateNode;E.props=y,E.state=u.memoizedState,E.refs=nE,cy(u);var b=f.contextType;typeof b=="object"&&b!==null?E.context=wr(b):(b=Vn(f)?gs:Rt.current,E.context=Sr(u,b)),E.state=u.memoizedState,b=f.getDerivedStateFromProps,typeof b=="function"&&(uy(u,f,b,y),E.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(f=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),f!==E.state&&mp.enqueueReplaceState(E,E.state,null),pp(u,y,E,w),E.state=u.memoizedState),typeof E.componentDidMount=="function"&&(u.flags|=4194308)}var Ac=[],Sc=0,gp=null,vp=0,Mr=[],Er=0,Qa=null,Qs=1,qs="";function qa(u,f){Ac[Sc++]=vp,Ac[Sc++]=gp,gp=u,vp=f}function oE(u,f,y){Mr[Er++]=Qs,Mr[Er++]=qs,Mr[Er++]=Qa,Qa=u;var w=Qs;u=qs;var E=32-$i(w)-1;w&=~(1<<E),y+=1;var b=32-$i(f)+E;if(30<b){var j=E-E%5;b=(w&(1<<j)-1).toString(32),w>>=j,E-=j,Qs=1<<32-$i(f)+E|y<<E|w,qs=b+u}else Qs=1<<b|y<<E|w,qs=u}function fy(u){u.return!==null&&(qa(u,1),oE(u,1,0))}function hy(u){for(;u===gp;)gp=Ac[--Sc],Ac[Sc]=null,vp=Ac[--Sc],Ac[Sc]=null;for(;u===Qa;)Qa=Mr[--Er],Mr[Er]=null,qs=Mr[--Er],Mr[Er]=null,Qs=Mr[--Er],Mr[Er]=null}var er=null,tr=null,rn=!1,Cd=!1,jr=null;function aE(u,f){var y=Rr(5,null,null,0);y.elementType="DELETED",y.stateNode=f,y.return=u,f=u.deletions,f===null?(u.deletions=[y],u.flags|=16):f.push(y)}function lE(u,f){switch(u.tag){case 5:return f=Ft(f,u.type,u.pendingProps),f!==null?(u.stateNode=f,er=u,tr=gc(f),!0):!1;case 6:return f=ei(f,u.pendingProps),f!==null?(u.stateNode=f,er=u,tr=null,!0):!1;case 13:if(f=_r(f),f!==null){var y=Qa!==null?{id:Qs,overflow:qs}:null;return u.memoizedState={dehydrated:f,treeContext:y,retryLane:1073741824},y=Rr(18,null,null,0),y.stateNode=f,y.return=u,u.child=y,er=u,tr=null,!0}return!1;default:return!1}}function py(u){return(u.mode&1)!==0&&(u.flags&128)===0}function my(u){if(rn){var f=tr;if(f){var y=f;if(!lE(u,f)){if(py(u))throw Error(o(418));f=Oo(y);var w=er;f&&lE(u,f)?aE(w,y):(u.flags=u.flags&-4097|2,rn=!1,er=u)}}else{if(py(u))throw Error(o(418));u.flags=u.flags&-4097|2,rn=!1,er=u}}}function cE(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;er=u}function bd(u){if(!pe||u!==er)return!1;if(!rn)return cE(u),rn=!0,!1;if(u.tag!==3&&(u.tag!==5||je(u.type)&&!Ae(u.type,u.memoizedProps))){var f=tr;if(f){if(py(u)){for(u=tr;u;)u=Oo(u);throw Error(o(418))}for(;f;)aE(u,f),f=Oo(f)}}if(cE(u),u.tag===13){if(!pe)throw Error(o(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));tr=k(u)}else tr=er?Oo(u.stateNode):null;return!0}function wc(){pe&&(tr=er=null,Cd=rn=!1)}function gy(u){jr===null?jr=[u]:jr.push(u)}function Rd(u,f,y){if(u=y.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(o(309));var w=y.stateNode}if(!w)throw Error(o(147,u));var E=w,b=""+u;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===b?f.ref:(f=function(j){var te=E.refs;te===nE&&(te=E.refs={}),j===null?delete te[b]:te[b]=j},f._stringRef=b,f)}if(typeof u!="string")throw Error(o(284));if(!y._owner)throw Error(o(290,u))}return u}function yp(u,f){throw u=Object.prototype.toString.call(f),Error(o(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u))}function uE(u){var f=u._init;return f(u._payload)}function dE(u){function f(se,ne){if(u){var le=se.deletions;le===null?(se.deletions=[ne],se.flags|=16):le.push(ne)}}function y(se,ne){if(!u)return null;for(;ne!==null;)f(se,ne),ne=ne.sibling;return null}function w(se,ne){for(se=new Map;ne!==null;)ne.key!==null?se.set(ne.key,ne):se.set(ne.index,ne),ne=ne.sibling;return se}function E(se,ne){return se=Wo(se,ne),se.index=0,se.sibling=null,se}function b(se,ne,le){return se.index=le,u?(le=se.alternate,le!==null?(le=le.index,le<ne?(se.flags|=2,ne):le):(se.flags|=2,ne)):(se.flags|=1048576,ne)}function j(se){return u&&se.alternate===null&&(se.flags|=2),se}function te(se,ne,le,Ve){return ne===null||ne.tag!==6?(ne=$y(le,se.mode,Ve),ne.return=se,ne):(ne=E(ne,le),ne.return=se,ne)}function fe(se,ne,le,Ve){var et=le.type;return et===d?Ke(se,ne,le.props.children,Ve,le.key):ne!==null&&(ne.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===S&&uE(et)===ne.type)?(Ve=E(ne,le.props),Ve.ref=Rd(se,ne,le),Ve.return=se,Ve):(Ve=Yp(le.type,le.key,le.props,null,se.mode,Ve),Ve.ref=Rd(se,ne,le),Ve.return=se,Ve)}function Le(se,ne,le,Ve){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==le.containerInfo||ne.stateNode.implementation!==le.implementation?(ne=ex(le,se.mode,Ve),ne.return=se,ne):(ne=E(ne,le.children||[]),ne.return=se,ne)}function Ke(se,ne,le,Ve,et){return ne===null||ne.tag!==7?(ne=rl(le,se.mode,Ve,et),ne.return=se,ne):(ne=E(ne,le),ne.return=se,ne)}function vt(se,ne,le){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=$y(""+ne,se.mode,le),ne.return=se,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case l:return le=Yp(ne.type,ne.key,ne.props,null,se.mode,le),le.ref=Rd(se,null,ne),le.return=se,le;case c:return ne=ex(ne,se.mode,le),ne.return=se,ne;case S:var Ve=ne._init;return vt(se,Ve(ne._payload),le)}if(q(ne)||C(ne))return ne=rl(ne,se.mode,le,null),ne.return=se,ne;yp(se,ne)}return null}function rt(se,ne,le,Ve){var et=ne!==null?ne.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return et!==null?null:te(se,ne,""+le,Ve);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case l:return le.key===et?fe(se,ne,le,Ve):null;case c:return le.key===et?Le(se,ne,le,Ve):null;case S:return et=le._init,rt(se,ne,et(le._payload),Ve)}if(q(le)||C(le))return et!==null?null:Ke(se,ne,le,Ve,null);yp(se,le)}return null}function Yt(se,ne,le,Ve,et){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number")return se=se.get(le)||null,te(ne,se,""+Ve,et);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case l:return se=se.get(Ve.key===null?le:Ve.key)||null,fe(ne,se,Ve,et);case c:return se=se.get(Ve.key===null?le:Ve.key)||null,Le(ne,se,Ve,et);case S:var Et=Ve._init;return Yt(se,ne,le,Et(Ve._payload),et)}if(q(Ve)||C(Ve))return se=se.get(le)||null,Ke(ne,se,Ve,et,null);yp(ne,Ve)}return null}function nt(se,ne,le,Ve){for(var et=null,Et=null,yt=ne,Ut=ne=0,Jn=null;yt!==null&&Ut<le.length;Ut++){yt.index>Ut?(Jn=yt,yt=null):Jn=yt.sibling;var zt=rt(se,yt,le[Ut],Ve);if(zt===null){yt===null&&(yt=Jn);break}u&&yt&&zt.alternate===null&&f(se,yt),ne=b(zt,ne,Ut),Et===null?et=zt:Et.sibling=zt,Et=zt,yt=Jn}if(Ut===le.length)return y(se,yt),rn&&qa(se,Ut),et;if(yt===null){for(;Ut<le.length;Ut++)yt=vt(se,le[Ut],Ve),yt!==null&&(ne=b(yt,ne,Ut),Et===null?et=yt:Et.sibling=yt,Et=yt);return rn&&qa(se,Ut),et}for(yt=w(se,yt);Ut<le.length;Ut++)Jn=Yt(yt,se,Ut,le[Ut],Ve),Jn!==null&&(u&&Jn.alternate!==null&&yt.delete(Jn.key===null?Ut:Jn.key),ne=b(Jn,ne,Ut),Et===null?et=Jn:Et.sibling=Jn,Et=Jn);return u&&yt.forEach(function(jo){return f(se,jo)}),rn&&qa(se,Ut),et}function di(se,ne,le,Ve){var et=C(le);if(typeof et!="function")throw Error(o(150));if(le=et.call(le),le==null)throw Error(o(151));for(var Et=et=null,yt=ne,Ut=ne=0,Jn=null,zt=le.next();yt!==null&&!zt.done;Ut++,zt=le.next()){yt.index>Ut?(Jn=yt,yt=null):Jn=yt.sibling;var jo=rt(se,yt,zt.value,Ve);if(jo===null){yt===null&&(yt=Jn);break}u&&yt&&jo.alternate===null&&f(se,yt),ne=b(jo,ne,Ut),Et===null?et=jo:Et.sibling=jo,Et=jo,yt=Jn}if(zt.done)return y(se,yt),rn&&qa(se,Ut),et;if(yt===null){for(;!zt.done;Ut++,zt=le.next())zt=vt(se,zt.value,Ve),zt!==null&&(ne=b(zt,ne,Ut),Et===null?et=zt:Et.sibling=zt,Et=zt);return rn&&qa(se,Ut),et}for(yt=w(se,yt);!zt.done;Ut++,zt=le.next())zt=Yt(yt,se,Ut,zt.value,Ve),zt!==null&&(u&&zt.alternate!==null&&yt.delete(zt.key===null?Ut:zt.key),ne=b(zt,ne,Ut),Et===null?et=zt:Et.sibling=zt,Et=zt);return u&&yt.forEach(function(Ok){return f(se,Ok)}),rn&&qa(se,Ut),et}function Pr(se,ne,le,Ve){if(typeof le=="object"&&le!==null&&le.type===d&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case l:e:{for(var et=le.key,Et=ne;Et!==null;){if(Et.key===et){if(et=le.type,et===d){if(Et.tag===7){y(se,Et.sibling),ne=E(Et,le.props.children),ne.return=se,se=ne;break e}}else if(Et.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===S&&uE(et)===Et.type){y(se,Et.sibling),ne=E(Et,le.props),ne.ref=Rd(se,Et,le),ne.return=se,se=ne;break e}y(se,Et);break}else f(se,Et);Et=Et.sibling}le.type===d?(ne=rl(le.props.children,se.mode,Ve,le.key),ne.return=se,se=ne):(Ve=Yp(le.type,le.key,le.props,null,se.mode,Ve),Ve.ref=Rd(se,ne,le),Ve.return=se,se=Ve)}return j(se);case c:e:{for(Et=le.key;ne!==null;){if(ne.key===Et)if(ne.tag===4&&ne.stateNode.containerInfo===le.containerInfo&&ne.stateNode.implementation===le.implementation){y(se,ne.sibling),ne=E(ne,le.children||[]),ne.return=se,se=ne;break e}else{y(se,ne);break}else f(se,ne);ne=ne.sibling}ne=ex(le,se.mode,Ve),ne.return=se,se=ne}return j(se);case S:return Et=le._init,Pr(se,ne,Et(le._payload),Ve)}if(q(le))return nt(se,ne,le,Ve);if(C(le))return di(se,ne,le,Ve);yp(se,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,ne!==null&&ne.tag===6?(y(se,ne.sibling),ne=E(ne,le),ne.return=se,se=ne):(y(se,ne),ne=$y(le,se.mode,Ve),ne.return=se,se=ne),j(se)):y(se,ne)}return Pr}var Mc=dE(!0),fE=dE(!1),Pd={},Tr=Gn(Pd),Ld=Gn(Pd),Ec=Gn(Pd);function Ss(u){if(u===Pd)throw Error(o(174));return u}function vy(u,f){Qe(Ec,f),Qe(Ld,u),Qe(Tr,Pd),u=$(f),ft(Tr),Qe(Tr,u)}function Tc(){ft(Tr),ft(Ld),ft(Ec)}function hE(u){var f=Ss(Ec.current),y=Ss(Tr.current);f=I(y,u.type,f),y!==f&&(Qe(Ld,u),Qe(Tr,f))}function yy(u){Ld.current===u&&(ft(Tr),ft(Ld))}var an=Gn(0);function xp(u){for(var f=u;f!==null;){if(f.tag===13){var y=f.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||wd(y)||Md(y)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var xy=[];function _y(){for(var u=0;u<xy.length;u++){var f=xy[u];ot?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}xy.length=0}var _p=a.ReactCurrentDispatcher,Cr=a.ReactCurrentBatchConfig,Cc=0,gn=null,li=null,Xn=null,Ap=!1,Bd=!1,Id=0,lk=0;function ci(){throw Error(o(321))}function Ay(u,f){if(f===null)return!1;for(var y=0;y<f.length&&y<u.length;y++)if(!xs(u[y],f[y]))return!1;return!0}function Sy(u,f,y,w,E,b){if(Cc=b,gn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,_p.current=u===null||u.memoizedState===null?fk:hk,u=y(w,E),Bd){b=0;do{if(Bd=!1,Id=0,25<=b)throw Error(o(301));b+=1,Xn=li=null,f.updateQueue=null,_p.current=pk,u=y(w,E)}while(Bd)}if(_p.current=Tp,f=li!==null&&li.next!==null,Cc=0,Xn=li=gn=null,Ap=!1,f)throw Error(o(300));return u}function wy(){var u=Id!==0;return Id=0,u}function Zs(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?gn.memoizedState=Xn=u:Xn=Xn.next=u,Xn}function ws(){if(li===null){var u=gn.alternate;u=u!==null?u.memoizedState:null}else u=li.next;var f=Xn===null?gn.memoizedState:Xn.next;if(f!==null)Xn=f,li=u;else{if(u===null)throw Error(o(310));li=u,u={memoizedState:li.memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},Xn===null?gn.memoizedState=Xn=u:Xn=Xn.next=u}return Xn}function Za(u,f){return typeof f=="function"?f(u):f}function Sp(u){var f=ws(),y=f.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=u;var w=li,E=w.baseQueue,b=y.pending;if(b!==null){if(E!==null){var j=E.next;E.next=b.next,b.next=j}w.baseQueue=E=b,y.pending=null}if(E!==null){b=E.next,w=w.baseState;var te=j=null,fe=null,Le=b;do{var Ke=Le.lane;if((Cc&Ke)===Ke)fe!==null&&(fe=fe.next={lane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),w=Le.hasEagerState?Le.eagerState:u(w,Le.action);else{var vt={lane:Ke,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null};fe===null?(te=fe=vt,j=w):fe=fe.next=vt,gn.lanes|=Ke,Rc|=Ke}Le=Le.next}while(Le!==null&&Le!==b);fe===null?j=w:fe.next=te,xs(w,f.memoizedState)||(nr=!0),f.memoizedState=w,f.baseState=j,f.baseQueue=fe,y.lastRenderedState=w}if(u=y.interleaved,u!==null){E=u;do b=E.lane,gn.lanes|=b,Rc|=b,E=E.next;while(E!==u)}else E===null&&(y.lanes=0);return[f.memoizedState,y.dispatch]}function wp(u){var f=ws(),y=f.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=u;var w=y.dispatch,E=y.pending,b=f.memoizedState;if(E!==null){y.pending=null;var j=E=E.next;do b=u(b,j.action),j=j.next;while(j!==E);xs(b,f.memoizedState)||(nr=!0),f.memoizedState=b,f.baseQueue===null&&(f.baseState=b),y.lastRenderedState=b}return[b,w]}function pE(){}function mE(u,f){var y=gn,w=ws(),E=f(),b=!xs(w.memoizedState,E);if(b&&(w.memoizedState=E,nr=!0),w=w.queue,Nd(yE.bind(null,y,w,u),[u]),w.getSnapshot!==f||b||Xn!==null&&Xn.memoizedState.tag&1){if(y.flags|=2048,Dd(9,vE.bind(null,y,w,E,f),void 0,null),Pn===null)throw Error(o(349));Cc&30||gE(y,f,E)}return E}function gE(u,f,y){u.flags|=16384,u={getSnapshot:f,value:y},f=gn.updateQueue,f===null?(f={lastEffect:null,stores:null},gn.updateQueue=f,f.stores=[u]):(y=f.stores,y===null?f.stores=[u]:y.push(u))}function vE(u,f,y,w){f.value=y,f.getSnapshot=w,xE(f)&&br(u,1,-1)}function yE(u,f,y){return y(function(){xE(f)&&br(u,1,-1)})}function xE(u){var f=u.getSnapshot;u=u.value;try{var y=f();return!xs(u,y)}catch{return!0}}function My(u){var f=Zs();return typeof u=="function"&&(u=u()),f.memoizedState=f.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:u},f.queue=u,u=u.dispatch=dk.bind(null,gn,u),[f.memoizedState,u]}function Dd(u,f,y,w){return u={tag:u,create:f,destroy:y,deps:w,next:null},f=gn.updateQueue,f===null?(f={lastEffect:null,stores:null},gn.updateQueue=f,f.lastEffect=u.next=u):(y=f.lastEffect,y===null?f.lastEffect=u.next=u:(w=y.next,y.next=u,u.next=w,f.lastEffect=u)),u}function _E(){return ws().memoizedState}function Mp(u,f,y,w){var E=Zs();gn.flags|=u,E.memoizedState=Dd(1|f,y,void 0,w===void 0?null:w)}function Ep(u,f,y,w){var E=ws();w=w===void 0?null:w;var b=void 0;if(li!==null){var j=li.memoizedState;if(b=j.destroy,w!==null&&Ay(w,j.deps)){E.memoizedState=Dd(f,y,b,w);return}}gn.flags|=u,E.memoizedState=Dd(1|f,y,b,w)}function Ey(u,f){return Mp(8390656,8,u,f)}function Nd(u,f){return Ep(2048,8,u,f)}function AE(u,f){return Ep(4,2,u,f)}function SE(u,f){return Ep(4,4,u,f)}function wE(u,f){if(typeof f=="function")return u=u(),f(u),function(){f(null)};if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function ME(u,f,y){return y=y!=null?y.concat([u]):null,Ep(4,4,wE.bind(null,f,u),y)}function Ty(){}function EE(u,f){var y=ws();f=f===void 0?null:f;var w=y.memoizedState;return w!==null&&f!==null&&Ay(f,w[1])?w[0]:(y.memoizedState=[u,f],u)}function TE(u,f){var y=ws();f=f===void 0?null:f;var w=y.memoizedState;return w!==null&&f!==null&&Ay(f,w[1])?w[0]:(u=u(),y.memoizedState=[u,f],u)}function ck(u,f){var y=kt;kt=y!==0&&4>y?y:4,u(!0);var w=Cr.transition;Cr.transition={};try{u(!1),f()}finally{kt=y,Cr.transition=w}}function CE(){return ws().memoizedState}function uk(u,f,y){var w=Go(u);y={lane:w,action:y,hasEagerState:!1,eagerState:null,next:null},bE(u)?RE(f,y):(PE(u,f,y),y=Ci(),u=br(u,w,y),u!==null&&LE(u,f,w))}function dk(u,f,y){var w=Go(u),E={lane:w,action:y,hasEagerState:!1,eagerState:null,next:null};if(bE(u))RE(f,E);else{PE(u,f,E);var b=u.alternate;if(u.lanes===0&&(b===null||b.lanes===0)&&(b=f.lastRenderedReducer,b!==null))try{var j=f.lastRenderedState,te=b(j,y);if(E.hasEagerState=!0,E.eagerState=te,xs(te,j))return}catch{}finally{}y=Ci(),u=br(u,w,y),u!==null&&LE(u,f,w)}}function bE(u){var f=u.alternate;return u===gn||f!==null&&f===gn}function RE(u,f){Bd=Ap=!0;var y=u.pending;y===null?f.next=f:(f.next=y.next,y.next=f),u.pending=f}function PE(u,f,y){Pn!==null&&u.mode&1&&!(bt&2)?(u=f.interleaved,u===null?(y.next=y,As===null?As=[f]:As.push(f)):(y.next=u.next,u.next=y),f.interleaved=y):(u=f.pending,u===null?y.next=y:(y.next=u.next,u.next=y),f.pending=y)}function LE(u,f,y){if(y&4194240){var w=f.lanes;w&=u.pendingLanes,y|=w,f.lanes=y,ey(u,y)}}var Tp={readContext:wr,useCallback:ci,useContext:ci,useEffect:ci,useImperativeHandle:ci,useInsertionEffect:ci,useLayoutEffect:ci,useMemo:ci,useReducer:ci,useRef:ci,useState:ci,useDebugValue:ci,useDeferredValue:ci,useTransition:ci,useMutableSource:ci,useSyncExternalStore:ci,useId:ci,unstable_isNewReconciler:!1},fk={readContext:wr,useCallback:function(u,f){return Zs().memoizedState=[u,f===void 0?null:f],u},useContext:wr,useEffect:Ey,useImperativeHandle:function(u,f,y){return y=y!=null?y.concat([u]):null,Mp(4194308,4,wE.bind(null,f,u),y)},useLayoutEffect:function(u,f){return Mp(4194308,4,u,f)},useInsertionEffect:function(u,f){return Mp(4,2,u,f)},useMemo:function(u,f){var y=Zs();return f=f===void 0?null:f,u=u(),y.memoizedState=[u,f],u},useReducer:function(u,f,y){var w=Zs();return f=y!==void 0?y(f):f,w.memoizedState=w.baseState=f,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:f},w.queue=u,u=u.dispatch=uk.bind(null,gn,u),[w.memoizedState,u]},useRef:function(u){var f=Zs();return u={current:u},f.memoizedState=u},useState:My,useDebugValue:Ty,useDeferredValue:function(u){var f=My(u),y=f[0],w=f[1];return Ey(function(){var E=Cr.transition;Cr.transition={};try{w(u)}finally{Cr.transition=E}},[u]),y},useTransition:function(){var u=My(!1),f=u[0];return u=ck.bind(null,u[1]),Zs().memoizedState=u,[f,u]},useMutableSource:function(){},useSyncExternalStore:function(u,f,y){var w=gn,E=Zs();if(rn){if(y===void 0)throw Error(o(407));y=y()}else{if(y=f(),Pn===null)throw Error(o(349));Cc&30||gE(w,f,y)}E.memoizedState=y;var b={value:y,getSnapshot:f};return E.queue=b,Ey(yE.bind(null,w,b,u),[u]),w.flags|=2048,Dd(9,vE.bind(null,w,b,y,f),void 0,null),y},useId:function(){var u=Zs(),f=Pn.identifierPrefix;if(rn){var y=qs,w=Qs;y=(w&~(1<<32-$i(w)-1)).toString(32)+y,f=":"+f+"R"+y,y=Id++,0<y&&(f+="H"+y.toString(32)),f+=":"}else y=lk++,f=":"+f+"r"+y.toString(32)+":";return u.memoizedState=f},unstable_isNewReconciler:!1},hk={readContext:wr,useCallback:EE,useContext:wr,useEffect:Nd,useImperativeHandle:ME,useInsertionEffect:AE,useLayoutEffect:SE,useMemo:TE,useReducer:Sp,useRef:_E,useState:function(){return Sp(Za)},useDebugValue:Ty,useDeferredValue:function(u){var f=Sp(Za),y=f[0],w=f[1];return Nd(function(){var E=Cr.transition;Cr.transition={};try{w(u)}finally{Cr.transition=E}},[u]),y},useTransition:function(){var u=Sp(Za)[0],f=ws().memoizedState;return[u,f]},useMutableSource:pE,useSyncExternalStore:mE,useId:CE,unstable_isNewReconciler:!1},pk={readContext:wr,useCallback:EE,useContext:wr,useEffect:Nd,useImperativeHandle:ME,useInsertionEffect:AE,useLayoutEffect:SE,useMemo:TE,useReducer:wp,useRef:_E,useState:function(){return wp(Za)},useDebugValue:Ty,useDeferredValue:function(u){var f=wp(Za),y=f[0],w=f[1];return Nd(function(){var E=Cr.transition;Cr.transition={};try{w(u)}finally{Cr.transition=E}},[u]),y},useTransition:function(){var u=wp(Za)[0],f=ws().memoizedState;return[u,f]},useMutableSource:pE,useSyncExternalStore:mE,useId:CE,unstable_isNewReconciler:!1};function Cy(u,f){try{var y="",w=f;do y+=ak(w),w=w.return;while(w);var E=y}catch(b){E=`
Error generating stack: `+b.message+`
`+b.stack}return{value:u,source:f,stack:E}}function by(u,f){try{console.error(f.value)}catch(y){setTimeout(function(){throw y})}}var mk=typeof WeakMap=="function"?WeakMap:Map;function BE(u,f,y){y=Ys(-1,y),y.tag=3,y.payload={element:null};var w=f.value;return y.callback=function(){Gp||(Gp=!0,Xy=w),by(u,f)},y}function IE(u,f,y){y=Ys(-1,y),y.tag=3;var w=u.type.getDerivedStateFromError;if(typeof w=="function"){var E=f.value;y.payload=function(){return w(E)},y.callback=function(){by(u,f)}}var b=u.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(y.callback=function(){by(u,f),typeof w!="function"&&(zo===null?zo=new Set([this]):zo.add(this));var j=f.stack;this.componentDidCatch(f.value,{componentStack:j!==null?j:""})}),y}function DE(u,f,y){var w=u.pingCache;if(w===null){w=u.pingCache=new mk;var E=new Set;w.set(f,E)}else E=w.get(f),E===void 0&&(E=new Set,w.set(f,E));E.has(y)||(E.add(y),u=Rk.bind(null,u,f,y),f.then(u,u))}function NE(u){do{var f;if((f=u.tag===13)&&(f=u.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return u;u=u.return}while(u!==null);return null}function FE(u,f,y,w,E){return u.mode&1?(u.flags|=65536,u.lanes=E,u):(u===f?u.flags|=65536:(u.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(f=Ys(-1,1),f.tag=2,Uo(y,f))),y.lanes|=1),u)}function Ms(u){u.flags|=4}function OE(u,f){if(u!==null&&u.child===f.child)return!0;if(f.flags&16)return!1;for(u=f.child;u!==null;){if(u.flags&12854||u.subtreeFlags&12854)return!1;u=u.sibling}return!0}var Fd,Od,Cp,bp;if(He)Fd=function(u,f){for(var y=f.child;y!==null;){if(y.tag===5||y.tag===6)K(u,y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===f)break;for(;y.sibling===null;){if(y.return===null||y.return===f)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},Od=function(){},Cp=function(u,f,y,w,E){if(u=u.memoizedProps,u!==w){var b=f.stateNode,j=Ss(Tr.current);y=ve(b,y,u,w,E,j),(f.updateQueue=y)&&Ms(f)}},bp=function(u,f,y,w){y!==w&&Ms(f)};else if(J){Fd=function(u,f,y,w){for(var E=f.child;E!==null;){if(E.tag===5){var b=E.stateNode;y&&w&&(b=Vt(b,E.type,E.memoizedProps,E)),K(u,b)}else if(E.tag===6)b=E.stateNode,y&&w&&(b=Mn(b,E.memoizedProps,E)),K(u,b);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)b=E.child,b!==null&&(b.return=E),Fd(u,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===f)break;for(;E.sibling===null;){if(E.return===null||E.return===f)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};var kE=function(u,f,y,w){for(var E=f.child;E!==null;){if(E.tag===5){var b=E.stateNode;y&&w&&(b=Vt(b,E.type,E.memoizedProps,E)),Ee(u,b)}else if(E.tag===6)b=E.stateNode,y&&w&&(b=Mn(b,E.memoizedProps,E)),Ee(u,b);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)b=E.child,b!==null&&(b.return=E),kE(u,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===f)break;for(;E.sibling===null;){if(E.return===null||E.return===f)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};Od=function(u,f){var y=f.stateNode;if(!OE(u,f)){u=y.containerInfo;var w=me(u);kE(w,f,!1,!1),y.pendingChildren=w,Ms(f),$e(u,w)}},Cp=function(u,f,y,w,E){var b=u.stateNode,j=u.memoizedProps;if((u=OE(u,f))&&j===w)f.stateNode=b;else{var te=f.stateNode,fe=Ss(Tr.current),Le=null;j!==w&&(Le=ve(te,y,j,w,E,fe)),u&&Le===null?f.stateNode=b:(b=De(b,Le,y,j,w,f,u,te),ue(b,y,w,E,fe)&&Ms(f),f.stateNode=b,u?Ms(f):Fd(b,f,!1,!1))}},bp=function(u,f,y,w){y!==w?(u=Ss(Ec.current),y=Ss(Tr.current),f.stateNode=be(w,u,y,f),Ms(f)):f.stateNode=u.stateNode}}else Od=function(){},Cp=function(){},bp=function(){};function kd(u,f){if(!rn)switch(u.tailMode){case"hidden":f=u.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?u.tail=null:y.sibling=null;break;case"collapsed":y=u.tail;for(var w=null;y!==null;)y.alternate!==null&&(w=y),y=y.sibling;w===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:w.sibling=null}}function ui(u){var f=u.alternate!==null&&u.alternate.child===u.child,y=0,w=0;if(f)for(var E=u.child;E!==null;)y|=E.lanes|E.childLanes,w|=E.subtreeFlags&14680064,w|=E.flags&14680064,E.return=u,E=E.sibling;else for(E=u.child;E!==null;)y|=E.lanes|E.childLanes,w|=E.subtreeFlags,w|=E.flags,E.return=u,E=E.sibling;return u.subtreeFlags|=w,u.childLanes=y,f}function gk(u,f,y){var w=f.pendingProps;switch(hy(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ui(f),null;case 1:return Vn(f.type)&&Rn(),ui(f),null;case 3:return w=f.stateNode,Tc(),ft(mn),ft(Rt),_y(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(u===null||u.child===null)&&(bd(f)?Ms(f):u===null||u.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,jr!==null&&(Yy(jr),jr=null))),Od(u,f),ui(f),null;case 5:yy(f),y=Ss(Ec.current);var E=f.type;if(u!==null&&f.stateNode!=null)Cp(u,f,E,w,y),u.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!w){if(f.stateNode===null)throw Error(o(166));return ui(f),null}if(u=Ss(Tr.current),bd(f)){if(!pe)throw Error(o(175));u=Yv(f.stateNode,f.type,f.memoizedProps,y,u,f,!Cd),f.updateQueue=u,u!==null&&Ms(f)}else{var b=z(E,w,y,u,f);Fd(b,f,!1,!1),f.stateNode=b,ue(b,E,w,y,u)&&Ms(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return ui(f),null;case 6:if(u&&f.stateNode!=null)bp(u,f,u.memoizedProps,w);else{if(typeof w!="string"&&f.stateNode===null)throw Error(o(166));if(u=Ss(Ec.current),y=Ss(Tr.current),bd(f)){if(!pe)throw Error(o(176));if(u=f.stateNode,w=f.memoizedProps,(y=Qv(u,w,f,!Cd))&&(E=er,E!==null))switch(b=(E.mode&1)!==0,E.tag){case 3:tt(E.stateNode.containerInfo,u,w,b);break;case 5:lt(E.type,E.memoizedProps,E.stateNode,u,w,b)}y&&Ms(f)}else f.stateNode=be(w,u,y,f)}return ui(f),null;case 13:if(ft(an),w=f.memoizedState,rn&&tr!==null&&f.mode&1&&!(f.flags&128)){for(u=tr;u;)u=Oo(u);return wc(),f.flags|=98560,f}if(w!==null&&w.dehydrated!==null){if(w=bd(f),u===null){if(!w)throw Error(o(318));if(!pe)throw Error(o(344));if(u=f.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));qv(u,f)}else wc(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return ui(f),null}return jr!==null&&(Yy(jr),jr=null),f.flags&128?(f.lanes=y,f):(w=w!==null,y=!1,u===null?bd(f):y=u.memoizedState!==null,w&&!y&&(f.child.flags|=8192,f.mode&1&&(u===null||an.current&1?Dn===0&&(Dn=3):qy())),f.updateQueue!==null&&(f.flags|=4),ui(f),null);case 4:return Tc(),Od(u,f),u===null&&_e(f.stateNode.containerInfo),ui(f),null;case 10:return ay(f.type._context),ui(f),null;case 17:return Vn(f.type)&&Rn(),ui(f),null;case 19:if(ft(an),E=f.memoizedState,E===null)return ui(f),null;if(w=(f.flags&128)!==0,b=E.rendering,b===null)if(w)kd(E,!1);else{if(Dn!==0||u!==null&&u.flags&128)for(u=f.child;u!==null;){if(b=xp(u),b!==null){for(f.flags|=128,kd(E,!1),u=b.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),f.subtreeFlags=0,u=y,w=f.child;w!==null;)y=w,E=u,y.flags&=14680066,b=y.alternate,b===null?(y.childLanes=0,y.lanes=E,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=b.childLanes,y.lanes=b.lanes,y.child=b.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=b.memoizedProps,y.memoizedState=b.memoizedState,y.updateQueue=b.updateQueue,y.type=b.type,E=b.dependencies,y.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext}),w=w.sibling;return Qe(an,an.current&1|2),f.child}u=u.sibling}E.tail!==null&&jn()>jy&&(f.flags|=128,w=!0,kd(E,!1),f.lanes=4194304)}else{if(!w)if(u=xp(b),u!==null){if(f.flags|=128,w=!0,u=u.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),kd(E,!0),E.tail===null&&E.tailMode==="hidden"&&!b.alternate&&!rn)return ui(f),null}else 2*jn()-E.renderingStartTime>jy&&y!==1073741824&&(f.flags|=128,w=!0,kd(E,!1),f.lanes=4194304);E.isBackwards?(b.sibling=f.child,f.child=b):(u=E.last,u!==null?u.sibling=b:f.child=b,E.last=b)}return E.tail!==null?(f=E.tail,E.rendering=f,E.tail=f.sibling,E.renderingStartTime=jn(),f.sibling=null,u=an.current,Qe(an,w?u&1|2:u&1),f):(ui(f),null);case 22:case 23:return Qy(),w=f.memoizedState!==null,u!==null&&u.memoizedState!==null!==w&&(f.flags|=8192),w&&f.mode&1?ir&1073741824&&(ui(f),He&&f.subtreeFlags&6&&(f.flags|=8192)):ui(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}var vk=a.ReactCurrentOwner,nr=!1;function Ti(u,f,y,w){f.child=u===null?fE(f,null,y,w):Mc(f,u.child,y,w)}function UE(u,f,y,w,E){y=y.render;var b=f.ref;return _c(f,E),w=Sy(u,f,y,w,b,E),y=wy(),u!==null&&!nr?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~E,$s(u,f,E)):(rn&&y&&fy(f),f.flags|=1,Ti(u,f,w,E),f.child)}function zE(u,f,y,w,E){if(u===null){var b=y.type;return typeof b=="function"&&!Zy(b)&&b.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(f.tag=15,f.type=b,HE(u,f,b,w,E)):(u=Yp(y.type,null,w,f,f.mode,E),u.ref=f.ref,u.return=f,f.child=u)}if(b=u.child,!(u.lanes&E)){var j=b.memoizedProps;if(y=y.compare,y=y!==null?y:up,y(j,w)&&u.ref===f.ref)return $s(u,f,E)}return f.flags|=1,u=Wo(b,w),u.ref=f.ref,u.return=f,f.child=u}function HE(u,f,y,w,E){if(u!==null&&up(u.memoizedProps,w)&&u.ref===f.ref)if(nr=!1,(u.lanes&E)!==0)u.flags&131072&&(nr=!0);else return f.lanes=u.lanes,$s(u,f,E);return Ry(u,f,y,w,E)}function GE(u,f,y){var w=f.pendingProps,E=w.children,b=u!==null?u.memoizedState:null;if(w.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},Qe(bc,ir),ir|=y;else if(y&1073741824)f.memoizedState={baseLanes:0,cachePool:null},w=b!==null?b.baseLanes:y,Qe(bc,ir),ir|=w;else return u=b!==null?b.baseLanes|y:y,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:u,cachePool:null},f.updateQueue=null,Qe(bc,ir),ir|=u,null;else b!==null?(w=b.baseLanes|y,f.memoizedState=null):w=y,Qe(bc,ir),ir|=w;return Ti(u,f,E,y),f.child}function VE(u,f){var y=f.ref;(u===null&&y!==null||u!==null&&u.ref!==y)&&(f.flags|=512,f.flags|=2097152)}function Ry(u,f,y,w,E){var b=Vn(y)?gs:Rt.current;return b=Sr(f,b),_c(f,E),y=Sy(u,f,y,w,b,E),w=wy(),u!==null&&!nr?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~E,$s(u,f,E)):(rn&&w&&fy(f),f.flags|=1,Ti(u,f,y,E),f.child)}function WE(u,f,y,w,E){if(Vn(y)){var b=!0;Wn(f)}else b=!1;if(_c(f,E),f.stateNode===null)u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),rE(f,y,w),dy(f,y,w,E),w=!0;else if(u===null){var j=f.stateNode,te=f.memoizedProps;j.props=te;var fe=j.context,Le=y.contextType;typeof Le=="object"&&Le!==null?Le=wr(Le):(Le=Vn(y)?gs:Rt.current,Le=Sr(f,Le));var Ke=y.getDerivedStateFromProps,vt=typeof Ke=="function"||typeof j.getSnapshotBeforeUpdate=="function";vt||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(te!==w||fe!==Le)&&sE(f,j,w,Le),ko=!1;var rt=f.memoizedState;j.state=rt,pp(f,w,j,E),fe=f.memoizedState,te!==w||rt!==fe||mn.current||ko?(typeof Ke=="function"&&(uy(f,y,Ke,w),fe=f.memoizedState),(te=ko||iE(f,y,te,w,rt,fe,Le))?(vt||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(f.flags|=4194308)):(typeof j.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=w,f.memoizedState=fe),j.props=w,j.state=fe,j.context=Le,w=te):(typeof j.componentDidMount=="function"&&(f.flags|=4194308),w=!1)}else{j=f.stateNode,$M(u,f),te=f.memoizedProps,Le=f.type===f.elementType?te:Wr(f.type,te),j.props=Le,vt=f.pendingProps,rt=j.context,fe=y.contextType,typeof fe=="object"&&fe!==null?fe=wr(fe):(fe=Vn(y)?gs:Rt.current,fe=Sr(f,fe));var Yt=y.getDerivedStateFromProps;(Ke=typeof Yt=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(te!==vt||rt!==fe)&&sE(f,j,w,fe),ko=!1,rt=f.memoizedState,j.state=rt,pp(f,w,j,E);var nt=f.memoizedState;te!==vt||rt!==nt||mn.current||ko?(typeof Yt=="function"&&(uy(f,y,Yt,w),nt=f.memoizedState),(Le=ko||iE(f,y,Le,w,rt,nt,fe)||!1)?(Ke||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(w,nt,fe),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(w,nt,fe)),typeof j.componentDidUpdate=="function"&&(f.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof j.componentDidUpdate!="function"||te===u.memoizedProps&&rt===u.memoizedState||(f.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||te===u.memoizedProps&&rt===u.memoizedState||(f.flags|=1024),f.memoizedProps=w,f.memoizedState=nt),j.props=w,j.state=nt,j.context=fe,w=Le):(typeof j.componentDidUpdate!="function"||te===u.memoizedProps&&rt===u.memoizedState||(f.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||te===u.memoizedProps&&rt===u.memoizedState||(f.flags|=1024),w=!1)}return Py(u,f,y,w,b,E)}function Py(u,f,y,w,E,b){VE(u,f);var j=(f.flags&128)!==0;if(!w&&!j)return E&&yc(f,y,!1),$s(u,f,b);w=f.stateNode,vk.current=f;var te=j&&typeof y.getDerivedStateFromError!="function"?null:w.render();return f.flags|=1,u!==null&&j?(f.child=Mc(f,u.child,null,b),f.child=Mc(f,null,te,b)):Ti(u,f,te,b),f.memoizedState=w.state,E&&yc(f,y,!0),f.child}function jE(u){var f=u.stateNode;f.pendingContext?vs(u,f.pendingContext,f.pendingContext!==f.context):f.context&&vs(u,f.context,!1),vy(u,f.containerInfo)}function XE(u,f,y,w,E){return wc(),gy(E),f.flags|=256,Ti(u,f,y,w),f.child}var Rp={dehydrated:null,treeContext:null,retryLane:0};function Pp(u){return{baseLanes:u,cachePool:null}}function JE(u,f,y){var w=f.pendingProps,E=an.current,b=!1,j=(f.flags&128)!==0,te;if((te=j)||(te=u!==null&&u.memoizedState===null?!1:(E&2)!==0),te?(b=!0,f.flags&=-129):(u===null||u.memoizedState!==null)&&(E|=1),Qe(an,E&1),u===null)return my(f),u=f.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?(f.mode&1?Md(u)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(E=w.children,u=w.fallback,b?(w=f.mode,b=f.child,E={mode:"hidden",children:E},!(w&1)&&b!==null?(b.childLanes=0,b.pendingProps=E):b=Qp(E,w,0,null),u=rl(u,w,y,null),b.return=f,u.return=f,b.sibling=u,f.child=b,f.child.memoizedState=Pp(y),f.memoizedState=Rp,u):Ly(f,E));if(E=u.memoizedState,E!==null){if(te=E.dehydrated,te!==null){if(j)return f.flags&256?(f.flags&=-257,Lp(u,f,y,Error(o(422)))):f.memoizedState!==null?(f.child=u.child,f.flags|=128,null):(b=w.fallback,E=f.mode,w=Qp({mode:"visible",children:w.children},E,0,null),b=rl(b,E,y,null),b.flags|=2,w.return=f,b.return=f,w.sibling=b,f.child=w,f.mode&1&&Mc(f,u.child,null,y),f.child.memoizedState=Pp(y),f.memoizedState=Rp,b);if(!(f.mode&1))f=Lp(u,f,y,null);else if(Md(te))f=Lp(u,f,y,Error(o(419)));else if(w=(y&u.childLanes)!==0,nr||w){if(w=Pn,w!==null){switch(y&-y){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}w=b&(w.suspendedLanes|y)?0:b,w!==0&&w!==E.retryLane&&(E.retryLane=w,br(u,w,-1))}qy(),f=Lp(u,f,y,Error(o(421)))}else wd(te)?(f.flags|=128,f.child=u.child,f=Pk.bind(null,u),mc(te,f),f=null):(y=E.treeContext,pe&&(tr=ip(te),er=f,rn=!0,jr=null,Cd=!1,y!==null&&(Mr[Er++]=Qs,Mr[Er++]=qs,Mr[Er++]=Qa,Qs=y.id,qs=y.overflow,Qa=f)),f=Ly(f,f.pendingProps.children),f.flags|=4096);return f}return b?(w=YE(u,f,w.children,w.fallback,y),b=f.child,E=u.child.memoizedState,b.memoizedState=E===null?Pp(y):{baseLanes:E.baseLanes|y,cachePool:null},b.childLanes=u.childLanes&~y,f.memoizedState=Rp,w):(y=KE(u,f,w.children,y),f.memoizedState=null,y)}return b?(w=YE(u,f,w.children,w.fallback,y),b=f.child,E=u.child.memoizedState,b.memoizedState=E===null?Pp(y):{baseLanes:E.baseLanes|y,cachePool:null},b.childLanes=u.childLanes&~y,f.memoizedState=Rp,w):(y=KE(u,f,w.children,y),f.memoizedState=null,y)}function Ly(u,f){return f=Qp({mode:"visible",children:f},u.mode,0,null),f.return=u,u.child=f}function KE(u,f,y,w){var E=u.child;return u=E.sibling,y=Wo(E,{mode:"visible",children:y}),!(f.mode&1)&&(y.lanes=w),y.return=f,y.sibling=null,u!==null&&(w=f.deletions,w===null?(f.deletions=[u],f.flags|=16):w.push(u)),f.child=y}function YE(u,f,y,w,E){var b=f.mode;u=u.child;var j=u.sibling,te={mode:"hidden",children:y};return!(b&1)&&f.child!==u?(y=f.child,y.childLanes=0,y.pendingProps=te,f.deletions=null):(y=Wo(u,te),y.subtreeFlags=u.subtreeFlags&14680064),j!==null?w=Wo(j,w):(w=rl(w,b,E,null),w.flags|=2),w.return=f,y.return=f,y.sibling=w,f.child=y,w}function Lp(u,f,y,w){return w!==null&&gy(w),Mc(f,u.child,null,y),u=Ly(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function QE(u,f,y){u.lanes|=f;var w=u.alternate;w!==null&&(w.lanes|=f),ly(u.return,f,y)}function By(u,f,y,w,E){var b=u.memoizedState;b===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:w,tail:y,tailMode:E}:(b.isBackwards=f,b.rendering=null,b.renderingStartTime=0,b.last=w,b.tail=y,b.tailMode=E)}function qE(u,f,y){var w=f.pendingProps,E=w.revealOrder,b=w.tail;if(Ti(u,f,w.children,y),w=an.current,w&2)w=w&1|2,f.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&QE(u,y,f);else if(u.tag===19)QE(u,y,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}w&=1}if(Qe(an,w),!(f.mode&1))f.memoizedState=null;else switch(E){case"forwards":for(y=f.child,E=null;y!==null;)u=y.alternate,u!==null&&xp(u)===null&&(E=y),y=y.sibling;y=E,y===null?(E=f.child,f.child=null):(E=y.sibling,y.sibling=null),By(f,!1,E,y,b);break;case"backwards":for(y=null,E=f.child,f.child=null;E!==null;){if(u=E.alternate,u!==null&&xp(u)===null){f.child=E;break}u=E.sibling,E.sibling=y,y=E,E=u}By(f,!0,y,null,b);break;case"together":By(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function $s(u,f,y){if(u!==null&&(f.dependencies=u.dependencies),Rc|=f.lanes,!(y&f.childLanes))return null;if(u!==null&&f.child!==u.child)throw Error(o(153));if(f.child!==null){for(u=f.child,y=Wo(u,u.pendingProps),f.child=y,y.return=f;u.sibling!==null;)u=u.sibling,y=y.sibling=Wo(u,u.pendingProps),y.return=f;y.sibling=null}return f.child}function yk(u,f,y){switch(f.tag){case 3:jE(f),wc();break;case 5:hE(f);break;case 1:Vn(f.type)&&Wn(f);break;case 4:vy(f,f.stateNode.containerInfo);break;case 10:ZM(f,f.type._context,f.memoizedProps.value);break;case 13:var w=f.memoizedState;if(w!==null)return w.dehydrated!==null?(Qe(an,an.current&1),f.flags|=128,null):y&f.child.childLanes?JE(u,f,y):(Qe(an,an.current&1),u=$s(u,f,y),u!==null?u.sibling:null);Qe(an,an.current&1);break;case 19:if(w=(y&f.childLanes)!==0,u.flags&128){if(w)return qE(u,f,y);f.flags|=128}var E=f.memoizedState;if(E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Qe(an,an.current),w)break;return null;case 22:case 23:return f.lanes=0,GE(u,f,y)}return $s(u,f,y)}function xk(u,f){switch(hy(f),f.tag){case 1:return Vn(f.type)&&Rn(),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return Tc(),ft(mn),ft(Rt),_y(),u=f.flags,u&65536&&!(u&128)?(f.flags=u&-65537|128,f):null;case 5:return yy(f),null;case 13:if(ft(an),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(o(340));wc()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return ft(an),null;case 4:return Tc(),null;case 10:return ay(f.type._context),null;case 22:case 23:return Qy(),null;case 24:return null;default:return null}}var Bp=!1,$a=!1,_k=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Ip(u,f){var y=u.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(w){zi(u,f,w)}else y.current=null}function Iy(u,f,y){try{y()}catch(w){zi(u,f,w)}}var ZE=!1;function Ak(u,f){for(V(u.containerInfo),Ge=f;Ge!==null;)if(u=Ge,f=u.child,(u.subtreeFlags&1028)!==0&&f!==null)f.return=u,Ge=f;else for(;Ge!==null;){u=Ge;try{var y=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,E=y.memoizedState,b=u.stateNode,j=b.getSnapshotBeforeUpdate(u.elementType===u.type?w:Wr(u.type,w),E);b.__reactInternalSnapshotBeforeUpdate=j}break;case 3:He&&Ne(u.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(te){zi(u,u.return,te)}if(f=u.sibling,f!==null){f.return=u.return,Ge=f;break}Ge=u.return}return y=ZE,ZE=!1,y}function el(u,f,y){var w=f.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var E=w=w.next;do{if((E.tag&u)===u){var b=E.destroy;E.destroy=void 0,b!==void 0&&Iy(f,y,b)}E=E.next}while(E!==w)}}function Ud(u,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&u)===u){var w=y.create;y.destroy=w()}y=y.next}while(y!==f)}}function Dy(u){var f=u.ref;if(f!==null){var y=u.stateNode;switch(u.tag){case 5:u=ee(y);break;default:u=y}typeof f=="function"?f(u):f.current=u}}function $E(u,f,y){if(ys&&typeof ys.onCommitFiberUnmount=="function")try{ys.onCommitFiberUnmount(lp,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(u=f.updateQueue,u!==null&&(u=u.lastEffect,u!==null)){var w=u=u.next;do{var E=w,b=E.destroy;E=E.tag,b!==void 0&&(E&2||E&4)&&Iy(f,y,b),w=w.next}while(w!==u)}break;case 1:if(Ip(f,y),u=f.stateNode,typeof u.componentWillUnmount=="function")try{u.props=f.memoizedProps,u.state=f.memoizedState,u.componentWillUnmount()}catch(j){zi(f,y,j)}break;case 5:Ip(f,y);break;case 4:He?sT(u,f,y):J&&J&&(f=f.stateNode.containerInfo,y=me(f),Mt(f,y))}}function eT(u,f,y){for(var w=f;;)if($E(u,w,y),w.child===null||He&&w.tag===4){if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return}w.sibling.return=w.return,w=w.sibling}else w.child.return=w,w=w.child}function tT(u){var f=u.alternate;f!==null&&(u.alternate=null,tT(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&Ye(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function nT(u){return u.tag===5||u.tag===3||u.tag===4}function iT(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||nT(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function rT(u){if(He){e:{for(var f=u.return;f!==null;){if(nT(f))break e;f=f.return}throw Error(o(160))}var y=f;switch(y.tag){case 5:f=y.stateNode,y.flags&32&&(he(f),y.flags&=-33),y=iT(u),Fy(u,y,f);break;case 3:case 4:f=y.stateNode.containerInfo,y=iT(u),Ny(u,y,f);break;default:throw Error(o(161))}}}function Ny(u,f,y){var w=u.tag;if(w===5||w===6)u=u.stateNode,f?Pe(y,u,f):qe(y,u);else if(w!==4&&(u=u.child,u!==null))for(Ny(u,f,y),u=u.sibling;u!==null;)Ny(u,f,y),u=u.sibling}function Fy(u,f,y){var w=u.tag;if(w===5||w===6)u=u.stateNode,f?It(y,u,f):Ce(y,u);else if(w!==4&&(u=u.child,u!==null))for(Fy(u,f,y),u=u.sibling;u!==null;)Fy(u,f,y),u=u.sibling}function sT(u,f,y){for(var w=f,E=!1,b,j;;){if(!E){E=w.return;e:for(;;){if(E===null)throw Error(o(160));switch(b=E.stateNode,E.tag){case 5:j=!1;break e;case 3:b=b.containerInfo,j=!0;break e;case 4:b=b.containerInfo,j=!0;break e}E=E.return}E=!0}if(w.tag===5||w.tag===6)eT(u,w,y),j?Y(b,w.stateNode):Dt(b,w.stateNode);else if(w.tag===18)j?de(b,w.stateNode):ce(b,w.stateNode);else if(w.tag===4){if(w.child!==null){b=w.stateNode.containerInfo,j=!0,w.child.return=w,w=w.child;continue}}else if($E(u,w,y),w.child!==null){w.child.return=w,w=w.child;continue}if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return,w.tag===4&&(E=!1)}w.sibling.return=w.return,w=w.sibling}}function Oy(u,f){if(He){switch(f.tag){case 0:case 11:case 14:case 15:el(3,f,f.return),Ud(3,f),el(5,f,f.return);return;case 1:return;case 5:var y=f.stateNode;if(y!=null){var w=f.memoizedProps;u=u!==null?u.memoizedProps:w;var E=f.type,b=f.updateQueue;f.updateQueue=null,b!==null&&ut(y,b,E,u,w,f)}return;case 6:if(f.stateNode===null)throw Error(o(162));y=f.memoizedProps,Ie(f.stateNode,u!==null?u.memoizedProps:y,y);return;case 3:pe&&u!==null&&u.memoizedState.isDehydrated&&ie(f.stateNode.containerInfo);return;case 12:return;case 13:Dp(f);return;case 19:Dp(f);return;case 17:return}throw Error(o(163))}switch(f.tag){case 0:case 11:case 14:case 15:el(3,f,f.return),Ud(3,f),el(5,f,f.return);return;case 12:return;case 13:Dp(f);return;case 19:Dp(f);return;case 3:pe&&u!==null&&u.memoizedState.isDehydrated&&ie(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(J){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,Mt(f.containerInfo,f.pendingChildren);break e}throw Error(o(163))}}function Dp(u){var f=u.updateQueue;if(f!==null){u.updateQueue=null;var y=u.stateNode;y===null&&(y=u.stateNode=new _k),f.forEach(function(w){var E=Lk.bind(null,u,w);y.has(w)||(y.add(w),w.then(E,E))})}}function Sk(u,f){for(Ge=f;Ge!==null;){f=Ge;var y=f.deletions;if(y!==null)for(var w=0;w<y.length;w++){var E=y[w];try{var b=u;He?sT(b,E,f):eT(b,E,f);var j=E.alternate;j!==null&&(j.return=null),E.return=null}catch(et){zi(E,f,et)}}if(y=f.child,f.subtreeFlags&12854&&y!==null)y.return=f,Ge=y;else for(;Ge!==null;){f=Ge;try{var te=f.flags;if(te&32&&He&&he(f.stateNode),te&512){var fe=f.alternate;if(fe!==null){var Le=fe.ref;Le!==null&&(typeof Le=="function"?Le(null):Le.current=null)}}if(te&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var Ke=f.alternate;(Ke===null||Ke.memoizedState===null)&&(Wy=jn())}break;case 22:var vt=f.memoizedState!==null,rt=f.alternate,Yt=rt!==null&&rt.memoizedState!==null;if(y=f,He){e:if(w=y,E=vt,b=null,He)for(var nt=w;;){if(nt.tag===5){if(b===null){b=nt;var di=nt.stateNode;E?Me(di):it(nt.stateNode,nt.memoizedProps)}}else if(nt.tag===6){if(b===null){var Pr=nt.stateNode;E?we(Pr):Z(Pr,nt.memoizedProps)}}else if((nt.tag!==22&&nt.tag!==23||nt.memoizedState===null||nt===w)&&nt.child!==null){nt.child.return=nt,nt=nt.child;continue}if(nt===w)break;for(;nt.sibling===null;){if(nt.return===null||nt.return===w)break e;b===nt&&(b=null),nt=nt.return}b===nt&&(b=null),nt.sibling.return=nt.return,nt=nt.sibling}}if(vt&&!Yt&&y.mode&1){Ge=y;for(var se=y.child;se!==null;){for(y=Ge=se;Ge!==null;){w=Ge;var ne=w.child;switch(w.tag){case 0:case 11:case 14:case 15:el(4,w,w.return);break;case 1:Ip(w,w.return);var le=w.stateNode;if(typeof le.componentWillUnmount=="function"){var Ve=w.return;try{le.props=w.memoizedProps,le.state=w.memoizedState,le.componentWillUnmount()}catch(et){zi(w,Ve,et)}}break;case 5:Ip(w,w.return);break;case 22:if(w.memoizedState!==null){lT(y);continue}}ne!==null?(ne.return=w,Ge=ne):lT(y)}se=se.sibling}}}switch(te&4102){case 2:rT(f),f.flags&=-3;break;case 6:rT(f),f.flags&=-3,Oy(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,Oy(f.alternate,f);break;case 4:Oy(f.alternate,f)}}catch(et){zi(f,f.return,et)}if(y=f.sibling,y!==null){y.return=f.return,Ge=y;break}Ge=f.return}}}function wk(u,f,y){Ge=u,oT(u)}function oT(u,f,y){for(var w=(u.mode&1)!==0;Ge!==null;){var E=Ge,b=E.child;if(E.tag===22&&w){var j=E.memoizedState!==null||Bp;if(!j){var te=E.alternate,fe=te!==null&&te.memoizedState!==null||$a;te=Bp;var Le=$a;if(Bp=j,($a=fe)&&!Le)for(Ge=E;Ge!==null;)j=Ge,fe=j.child,j.tag===22&&j.memoizedState!==null?cT(E):fe!==null?(fe.return=j,Ge=fe):cT(E);for(;b!==null;)Ge=b,oT(b),b=b.sibling;Ge=E,Bp=te,$a=Le}aT(u)}else E.subtreeFlags&8772&&b!==null?(b.return=E,Ge=b):aT(u)}}function aT(u){for(;Ge!==null;){var f=Ge;if(f.flags&8772){var y=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:$a||Ud(5,f);break;case 1:var w=f.stateNode;if(f.flags&4&&!$a)if(y===null)w.componentDidMount();else{var E=f.elementType===f.type?y.memoizedProps:Wr(f.type,y.memoizedProps);w.componentDidUpdate(E,y.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var b=f.updateQueue;b!==null&&tE(f,b,w);break;case 3:var j=f.updateQueue;if(j!==null){if(y=null,f.child!==null)switch(f.child.tag){case 5:y=ee(f.child.stateNode);break;case 1:y=f.child.stateNode}tE(f,j,y)}break;case 5:var te=f.stateNode;y===null&&f.flags&4&&Ue(te,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(pe&&f.memoizedState===null){var fe=f.alternate;if(fe!==null){var Le=fe.memoizedState;if(Le!==null){var Ke=Le.dehydrated;Ke!==null&&ae(Ke)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}$a||f.flags&512&&Dy(f)}catch(vt){zi(f,f.return,vt)}}if(f===u){Ge=null;break}if(y=f.sibling,y!==null){y.return=f.return,Ge=y;break}Ge=f.return}}function lT(u){for(;Ge!==null;){var f=Ge;if(f===u){Ge=null;break}var y=f.sibling;if(y!==null){y.return=f.return,Ge=y;break}Ge=f.return}}function cT(u){for(;Ge!==null;){var f=Ge;try{switch(f.tag){case 0:case 11:case 15:var y=f.return;try{Ud(4,f)}catch(fe){zi(f,y,fe)}break;case 1:var w=f.stateNode;if(typeof w.componentDidMount=="function"){var E=f.return;try{w.componentDidMount()}catch(fe){zi(f,E,fe)}}var b=f.return;try{Dy(f)}catch(fe){zi(f,b,fe)}break;case 5:var j=f.return;try{Dy(f)}catch(fe){zi(f,j,fe)}}}catch(fe){zi(f,f.return,fe)}if(f===u){Ge=null;break}var te=f.sibling;if(te!==null){te.return=f.return,Ge=te;break}Ge=f.return}}var Np=0,Fp=1,Op=2,kp=3,Up=4;if(typeof Symbol=="function"&&Symbol.for){var zd=Symbol.for;Np=zd("selector.component"),Fp=zd("selector.has_pseudo_class"),Op=zd("selector.role"),kp=zd("selector.test_id"),Up=zd("selector.text")}function ky(u){var f=re(u);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(u=wt(u),u===null)throw Error(o(362));return u.stateNode.current}function Uy(u,f){switch(f.$$typeof){case Np:if(u.type===f.value)return!0;break;case Fp:e:{f=f.value,u=[u,0];for(var y=0;y<u.length;){var w=u[y++],E=u[y++],b=f[E];if(w.tag!==5||!N(w)){for(;b!=null&&Uy(w,b);)E++,b=f[E];if(E===f.length){f=!0;break e}else for(w=w.child;w!==null;)u.push(w,E),w=w.sibling}}f=!1}return f;case Op:if(u.tag===5&&oe(u.stateNode,f.value))return!0;break;case Up:if((u.tag===5||u.tag===6)&&(u=X(u),u!==null&&0<=u.indexOf(f.value)))return!0;break;case kp:if(u.tag===5&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function zy(u){switch(u.$$typeof){case Np:return"<"+(P(u.value)||"Unknown")+">";case Fp:return":has("+(zy(u)||"")+")";case Op:return'[role="'+u.value+'"]';case Up:return'"'+u.value+'"';case kp:return'[data-testname="'+u.value+'"]';default:throw Error(o(365))}}function uT(u,f){var y=[];u=[u,0];for(var w=0;w<u.length;){var E=u[w++],b=u[w++],j=f[b];if(E.tag!==5||!N(E)){for(;j!=null&&Uy(E,j);)b++,j=f[b];if(b===f.length)y.push(E);else for(E=E.child;E!==null;)u.push(E,b),E=E.sibling}}return y}function Hy(u,f){if(!at)throw Error(o(363));u=ky(u),u=uT(u,f),f=[],u=Array.from(u);for(var y=0;y<u.length;){var w=u[y++];if(w.tag===5)N(w)||f.push(w.stateNode);else for(w=w.child;w!==null;)u.push(w),w=w.sibling}return f}var Mk=Math.ceil,zp=a.ReactCurrentDispatcher,Gy=a.ReactCurrentOwner,En=a.ReactCurrentBatchConfig,bt=0,Pn=null,Ln=null,ni=0,ir=0,bc=Gn(0),Dn=0,Hd=null,Rc=0,Hp=0,Vy=0,Gd=null,ki=null,Wy=0,jy=1/0;function Pc(){jy=jn()+500}var Gp=!1,Xy=null,zo=null,Vp=!1,Ho=null,Wp=0,Vd=0,Jy=null,jp=-1,Xp=0;function Ci(){return bt&6?jn():jp!==-1?jp:jp=jn()}function Go(u){return u.mode&1?bt&2&&ni!==0?ni&-ni:ok.transition!==null?(Xp===0&&(u=sp,sp<<=1,!(sp&4194240)&&(sp=64),Xp=u),Xp):(u=kt,u!==0?u:ye()):1}function br(u,f,y){if(50<Vd)throw Vd=0,Jy=null,Error(o(185));var w=Jp(u,f);return w===null?null:(Td(w,f,y),(!(bt&2)||w!==Pn)&&(w===Pn&&(!(bt&2)&&(Hp|=f),Dn===4&&Vo(w,ni)),Ui(w,y),f===1&&bt===0&&!(u.mode&1)&&(Pc(),cp&&_s())),w)}function Jp(u,f){u.lanes|=f;var y=u.alternate;for(y!==null&&(y.lanes|=f),y=u,u=u.return;u!==null;)u.childLanes|=f,y=u.alternate,y!==null&&(y.childLanes|=f),y=u,u=u.return;return y.tag===3?y.stateNode:null}function Ui(u,f){var y=u.callbackNode;qO(u,f);var w=ap(u,u===Pn?ni:0);if(w===0)y!==null&&QM(y),u.callbackNode=null,u.callbackPriority=0;else if(f=w&-w,u.callbackPriority!==f){if(y!=null&&QM(y),f===1)u.tag===0?sk(fT.bind(null,u)):qM(fT.bind(null,u)),ke?We(function(){bt===0&&_s()}):ty(ny,_s),y=null;else{switch(YM(w)){case 1:y=ny;break;case 4:y=tk;break;case 16:y=iy;break;case 536870912:y=nk;break;default:y=iy}y=AT(y,dT.bind(null,u))}u.callbackPriority=f,u.callbackNode=y}}function dT(u,f){if(jp=-1,Xp=0,bt&6)throw Error(o(327));var y=u.callbackNode;if(il()&&u.callbackNode!==y)return null;var w=ap(u,u===Pn?ni:0);if(w===0)return null;if(w&30||w&u.expiredLanes||f)f=Kp(u,w);else{f=w;var E=bt;bt|=2;var b=mT();(Pn!==u||ni!==f)&&(Pc(),tl(u,f));do try{Ck();break}catch(te){pT(u,te)}while(!0);oy(),zp.current=b,bt=E,Ln!==null?f=0:(Pn=null,ni=0,f=Dn)}if(f!==0){if(f===2&&(E=Zv(u),E!==0&&(w=E,f=Ky(u,E))),f===1)throw y=Hd,tl(u,0),Vo(u,w),Ui(u,jn()),y;if(f===6)Vo(u,w);else{if(E=u.current.alternate,!(w&30)&&!Ek(E)&&(f=Kp(u,w),f===2&&(b=Zv(u),b!==0&&(w=b,f=Ky(u,b))),f===1))throw y=Hd,tl(u,0),Vo(u,w),Ui(u,jn()),y;switch(u.finishedWork=E,u.finishedLanes=w,f){case 0:case 1:throw Error(o(345));case 2:nl(u,ki);break;case 3:if(Vo(u,w),(w&130023424)===w&&(f=Wy+500-jn(),10<f)){if(ap(u,0)!==0)break;if(E=u.suspendedLanes,(E&w)!==w){Ci(),u.pingedLanes|=u.suspendedLanes&E;break}u.timeoutHandle=Be(nl.bind(null,u,ki),f);break}nl(u,ki);break;case 4:if(Vo(u,w),(w&4194240)===w)break;for(f=u.eventTimes,E=-1;0<w;){var j=31-$i(w);b=1<<j,j=f[j],j>E&&(E=j),w&=~b}if(w=E,w=jn()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*Mk(w/1960))-w,10<w){u.timeoutHandle=Be(nl.bind(null,u,ki),w);break}nl(u,ki);break;case 5:nl(u,ki);break;default:throw Error(o(329))}}}return Ui(u,jn()),u.callbackNode===y?dT.bind(null,u):null}function Ky(u,f){var y=Gd;return u.current.memoizedState.isDehydrated&&(tl(u,f).flags|=256),u=Kp(u,f),u!==2&&(f=ki,ki=y,f!==null&&Yy(f)),u}function Yy(u){ki===null?ki=u:ki.push.apply(ki,u)}function Ek(u){for(var f=u;;){if(f.flags&16384){var y=f.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var w=0;w<y.length;w++){var E=y[w],b=E.getSnapshot;E=E.value;try{if(!xs(b(),E))return!1}catch{return!1}}}if(y=f.child,f.subtreeFlags&16384&&y!==null)y.return=f,f=y;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Vo(u,f){for(f&=~Vy,f&=~Hp,u.suspendedLanes|=f,u.pingedLanes&=~f,u=u.expirationTimes;0<f;){var y=31-$i(f),w=1<<y;u[y]=-1,f&=~w}}function fT(u){if(bt&6)throw Error(o(327));il();var f=ap(u,0);if(!(f&1))return Ui(u,jn()),null;var y=Kp(u,f);if(u.tag!==0&&y===2){var w=Zv(u);w!==0&&(f=w,y=Ky(u,w))}if(y===1)throw y=Hd,tl(u,0),Vo(u,f),Ui(u,jn()),y;if(y===6)throw Error(o(345));return u.finishedWork=u.current.alternate,u.finishedLanes=f,nl(u,ki),Ui(u,jn()),null}function hT(u){Ho!==null&&Ho.tag===0&&!(bt&6)&&il();var f=bt;bt|=1;var y=En.transition,w=kt;try{if(En.transition=null,kt=1,u)return u()}finally{kt=w,En.transition=y,bt=f,!(bt&6)&&_s()}}function Qy(){ir=bc.current,ft(bc)}function tl(u,f){u.finishedWork=null,u.finishedLanes=0;var y=u.timeoutHandle;if(y!==Je&&(u.timeoutHandle=Je,Oe(y)),Ln!==null)for(y=Ln.return;y!==null;){var w=y;switch(hy(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&Rn();break;case 3:Tc(),ft(mn),ft(Rt),_y();break;case 5:yy(w);break;case 4:Tc();break;case 13:ft(an);break;case 19:ft(an);break;case 10:ay(w.type._context);break;case 22:case 23:Qy()}y=y.return}if(Pn=u,Ln=u=Wo(u.current,null),ni=ir=f,Dn=0,Hd=null,Vy=Hp=Rc=0,ki=Gd=null,As!==null){for(f=0;f<As.length;f++)if(y=As[f],w=y.interleaved,w!==null){y.interleaved=null;var E=w.next,b=y.pending;if(b!==null){var j=b.next;b.next=E,w.next=j}y.pending=w}As=null}return u}function pT(u,f){do{var y=Ln;try{if(oy(),_p.current=Tp,Ap){for(var w=gn.memoizedState;w!==null;){var E=w.queue;E!==null&&(E.pending=null),w=w.next}Ap=!1}if(Cc=0,Xn=li=gn=null,Bd=!1,Id=0,Gy.current=null,y===null||y.return===null){Dn=1,Hd=f,Ln=null;break}e:{var b=u,j=y.return,te=y,fe=f;if(f=ni,te.flags|=32768,fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Le=fe,Ke=te,vt=Ke.tag;if(!(Ke.mode&1)&&(vt===0||vt===11||vt===15)){var rt=Ke.alternate;rt?(Ke.updateQueue=rt.updateQueue,Ke.memoizedState=rt.memoizedState,Ke.lanes=rt.lanes):(Ke.updateQueue=null,Ke.memoizedState=null)}var Yt=NE(j);if(Yt!==null){Yt.flags&=-257,FE(Yt,j,te,b,f),Yt.mode&1&&DE(b,Le,f),f=Yt,fe=Le;var nt=f.updateQueue;if(nt===null){var di=new Set;di.add(fe),f.updateQueue=di}else nt.add(fe);break e}else{if(!(f&1)){DE(b,Le,f),qy();break e}fe=Error(o(426))}}else if(rn&&te.mode&1){var Pr=NE(j);if(Pr!==null){!(Pr.flags&65536)&&(Pr.flags|=256),FE(Pr,j,te,b,f),gy(fe);break e}}b=fe,Dn!==4&&(Dn=2),Gd===null?Gd=[b]:Gd.push(b),fe=Cy(fe,te),te=j;do{switch(te.tag){case 3:te.flags|=65536,f&=-f,te.lanes|=f;var se=BE(te,fe,f);eE(te,se);break e;case 1:b=fe;var ne=te.type,le=te.stateNode;if(!(te.flags&128)&&(typeof ne.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(zo===null||!zo.has(le)))){te.flags|=65536,f&=-f,te.lanes|=f;var Ve=IE(te,b,f);eE(te,Ve);break e}}te=te.return}while(te!==null)}vT(y)}catch(et){f=et,Ln===y&&y!==null&&(Ln=y=y.return);continue}break}while(!0)}function mT(){var u=zp.current;return zp.current=Tp,u===null?Tp:u}function qy(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),Pn===null||!(Rc&268435455)&&!(Hp&268435455)||Vo(Pn,ni)}function Kp(u,f){var y=bt;bt|=2;var w=mT();Pn===u&&ni===f||tl(u,f);do try{Tk();break}catch(E){pT(u,E)}while(!0);if(oy(),bt=y,zp.current=w,Ln!==null)throw Error(o(261));return Pn=null,ni=0,Dn}function Tk(){for(;Ln!==null;)gT(Ln)}function Ck(){for(;Ln!==null&&!$O();)gT(Ln)}function gT(u){var f=_T(u.alternate,u,ir);u.memoizedProps=u.pendingProps,f===null?vT(u):Ln=f,Gy.current=null}function vT(u){var f=u;do{var y=f.alternate;if(u=f.return,f.flags&32768){if(y=xk(y,f),y!==null){y.flags&=32767,Ln=y;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Dn=6,Ln=null;return}}else if(y=gk(y,f,ir),y!==null){Ln=y;return}if(f=f.sibling,f!==null){Ln=f;return}Ln=f=u}while(f!==null);Dn===0&&(Dn=5)}function nl(u,f){var y=kt,w=En.transition;try{En.transition=null,kt=1,bk(u,f,y)}finally{En.transition=w,kt=y}return null}function bk(u,f,y){do il();while(Ho!==null);if(bt&6)throw Error(o(327));var w=u.finishedWork,E=u.finishedLanes;if(w===null)return null;if(u.finishedWork=null,u.finishedLanes=0,w===u.current)throw Error(o(177));u.callbackNode=null,u.callbackPriority=0;var b=w.lanes|w.childLanes;if(ZO(u,b),u===Pn&&(Ln=Pn=null,ni=0),!(w.subtreeFlags&2064)&&!(w.flags&2064)||Vp||(Vp=!0,AT(iy,function(){return il(),null})),b=(w.flags&15990)!==0,w.subtreeFlags&15990||b){b=En.transition,En.transition=null;var j=kt;kt=1;var te=bt;bt|=4,Gy.current=null,Ak(u,w),Sk(u,w),W(u.containerInfo),u.current=w,wk(w),ek(),bt=te,kt=j,En.transition=b}else u.current=w;if(Vp&&(Vp=!1,Ho=u,Wp=E),b=u.pendingLanes,b===0&&(zo=null),ik(w.stateNode),Ui(u,jn()),f!==null)for(y=u.onRecoverableError,w=0;w<f.length;w++)y(f[w]);if(Gp)throw Gp=!1,u=Xy,Xy=null,u;return Wp&1&&u.tag!==0&&il(),b=u.pendingLanes,b&1?u===Jy?Vd++:(Vd=0,Jy=u):Vd=0,_s(),null}function il(){if(Ho!==null){var u=YM(Wp),f=En.transition,y=kt;try{if(En.transition=null,kt=16>u?16:u,Ho===null)var w=!1;else{if(u=Ho,Ho=null,Wp=0,bt&6)throw Error(o(331));var E=bt;for(bt|=4,Ge=u.current;Ge!==null;){var b=Ge,j=b.child;if(Ge.flags&16){var te=b.deletions;if(te!==null){for(var fe=0;fe<te.length;fe++){var Le=te[fe];for(Ge=Le;Ge!==null;){var Ke=Ge;switch(Ke.tag){case 0:case 11:case 15:el(8,Ke,b)}var vt=Ke.child;if(vt!==null)vt.return=Ke,Ge=vt;else for(;Ge!==null;){Ke=Ge;var rt=Ke.sibling,Yt=Ke.return;if(tT(Ke),Ke===Le){Ge=null;break}if(rt!==null){rt.return=Yt,Ge=rt;break}Ge=Yt}}}var nt=b.alternate;if(nt!==null){var di=nt.child;if(di!==null){nt.child=null;do{var Pr=di.sibling;di.sibling=null,di=Pr}while(di!==null)}}Ge=b}}if(b.subtreeFlags&2064&&j!==null)j.return=b,Ge=j;else e:for(;Ge!==null;){if(b=Ge,b.flags&2048)switch(b.tag){case 0:case 11:case 15:el(9,b,b.return)}var se=b.sibling;if(se!==null){se.return=b.return,Ge=se;break e}Ge=b.return}}var ne=u.current;for(Ge=ne;Ge!==null;){j=Ge;var le=j.child;if(j.subtreeFlags&2064&&le!==null)le.return=j,Ge=le;else e:for(j=ne;Ge!==null;){if(te=Ge,te.flags&2048)try{switch(te.tag){case 0:case 11:case 15:Ud(9,te)}}catch(et){zi(te,te.return,et)}if(te===j){Ge=null;break e}var Ve=te.sibling;if(Ve!==null){Ve.return=te.return,Ge=Ve;break e}Ge=te.return}}if(bt=E,_s(),ys&&typeof ys.onPostCommitFiberRoot=="function")try{ys.onPostCommitFiberRoot(lp,u)}catch{}w=!0}return w}finally{kt=y,En.transition=f}}return!1}function yT(u,f,y){f=Cy(y,f),f=BE(u,f,1),Uo(u,f),f=Ci(),u=Jp(u,1),u!==null&&(Td(u,1,f),Ui(u,f))}function zi(u,f,y){if(u.tag===3)yT(u,u,y);else for(;f!==null;){if(f.tag===3){yT(f,u,y);break}else if(f.tag===1){var w=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(zo===null||!zo.has(w))){u=Cy(y,u),u=IE(f,u,1),Uo(f,u),u=Ci(),f=Jp(f,1),f!==null&&(Td(f,1,u),Ui(f,u));break}}f=f.return}}function Rk(u,f,y){var w=u.pingCache;w!==null&&w.delete(f),f=Ci(),u.pingedLanes|=u.suspendedLanes&y,Pn===u&&(ni&y)===y&&(Dn===4||Dn===3&&(ni&130023424)===ni&&500>jn()-Wy?tl(u,0):Vy|=y),Ui(u,f)}function xT(u,f){f===0&&(u.mode&1?(f=op,op<<=1,!(op&130023424)&&(op=4194304)):f=1);var y=Ci();u=Jp(u,f),u!==null&&(Td(u,f,y),Ui(u,y))}function Pk(u){var f=u.memoizedState,y=0;f!==null&&(y=f.retryLane),xT(u,y)}function Lk(u,f){var y=0;switch(u.tag){case 13:var w=u.stateNode,E=u.memoizedState;E!==null&&(y=E.retryLane);break;case 19:w=u.stateNode;break;default:throw Error(o(314))}w!==null&&w.delete(f),xT(u,y)}var _T;_T=function(u,f,y){if(u!==null)if(u.memoizedProps!==f.pendingProps||mn.current)nr=!0;else{if(!(u.lanes&y)&&!(f.flags&128))return nr=!1,yk(u,f,y);nr=!!(u.flags&131072)}else nr=!1,rn&&f.flags&1048576&&oE(f,vp,f.index);switch(f.lanes=0,f.tag){case 2:var w=f.type;u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),u=f.pendingProps;var E=Sr(f,Rt.current);_c(f,y),E=Sy(null,f,w,u,E,y);var b=wy();return f.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,Vn(w)?(b=!0,Wn(f)):b=!1,f.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,cy(f),E.updater=mp,f.stateNode=E,E._reactInternals=f,dy(f,w,u,y),f=Py(null,f,w,!0,b,y)):(f.tag=0,rn&&b&&fy(f),Ti(null,f,E,y),f=f.child),f;case 16:w=f.elementType;e:{switch(u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),u=f.pendingProps,E=w._init,w=E(w._payload),f.type=w,E=f.tag=Ik(w),u=Wr(w,u),E){case 0:f=Ry(null,f,w,u,y);break e;case 1:f=WE(null,f,w,u,y);break e;case 11:f=UE(null,f,w,u,y);break e;case 14:f=zE(null,f,w,Wr(w.type,u),y);break e}throw Error(o(306,w,""))}return f;case 0:return w=f.type,E=f.pendingProps,E=f.elementType===w?E:Wr(w,E),Ry(u,f,w,E,y);case 1:return w=f.type,E=f.pendingProps,E=f.elementType===w?E:Wr(w,E),WE(u,f,w,E,y);case 3:e:{if(jE(f),u===null)throw Error(o(387));w=f.pendingProps,b=f.memoizedState,E=b.element,$M(u,f),pp(f,w,null,y);var j=f.memoizedState;if(w=j.element,pe&&b.isDehydrated)if(b={element:w,isDehydrated:!1,cache:j.cache,transitions:j.transitions},f.updateQueue.baseState=b,f.memoizedState=b,f.flags&256){E=Error(o(423)),f=XE(u,f,w,y,E);break e}else if(w!==E){E=Error(o(424)),f=XE(u,f,w,y,E);break e}else for(pe&&(tr=np(f.stateNode.containerInfo),er=f,rn=!0,jr=null,Cd=!1),y=fE(f,null,w,y),f.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(wc(),w===E){f=$s(u,f,y);break e}Ti(u,f,w,y)}f=f.child}return f;case 5:return hE(f),u===null&&my(f),w=f.type,E=f.pendingProps,b=u!==null?u.memoizedProps:null,j=E.children,Ae(w,E)?j=null:b!==null&&Ae(w,b)&&(f.flags|=32),VE(u,f),Ti(u,f,j,y),f.child;case 6:return u===null&&my(f),null;case 13:return JE(u,f,y);case 4:return vy(f,f.stateNode.containerInfo),w=f.pendingProps,u===null?f.child=Mc(f,null,w,y):Ti(u,f,w,y),f.child;case 11:return w=f.type,E=f.pendingProps,E=f.elementType===w?E:Wr(w,E),UE(u,f,w,E,y);case 7:return Ti(u,f,f.pendingProps,y),f.child;case 8:return Ti(u,f,f.pendingProps.children,y),f.child;case 12:return Ti(u,f,f.pendingProps.children,y),f.child;case 10:e:{if(w=f.type._context,E=f.pendingProps,b=f.memoizedProps,j=E.value,ZM(f,w,j),b!==null)if(xs(b.value,j)){if(b.children===E.children&&!mn.current){f=$s(u,f,y);break e}}else for(b=f.child,b!==null&&(b.return=f);b!==null;){var te=b.dependencies;if(te!==null){j=b.child;for(var fe=te.firstContext;fe!==null;){if(fe.context===w){if(b.tag===1){fe=Ys(-1,y&-y),fe.tag=2;var Le=b.updateQueue;if(Le!==null){Le=Le.shared;var Ke=Le.pending;Ke===null?fe.next=fe:(fe.next=Ke.next,Ke.next=fe),Le.pending=fe}}b.lanes|=y,fe=b.alternate,fe!==null&&(fe.lanes|=y),ly(b.return,y,f),te.lanes|=y;break}fe=fe.next}}else if(b.tag===10)j=b.type===f.type?null:b.child;else if(b.tag===18){if(j=b.return,j===null)throw Error(o(341));j.lanes|=y,te=j.alternate,te!==null&&(te.lanes|=y),ly(j,y,f),j=b.sibling}else j=b.child;if(j!==null)j.return=b;else for(j=b;j!==null;){if(j===f){j=null;break}if(b=j.sibling,b!==null){b.return=j.return,j=b;break}j=j.return}b=j}Ti(u,f,E.children,y),f=f.child}return f;case 9:return E=f.type,w=f.pendingProps.children,_c(f,y),E=wr(E),w=w(E),f.flags|=1,Ti(u,f,w,y),f.child;case 14:return w=f.type,E=Wr(w,f.pendingProps),E=Wr(w.type,E),zE(u,f,w,E,y);case 15:return HE(u,f,f.type,f.pendingProps,y);case 17:return w=f.type,E=f.pendingProps,E=f.elementType===w?E:Wr(w,E),u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,Vn(w)?(u=!0,Wn(f)):u=!1,_c(f,y),rE(f,w,E),dy(f,w,E,y),Py(null,f,w,!0,u,y);case 19:return qE(u,f,y);case 22:return GE(u,f,y)}throw Error(o(156,f.tag))};function AT(u,f){return ty(u,f)}function Bk(u,f,y,w){this.tag=u,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(u,f,y,w){return new Bk(u,f,y,w)}function Zy(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Ik(u){if(typeof u=="function")return Zy(u)?1:0;if(u!=null){if(u=u.$$typeof,u===_)return 11;if(u===A)return 14}return 2}function Wo(u,f){var y=u.alternate;return y===null?(y=Rr(u.tag,f,u.key,u.mode),y.elementType=u.elementType,y.type=u.type,y.stateNode=u.stateNode,y.alternate=u,u.alternate=y):(y.pendingProps=f,y.type=u.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=u.flags&14680064,y.childLanes=u.childLanes,y.lanes=u.lanes,y.child=u.child,y.memoizedProps=u.memoizedProps,y.memoizedState=u.memoizedState,y.updateQueue=u.updateQueue,f=u.dependencies,y.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},y.sibling=u.sibling,y.index=u.index,y.ref=u.ref,y}function Yp(u,f,y,w,E,b){var j=2;if(w=u,typeof u=="function")Zy(u)&&(j=1);else if(typeof u=="string")j=5;else e:switch(u){case d:return rl(y.children,E,b,f);case h:j=8,E|=8;break;case p:return u=Rr(12,y,f,E|2),u.elementType=p,u.lanes=b,u;case x:return u=Rr(13,y,f,E),u.elementType=x,u.lanes=b,u;case g:return u=Rr(19,y,f,E),u.elementType=g,u.lanes=b,u;case M:return Qp(y,E,b,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case m:j=10;break e;case v:j=9;break e;case _:j=11;break e;case A:j=14;break e;case S:j=16,w=null;break e}throw Error(o(130,u==null?u:typeof u,""))}return f=Rr(j,y,f,E),f.elementType=u,f.type=w,f.lanes=b,f}function rl(u,f,y,w){return u=Rr(7,u,w,f),u.lanes=y,u}function Qp(u,f,y,w){return u=Rr(22,u,w,f),u.elementType=M,u.lanes=y,u.stateNode={},u}function $y(u,f,y){return u=Rr(6,u,null,f),u.lanes=y,u}function ex(u,f,y){return f=Rr(4,u.children!==null?u.children:[],u.key,f),f.lanes=y,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function Dk(u,f,y,w,E){this.tag=f,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Je,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$v(0),this.expirationTimes=$v(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$v(0),this.identifierPrefix=w,this.onRecoverableError=E,pe&&(this.mutableSourceEagerHydrationData=null)}function ST(u,f,y,w,E,b,j,te,fe){return u=new Dk(u,f,y,te,fe),f===1?(f=1,b===!0&&(f|=8)):f=0,b=Rr(3,null,null,f),u.current=b,b.stateNode=u,b.memoizedState={element:w,isDehydrated:y,cache:null,transitions:null},cy(b),u}function wT(u){if(!u)return Ar;u=u._reactInternals;e:{if(R(u)!==u||u.tag!==1)throw Error(o(170));var f=u;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(Vn(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(u.tag===1){var y=u.type;if(Vn(y))return vc(u,y,f)}return f}function MT(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(o(188)):(u=Object.keys(u).join(","),Error(o(268,u)));return u=G(f),u===null?null:u.stateNode}function ET(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var y=u.retryLane;u.retryLane=y!==0&&y<f?y:f}}function tx(u,f){ET(u,f),(u=u.alternate)&&ET(u,f)}function Nk(u){return u=G(u),u===null?null:u.stateNode}function Fk(){return null}return t.attemptContinuousHydration=function(u){if(u.tag===13){var f=Ci();br(u,134217728,f),tx(u,134217728)}},t.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var f=Ci(),y=Go(u);br(u,y,f),tx(u,y)}},t.attemptSynchronousHydration=function(u){switch(u.tag){case 3:var f=u.stateNode;if(f.current.memoizedState.isDehydrated){var y=Ed(f.pendingLanes);y!==0&&(ey(f,y|1),Ui(f,jn()),!(bt&6)&&(Pc(),_s()))}break;case 13:var w=Ci();hT(function(){return br(u,1,w)}),tx(u,1)}},t.batchedUpdates=function(u,f){var y=bt;bt|=1;try{return u(f)}finally{bt=y,bt===0&&(Pc(),cp&&_s())}},t.createComponentSelector=function(u){return{$$typeof:Np,value:u}},t.createContainer=function(u,f,y,w,E,b,j){return ST(u,f,!1,null,y,w,E,b,j)},t.createHasPseudoClassSelector=function(u){return{$$typeof:Fp,value:u}},t.createHydrationContainer=function(u,f,y,w,E,b,j,te,fe){return u=ST(y,w,!0,u,E,b,j,te,fe),u.context=wT(null),y=u.current,w=Ci(),E=Go(y),b=Ys(w,E),b.callback=f??null,Uo(y,b),u.current.lanes=E,Td(u,E,w),Ui(u,w),u},t.createPortal=function(u,f,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:u,containerInfo:f,implementation:y}},t.createRoleSelector=function(u){return{$$typeof:Op,value:u}},t.createTestNameSelector=function(u){return{$$typeof:kp,value:u}},t.createTextSelector=function(u){return{$$typeof:Up,value:u}},t.deferredUpdates=function(u){var f=kt,y=En.transition;try{return En.transition=null,kt=16,u()}finally{kt=f,En.transition=y}},t.discreteUpdates=function(u,f,y,w,E){var b=kt,j=En.transition;try{return En.transition=null,kt=1,u(f,y,w,E)}finally{kt=b,En.transition=j,bt===0&&Pc()}},t.findAllNodes=Hy,t.findBoundingRects=function(u,f){if(!at)throw Error(o(363));f=Hy(u,f),u=[];for(var y=0;y<f.length;y++)u.push(Kt(f[y]));for(f=u.length-1;0<f;f--){y=u[f];for(var w=y.x,E=w+y.width,b=y.y,j=b+y.height,te=f-1;0<=te;te--)if(f!==te){var fe=u[te],Le=fe.x,Ke=Le+fe.width,vt=fe.y,rt=vt+fe.height;if(w>=Le&&b>=vt&&E<=Ke&&j<=rt){u.splice(f,1);break}else if(w!==Le||y.width!==fe.width||rt<b||vt>j){if(!(b!==vt||y.height!==fe.height||Ke<w||Le>E)){Le>w&&(fe.width+=Le-w,fe.x=w),Ke<E&&(fe.width=E-Le),u.splice(f,1);break}}else{vt>b&&(fe.height+=vt-b,fe.y=b),rt<j&&(fe.height=j-vt),u.splice(f,1);break}}}return u},t.findHostInstance=MT,t.findHostInstanceWithNoPortals=function(u){return u=O(u),u=u!==null?F(u):null,u===null?null:u.stateNode},t.findHostInstanceWithWarning=function(u){return MT(u)},t.flushControlled=function(u){var f=bt;bt|=1;var y=En.transition,w=kt;try{En.transition=null,kt=1,u()}finally{kt=w,En.transition=y,bt=f,bt===0&&(Pc(),_s())}},t.flushPassiveEffects=il,t.flushSync=hT,t.focusWithin=function(u,f){if(!at)throw Error(o(363));for(u=ky(u),f=uT(u,f),f=Array.from(f),u=0;u<f.length;){var y=f[u++];if(!N(y)){if(y.tag===5&&Re(y.stateNode))return!0;for(y=y.child;y!==null;)f.push(y),y=y.sibling}}return!1},t.getCurrentUpdatePriority=function(){return kt},t.getFindAllNodesFailureDescription=function(u,f){if(!at)throw Error(o(363));var y=0,w=[];u=[ky(u),0];for(var E=0;E<u.length;){var b=u[E++],j=u[E++],te=f[j];if((b.tag!==5||!N(b))&&(Uy(b,te)&&(w.push(zy(te)),j++,j>y&&(y=j)),j<f.length))for(b=b.child;b!==null;)u.push(b,j),b=b.sibling}if(y<f.length){for(u=[];y<f.length;y++)u.push(zy(f[y]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},t.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return ee(u.child.stateNode);default:return u.child.stateNode}},t.injectIntoDevTools=function(u){if(u={bundleType:u.bundleType,version:u.version,rendererPackageName:u.rendererPackageName,rendererConfig:u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:Nk,findFiberByHostInstance:u.findFiberByHostInstance||Fk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)u=!0;else{try{lp=f.inject(u),ys=f}catch{}u=!!f.checkDCE}}return u},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(u,f,y,w){if(!at)throw Error(o(363));u=Hy(u,f);var E=Se(u,y,w).disconnect;return{disconnect:function(){E()}}},t.registerMutableSourceForHydration=function(u,f){var y=f._getVersion;y=y(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,y]:u.mutableSourceEagerHydrationData.push(f,y)},t.runWithPriority=function(u,f){var y=kt;try{return kt=u,f()}finally{kt=y}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(u,f,y,w){var E=f.current,b=Ci(),j=Go(E);return y=wT(y),f.context===null?f.context=y:f.pendingContext=y,f=Ys(b,j),f.payload={element:u},w=w===void 0?null:w,w!==null&&(f.callback=w),Uo(E,f),u=br(E,j,b),u!==null&&hp(u,E,j),j},t};xO.exports=eZ;var tZ=xO.exports;const nZ=k0(tZ);var _O={exports:{}},AO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(I,V){var W=I.length;I.push(V);e:for(;0<W;){var z=W-1>>>1,K=I[z];if(0<r(K,V))I[z]=V,I[W]=K,W=z;else break e}}function t(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var V=I[0],W=I.pop();if(W!==V){I[0]=W;e:for(var z=0,K=I.length,ue=K>>>1;z<ue;){var ve=2*(z+1)-1,Ae=I[ve],be=ve+1,Be=I[be];if(0>r(Ae,W))be<K&&0>r(Be,Ae)?(I[z]=Be,I[be]=W,z=be):(I[z]=Ae,I[ve]=W,z=ve);else if(be<K&&0>r(Be,W))I[z]=Be,I[be]=W,z=be;else break e}}return V}function r(I,V){var W=I.sortIndex-V.sortIndex;return W!==0?W:I.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,m=!1,v=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(I){for(var V=t(c);V!==null;){if(V.callback===null)i(c);else if(V.startTime<=I)i(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=t(c)}}function M(I){if(_=!1,S(I),!v)if(t(l)!==null)v=!0,ee(T);else{var V=t(c);V!==null&&$(M,V.startTime-I)}}function T(I,V){v=!1,_&&(_=!1,g(B),B=-1),m=!0;var W=p;try{for(S(V),h=t(l);h!==null&&(!(h.expirationTime>V)||I&&!O());){var z=h.callback;if(typeof z=="function"){h.callback=null,p=h.priorityLevel;var K=z(h.expirationTime<=V);V=n.unstable_now(),typeof K=="function"?h.callback=K:h===t(l)&&i(l),S(V)}else i(l);h=t(l)}if(h!==null)var ue=!0;else{var ve=t(c);ve!==null&&$(M,ve.startTime-V),ue=!1}return ue}finally{h=null,p=W,m=!1}}var C=!1,P=null,B=-1,R=5,L=-1;function O(){return!(n.unstable_now()-L<R)}function G(){if(P!==null){var I=n.unstable_now();L=I;var V=!0;try{V=P(!0,I)}finally{V?Q():(C=!1,P=null)}}else C=!1}var Q;if(typeof A=="function")Q=function(){A(G)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,q=F.port2;F.port1.onmessage=G,Q=function(){q.postMessage(null)}}else Q=function(){x(G,0)};function ee(I){P=I,C||(C=!0,Q())}function $(I,V){B=x(function(){I(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,ee(T))},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(I){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var W=p;p=V;try{return I()}finally{p=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(I,V){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var W=p;p=I;try{return V()}finally{p=W}},n.unstable_scheduleCallback=function(I,V,W){var z=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?z+W:z):W=z,I){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=W+K,I={id:d++,callback:V,priorityLevel:I,startTime:W,expirationTime:K,sortIndex:-1},W>z?(I.sortIndex=W,e(c,I),t(l)===null&&I===t(c)&&(_?(g(B),B=-1):_=!0,$(M,W-z))):(I.sortIndex=K,e(l,I),v||m||(v=!0,ee(T))),I},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(I){var V=p;return function(){var W=p;p=V;try{return I.apply(this,arguments)}finally{p=W}}}})(AO);_O.exports=AO;var iP=_O.exports;const jM={},iZ=n=>void Object.assign(jM,n);function rZ(n,e){function t(d,{args:h=[],attach:p,...m},v){let _=`${d[0].toUpperCase()}${d.slice(1)}`,x;if(d==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;x=tu(g,{type:d,root:v,attach:p,primitive:!0})}else{const g=jM[_];if(!g)throw new Error(`R3F: ${_} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");x=tu(new g(...h),{type:d,root:v,attach:p,memoizedProps:{args:h}})}return x.__r3f.attach===void 0&&(x.isBufferGeometry?x.__r3f.attach="geometry":x.isMaterial&&(x.__r3f.attach="material")),_!=="inject"&&N1(x,m),x}function i(d,h){let p=!1;if(h){var m,v;(m=h.__r3f)!=null&&m.attach?D1(d,h,h.__r3f.attach):h.isObject3D&&d.isObject3D&&(d.add(h),p=!0),p||(v=d.__r3f)==null||v.objects.push(h),h.__r3f||tu(h,{}),h.__r3f.parent=d,tS(h),nu(h)}}function r(d,h,p){let m=!1;if(h){var v,_;if((v=h.__r3f)!=null&&v.attach)D1(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){h.parent=d,h.dispatchEvent({type:"added"}),d.dispatchEvent({type:"childadded",child:h});const x=d.children.filter(A=>A!==h),g=x.indexOf(p);d.children=[...x.slice(0,g),h,...x.slice(g)],m=!0}m||(_=d.__r3f)==null||_.objects.push(h),h.__r3f||tu(h,{}),h.__r3f.parent=d,tS(h),nu(h)}}function s(d,h,p=!1){d&&[...d].forEach(m=>o(h,m,p))}function o(d,h,p){if(h){var m,v,_;if(h.__r3f&&(h.__r3f.parent=null),(m=d.__r3f)!=null&&m.objects&&(d.__r3f.objects=d.__r3f.objects.filter(M=>M!==h)),(v=h.__r3f)!=null&&v.attach)lP(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){var x;d.remove(h),(x=h.__r3f)!=null&&x.root&&hZ(Vg(h),h)}const A=(_=h.__r3f)==null?void 0:_.primitive,S=!A&&(p===void 0?h.dispose!==null:p);if(!A){var g;s((g=h.__r3f)==null?void 0:g.objects,h,S),s(h.children,h,S)}if(delete h.__r3f,S&&h.dispose&&h.type!=="Scene"){const M=()=>{try{h.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?iP.unstable_scheduleCallback(iP.unstable_IdlePriority,M):M()}nu(d)}}function a(d,h,p,m){var v;const _=(v=d.__r3f)==null?void 0:v.parent;if(!_)return;const x=t(h,p,d.__r3f.root);if(d.children){for(const g of d.children)g.__r3f&&i(x,g);d.children=d.children.filter(g=>!g.__r3f)}d.__r3f.objects.forEach(g=>i(x,g)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||o(_,d),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),i(_,x),x.raycast&&x.__r3f.eventCount&&Vg(x).getState().internal.interaction.push(x),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=x,g.ref&&(typeof g.ref=="function"?g.ref(x):g.ref.current=x))})}const l=()=>{};return{reconciler:nZ({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,h)=>{if(!h)return;const p=d.getState().scene;p.__r3f&&(p.__r3f.root=d,i(p,h))},removeChildFromContainer:(d,h)=>{h&&o(d.getState().scene,h)},insertInContainerBefore:(d,h,p)=>{if(!h||!p)return;const m=d.getState().scene;m.__r3f&&r(m,h,p)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var h;return!!((h=d==null?void 0:d.__r3f)!=null?h:{}).handlers},prepareUpdate(d,h,p,m){var v;if(((v=d==null?void 0:d.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==d)return[!0];{const{args:x=[],children:g,...A}=m,{args:S=[],children:M,...T}=p;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((P,B)=>P!==S[B]))return[!0];const C=bO(d,A,T,!0);return C.changes.length?[!1,C]:null}},commitUpdate(d,[h,p],m,v,_,x){h?a(d,m,_,x):N1(d,p)},commitMount(d,h,p,m){var v;const _=(v=d.__r3f)!=null?v:{};d.raycast&&_.handlers&&_.eventCount&&Vg(d).getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>tu(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var h;const{attach:p,parent:m}=(h=d.__r3f)!=null?h:{};p&&m&&lP(m,d,p),d.isObject3D&&(d.visible=!1),nu(d)},unhideInstance(d,h){var p;const{attach:m,parent:v}=(p=d.__r3f)!=null?p:{};m&&v&&D1(v,d,m),(d.isObject3D&&h.visible==null||h.visible)&&(d.visible=!0),nu(d)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():wu.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&qt.fun(performance.now)?performance.now:qt.fun(Date.now)?Date.now:()=>0,scheduleTimeout:qt.fun(setTimeout)?setTimeout:void 0,cancelTimeout:qt.fun(clearTimeout)?clearTimeout:void 0}),applyProps:N1}}var rP,sP;const I1=n=>"colorSpace"in n||"outputColorSpace"in n,SO=()=>{var n;return(n=jM.ColorManagement)!=null?n:null},wO=n=>n&&n.isOrthographicCamera,sZ=n=>n&&n.hasOwnProperty("current"),ep=typeof window<"u"&&((rP=window.document)!=null&&rP.createElement||((sP=window.navigator)==null?void 0:sP.product)==="ReactNative")?D.useLayoutEffect:D.useEffect;function MO(n){const e=D.useRef(n);return ep(()=>void(e.current=n),[n]),e}function oZ({set:n}){return ep(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class EO extends D.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}EO.getDerivedStateFromError=()=>({error:!0});const TO="__default",oP=new Map,aZ=n=>n&&!!n.memoized&&!!n.changes;function CO(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const ff=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function Vg(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const qt={obj:n=>n===Object(n)&&!qt.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(qt.str(n)||qt.num(n)||qt.boo(n))return n===e;const s=qt.obj(n);if(s&&i==="reference")return n===e;const o=qt.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!qt.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(qt.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function lZ(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function cZ(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function tu(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function eS(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const aP=/-\d+$/;function D1(n,e,t){if(qt.str(t)){if(aP.test(t)){const s=t.replace(aP,""),{target:o,key:a}=eS(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=eS(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function lP(n,e,t){var i,r;if(qt.str(t)){const{target:s,key:o}=eS(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function bO(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},c=!1){const d=n.__r3f,h=Object.entries(r),p=[];if(c){const v=Object.keys(l);for(let _=0;_<v.length;_++)r.hasOwnProperty(v[_])||h.unshift([v[_],TO+"remove"])}h.forEach(([v,_])=>{var x;if((x=n.__r3f)!=null&&x.primitive&&v==="object"||qt.equ(_,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return p.push([v,_,!0,[]]);let g=[];v.includes("-")&&(g=v.split("-")),p.push([v,_,!1,g]);for(const A in r){const S=r[A];A.startsWith(`${v}-`)&&p.push([A,S,!1,A.split("-")])}});const m={...r};return d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.args&&(m.args=d.memoizedProps.args),d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.attach&&(m.attach=d.memoizedProps.attach),{memoized:m,changes:p}}const uZ=typeof process<"u"&&!1;function N1(n,e){var t;const i=n.__r3f,r=i==null?void 0:i.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:o,changes:a}=aZ(e)?e:bO(n,e),l=i==null?void 0:i.eventCount;n.__r3f&&(n.__r3f.memoizedProps=o);for(let p=0;p<a.length;p++){let[m,v,_,x]=a[p];if(I1(n)){const M="srgb",T="srgb-linear";m==="encoding"?(m="colorSpace",v=v===3001?M:T):m==="outputEncoding"&&(m="outputColorSpace",v=v===3001?M:T)}let g=n,A=g[m];if(x.length&&(A=x.reduce((S,M)=>S[M],n),!(A&&A.set))){const[S,...M]=x.reverse();g=M.reverse().reduce((T,C)=>T[C],n),m=S}if(v===TO+"remove")if(g.constructor){let S=oP.get(g.constructor);S||(S=new g.constructor,oP.set(g.constructor,S)),v=S[m]}else v=0;if(_&&i)v?i.handlers[m]=v:delete i.handlers[m],i.eventCount=Object.keys(i.handlers).length;else if(A&&A.set&&(A.copy||A instanceof Wl)){if(Array.isArray(v))A.fromArray?A.fromArray(v):A.set(...v);else if(A.copy&&v&&v.constructor&&(uZ?A.constructor.name===v.constructor.name:A.constructor===v.constructor))A.copy(v);else if(v!==void 0){var c;const S=(c=A)==null?void 0:c.isColor;!S&&A.setScalar?A.setScalar(v):A instanceof Wl&&v instanceof Wl?A.mask=v.mask:A.set(v),!SO()&&s&&!s.linear&&S&&A.convertSRGBToLinear()}}else{var d;if(g[m]=v,(d=g[m])!=null&&d.isTexture&&g[m].format===Wi&&g[m].type===Us&&s){const S=g[m];I1(S)&&I1(s.gl)?S.colorSpace=s.gl.outputColorSpace:S.encoding=s.gl.outputEncoding}}nu(n)}if(i&&i.parent&&n.raycast&&l!==i.eventCount){const p=Vg(n).getState().internal,m=p.interaction.indexOf(n);m>-1&&p.interaction.splice(m,1),i.eventCount&&p.interaction.push(n)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=n.__r3f)!=null&&t.parent&&tS(n),n}function nu(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function tS(n){n.onUpdate==null||n.onUpdate(n)}function dZ(n,e){n.manual||(wO(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function hg(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function fZ(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return wu.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return wu.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return wu.ContinuousEventPriority;default:return wu.DefaultEventPriority}}function RO(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function hZ(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{RO(t.capturedMap,e,i,r)})}function pZ(n){function e(l){const{internal:c}=n.getState(),d=l.offsetX-c.initialClick[0],h=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(d*d+h*h))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(d=>{var h;return(h=c.__r3f)==null?void 0:h.handlers["onPointer"+d]}))}function i(l,c){const d=n.getState(),h=new Set,p=[],m=c?c(d.internal.interaction):d.internal.interaction;for(let g=0;g<m.length;g++){const A=ff(m[g]);A&&(A.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function v(g){const A=ff(g);if(!A||!A.events.enabled||A.raycaster.camera===null)return[];if(A.raycaster.camera===void 0){var S;A.events.compute==null||A.events.compute(l,A,(S=A.previousRoot)==null?void 0:S.getState()),A.raycaster.camera===void 0&&(A.raycaster.camera=null)}return A.raycaster.camera?A.raycaster.intersectObject(g,!0):[]}let _=m.flatMap(v).sort((g,A)=>{const S=ff(g.object),M=ff(A.object);return!S||!M?g.distance-A.distance:M.events.priority-S.events.priority||g.distance-A.distance}).filter(g=>{const A=hg(g);return h.has(A)?!1:(h.add(A),!0)});d.events.filter&&(_=d.events.filter(_,d));for(const g of _){let A=g.object;for(;A;){var x;(x=A.__r3f)!=null&&x.eventCount&&p.push({...g,eventObject:A}),A=A.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let g of d.internal.capturedMap.get(l.pointerId).values())h.has(hg(g.intersection))||p.push(g.intersection);return p}function r(l,c,d,h){const p=n.getState();if(l.length){const m={stopped:!1};for(const v of l){const _=ff(v.object)||p,{raycaster:x,pointer:g,camera:A,internal:S}=_,M=new H(g.x,g.y,0).unproject(A),T=L=>{var O,G;return(O=(G=S.capturedMap.get(L))==null?void 0:G.has(v.eventObject))!=null?O:!1},C=L=>{const O={intersection:v,target:c.target};S.capturedMap.has(L)?S.capturedMap.get(L).set(v.eventObject,O):S.capturedMap.set(L,new Map([[v.eventObject,O]])),c.target.setPointerCapture(L)},P=L=>{const O=S.capturedMap.get(L);O&&RO(S.capturedMap,v.eventObject,O,L)};let B={};for(let L in c){let O=c[L];typeof O!="function"&&(B[L]=O)}let R={...v,...B,pointer:g,intersections:l,stopped:m.stopped,delta:d,unprojectedPoint:M,ray:x.ray,camera:A,stopPropagation(){const L="pointerId"in c&&S.capturedMap.get(c.pointerId);if((!L||L.has(v.eventObject))&&(R.stopped=m.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(O=>O.eventObject===v.eventObject))){const O=l.slice(0,l.indexOf(v));s([...O,v])}},target:{hasPointerCapture:T,setPointerCapture:C,releasePointerCapture:P},currentTarget:{hasPointerCapture:T,setPointerCapture:C,releasePointerCapture:P},nativeEvent:c};if(h(R),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const d of c.hovered.values())if(!l.length||!l.find(h=>h.object===d.object&&h.index===d.index&&h.instanceId===d.instanceId)){const p=d.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(hg(d)),p!=null&&p.eventCount){const v={...d,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,c){for(let d=0;d<c.length;d++){const h=c[d].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:d}=n.getState();"pointerId"in c&&d.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(c.pointerId)&&(d.capturedMap.delete(c.pointerId),s([]))})}}return function(d){const{onPointerMissed:h,internal:p}=n.getState();p.lastEvent.current=d;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=i(d,m?t:void 0),g=v?e(d):0;l==="onPointerDown"&&(p.initialClick=[d.offsetX,d.offsetY],p.initialHits=x.map(S=>S.eventObject)),v&&!x.length&&g<=2&&(o(d,p.interaction),h&&h(d)),m&&s(x);function A(S){const M=S.eventObject,T=M.__r3f,C=T==null?void 0:T.handlers;if(T!=null&&T.eventCount)if(m){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const P=hg(S),B=p.hovered.get(P);B?B.stopped&&S.stopPropagation():(p.hovered.set(P,S),C.onPointerOver==null||C.onPointerOver(S),C.onPointerEnter==null||C.onPointerEnter(S))}C.onPointerMove==null||C.onPointerMove(S)}else{const P=C[l];P?(!v||p.initialHits.includes(M))&&(o(d,p.interaction.filter(B=>!p.initialHits.includes(B))),P(S)):v&&p.initialHits.includes(M)&&o(d,p.interaction.filter(B=>!p.initialHits.includes(B)))}}r(x,d,g,A)}}return{handlePointer:a}}const PO=n=>!!(n!=null&&n.render),LO=D.createContext(null),mZ=(n,e)=>{const t=Jq((a,l)=>{const c=new H,d=new H,h=new H;function p(g=l().camera,A=d,S=l().size){const{width:M,height:T,top:C,left:P}=S,B=M/T;A.isVector3?h.copy(A):h.set(...A);const R=g.getWorldPosition(c).distanceTo(h);if(wO(g))return{width:M/g.zoom,height:T/g.zoom,top:C,left:P,factor:1,distance:R,aspect:B};{const L=g.fov*Math.PI/180,O=2*Math.tan(L/2)*R,G=O*(M/T);return{width:G,height:O,top:C,left:P,factor:M/G,distance:R,aspect:B}}}let m;const v=g=>a(A=>({performance:{...A.performance,current:g}})),_=new ge;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>n(l(),g),advance:(g,A)=>e(g,A,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new HM,pointer:_,mouse:_,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&v(g.performance.min),m=setTimeout(()=>v(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(A=>({...A,events:{...A.events,...g}})),setSize:(g,A,S,M,T)=>{const C=l().camera,P={width:g,height:A,top:M||0,left:T||0,updateStyle:S};a(B=>({size:P,viewport:{...B.viewport,...p(C,d,P)}}))},setDpr:g=>a(A=>{const S=CO(g);return{viewport:{...A.viewport,dpr:S,initialDpr:A.viewport.initialDpr||S}}}),setFrameloop:(g="always")=>{const A=l().clock;A.stop(),A.elapsedTime=0,g!=="never"&&(A.start(),A.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:D.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,A,S)=>{const M=l().internal;return M.priority=M.priority+(A>0?1:0),M.subscribers.push({ref:g,priority:A,store:S}),M.subscribers=M.subscribers.sort((T,C)=>T.priority-C.priority),()=>{const T=l().internal;T!=null&&T.subscribers&&(T.priority=T.priority-(A>0?1:0),T.subscribers=T.subscribers.filter(C=>C.ref!==g))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:d,set:h}=t.getState();if(l.width!==r.width||l.height!==r.height||c.dpr!==s){var p;r=l,s=c.dpr,dZ(a,l),d.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,m)}a!==o&&(o=a,h(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let pg,gZ=new Set,vZ=new Set,yZ=new Set;function F1(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function hf(n,e){switch(n){case"before":return F1(gZ,e);case"after":return F1(vZ,e);case"tail":return F1(yZ,e)}}let O1,k1;function U1(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),O1=e.internal.subscribers,pg=0;pg<O1.length;pg++)k1=O1[pg],k1.ref.current(k1.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function xZ(n){let e=!1,t=!1,i,r,s;function o(c){r=requestAnimationFrame(o),e=!0,i=0,hf("before",c),t=!0;for(const h of n.values()){var d;s=h.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((d=s.gl.xr)!=null&&d.isPresenting)&&(i+=U1(c,s))}if(t=!1,hf("after",c),i===0)return hf("tail",c),e=!1,cancelAnimationFrame(r)}function a(c,d=1){var h;if(!c)return n.forEach(p=>a(p.store.getState(),d));(h=c.gl.xr)!=null&&h.isPresenting||!c.internal.active||c.frameloop==="never"||(d>1?c.internal.frames=Math.min(60,c.internal.frames+d):t?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,d=!0,h,p){if(d&&hf("before",c),h)U1(c,h,p);else for(const m of n.values())U1(c,m.store.getState());d&&hf("after",c)}return{loop:o,invalidate:a,advance:l}}function BO(){const n=D.useContext(LO);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function ta(n=t=>t,e){return BO()(n,e)}function IO(n,e=0){const t=BO(),i=t.getState().internal.subscribe,r=MO(n);return ep(()=>i(r,e,t),[e,i,t]),null}const cP=new WeakMap;function DO(n,e){return function(t,...i){let r=cP.get(t);return r||(r=new t,cP.set(t,r)),n&&n(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,lZ(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function tp(n,e,t,i){const r=Array.isArray(e)?e:[e],s=Yq(DO(t,i),[n,...r],{equal:qt.equ});return Array.isArray(e)?s:s[0]}tp.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return Qq(DO(t),[n,...i])};tp.clear=function(n,e){const t=Array.isArray(e)?e:[e];return qq([n,...t])};const ud=new Map,{invalidate:uP,advance:dP}=xZ(ud),{reconciler:D0,applyProps:Zc}=rZ(ud,fZ),$c={objects:"shallow",strict:!1},_Z=(n,e)=>{const t=typeof n=="function"?n(e):n;return PO(t)?t:new xM({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function AZ(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:o,updateStyle:a=t}=e;return{width:i,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:i,height:r,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function SZ(n){const e=ud.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||mZ(uP,dP),o=t||D0.createContainer(s,wu.ConcurrentRoot,null,!1,null,"",r,null);e||ud.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(d={}){let{gl:h,size:p,scene:m,events:v,onCreated:_,shadows:x=!1,linear:g=!1,flat:A=!1,legacy:S=!1,orthographic:M=!1,frameloop:T="always",dpr:C=[1,2],performance:P,raycaster:B,camera:R,onPointerMissed:L}=d,O=s.getState(),G=O.gl;O.gl||O.set({gl:G=_Z(h,n)});let Q=O.raycaster;Q||O.set({raycaster:Q=new pO});const{params:F,...q}=B||{};if(qt.equ(q,Q,$c)||Zc(Q,{...q}),qt.equ(F,Q.params,$c)||Zc(Q,{params:{...Q.params,...F}}),!O.camera||O.camera===c&&!qt.equ(c,R,$c)){c=R;const W=R instanceof jh,z=W?R:M?new Mo(0,0,0,0,.1,1e3):new wn(75,0,.1,1e3);W||(z.position.z=5,R&&(Zc(z,R),("aspect"in R||"left"in R||"right"in R||"bottom"in R||"top"in R)&&(z.manual=!0,z.updateProjectionMatrix())),!O.camera&&!(R!=null&&R.rotation)&&z.lookAt(0,0,0)),O.set({camera:z}),Q.camera=z}if(!O.scene){let W;m!=null&&m.isScene?W=m:(W=new _M,m&&Zc(W,m)),O.set({scene:tu(W)})}if(!O.xr){var ee;const W=(ue,ve)=>{const Ae=s.getState();Ae.frameloop!=="never"&&dP(ue,!0,Ae,ve)},z=()=>{const ue=s.getState();ue.gl.xr.enabled=ue.gl.xr.isPresenting,ue.gl.xr.setAnimationLoop(ue.gl.xr.isPresenting?W:null),ue.gl.xr.isPresenting||uP(ue)},K={connect(){const ue=s.getState().gl;ue.xr.addEventListener("sessionstart",z),ue.xr.addEventListener("sessionend",z)},disconnect(){const ue=s.getState().gl;ue.xr.removeEventListener("sessionstart",z),ue.xr.removeEventListener("sessionend",z)}};typeof((ee=G.xr)==null?void 0:ee.addEventListener)=="function"&&K.connect(),O.set({xr:K})}if(G.shadowMap){const W=G.shadowMap.enabled,z=G.shadowMap.type;if(G.shadowMap.enabled=!!x,qt.boo(x))G.shadowMap.type=Ff;else if(qt.str(x)){var $;const K={basic:cN,percentage:_v,soft:Ff,variance:$r};G.shadowMap.type=($=K[x])!=null?$:Ff}else qt.obj(x)&&Object.assign(G.shadowMap,x);(W!==G.shadowMap.enabled||z!==G.shadowMap.type)&&(G.shadowMap.needsUpdate=!0)}const I=SO();I&&("enabled"in I?I.enabled=!S:"legacyMode"in I&&(I.legacyMode=S)),l||Zc(G,{outputEncoding:g?3e3:3001,toneMapping:A?ks:eM}),O.legacy!==S&&O.set(()=>({legacy:S})),O.linear!==g&&O.set(()=>({linear:g})),O.flat!==A&&O.set(()=>({flat:A})),h&&!qt.fun(h)&&!PO(h)&&!qt.equ(h,G,$c)&&Zc(G,h),v&&!O.events.handlers&&O.set({events:v(s)});const V=AZ(n,p);return qt.equ(V,O.size,$c)||O.setSize(V.width,V.height,V.updateStyle,V.top,V.left),C&&O.viewport.dpr!==CO(C)&&O.setDpr(C),O.frameloop!==T&&O.setFrameloop(T),O.onPointerMissed||O.set({onPointerMissed:L}),P&&!qt.equ(P,O.performance,$c)&&O.set(W=>({performance:{...W.performance,...P}})),a=_,l=!0,this},render(d){return l||this.configure(),D0.updateContainer(U.jsx(wZ,{store:s,children:d,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){NO(n)}}}function wZ({store:n,children:e,onCreated:t,rootElement:i}){return ep(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),U.jsx(LO.Provider,{value:n,children:e})}function NO(n,e){const t=ud.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),D0.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),cZ(r),ud.delete(n)}catch{}},500)})}}D0.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:D.version});const z1={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function MZ(n){const{handlePointer:e}=pZ(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(z1).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,c]=z1[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=z1[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}function fP(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function EZ({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=D.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=D.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,c=n?typeof n=="number"?n:n.resize:null,d=D.useRef(!1);D.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[h,p,m]=D.useMemo(()=>{const g=()=>{if(!a.current.element)return;const{left:A,top:S,width:M,height:T,bottom:C,right:P,x:B,y:R}=a.current.element.getBoundingClientRect(),L={left:A,top:S,width:M,height:T,bottom:C,right:P,x:B,y:R};a.current.element instanceof HTMLElement&&i&&(L.height=a.current.element.offsetHeight,L.width=a.current.element.offsetWidth),Object.freeze(L),d.current&&!RZ(a.current.lastBounds,L)&&o(a.current.lastBounds=L)};return[g,c?fP(g,c):g,l?fP(g,l):g]},[o,i,l,c]);function v(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(g=>g.removeEventListener("scroll",m,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function _(){a.current.element&&(a.current.resizeObserver=new r(m),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(g=>g.addEventListener("scroll",m,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const x=g=>{!g||g===a.current.element||(v(),a.current.element=g,a.current.scrollContainers=FO(g),_())};return CZ(m,!!e),TZ(p),D.useEffect(()=>{v(),_()},[e,m,p]),D.useEffect(()=>v,[]),[x,s,h]}function TZ(n){D.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function CZ(n,e){D.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function FO(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...FO(n.parentElement)]}const bZ=["x","y","top","bottom","left","right","width","height"],RZ=(n,e)=>bZ.every(t=>n[t]===e[t]);var PZ=Object.defineProperty,LZ=Object.defineProperties,BZ=Object.getOwnPropertyDescriptors,hP=Object.getOwnPropertySymbols,IZ=Object.prototype.hasOwnProperty,DZ=Object.prototype.propertyIsEnumerable,pP=(n,e,t)=>e in n?PZ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,mP=(n,e)=>{for(var t in e||(e={}))IZ.call(e,t)&&pP(n,t,e[t]);if(hP)for(var t of hP(e))DZ.call(e,t)&&pP(n,t,e[t]);return n},NZ=(n,e)=>LZ(n,BZ(e)),gP,vP;typeof window<"u"&&((gP=window.document)!=null&&gP.createElement||((vP=window.navigator)==null?void 0:vP.product)==="ReactNative")?D.useLayoutEffect:D.useEffect;function OO(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=n.child;for(;i;){const r=OO(i,e,t);if(r)return r;i=i.sibling}}function kO(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const yP=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=yP;return}return yP.apply(this,arguments)};const XM=kO(D.createContext(null));class UO extends D.Component{render(){return D.createElement(XM.Provider,{value:this._reactInternals},this.props.children)}}function FZ(){const n=D.useContext(XM);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=D.useId();return D.useMemo(()=>{for(const i of[n,n==null?void 0:n.alternate]){if(!i)continue;const r=OO(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}function OZ(){const n=FZ(),[e]=D.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const r=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;r&&r!==XM&&!e.has(r)&&e.set(r,D.useContext(kO(r)))}t=t.return}return e}function kZ(){const n=OZ();return D.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>D.createElement(e,null,D.createElement(t.Provider,NZ(mP({},i),{value:n.get(t)}))),e=>D.createElement(UO,mP({},e))),[n])}const UZ=D.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=MZ,eventSource:a,eventPrefix:l,shadows:c,linear:d,flat:h,legacy:p,orthographic:m,frameloop:v,dpr:_,performance:x,raycaster:g,camera:A,scene:S,onPointerMissed:M,onCreated:T,...C},P){D.useMemo(()=>iZ(Wq),[]);const B=kZ(),[R,L]=EZ({scroll:!0,debounce:{scroll:50,resize:0},...i}),O=D.useRef(null),G=D.useRef(null);D.useImperativeHandle(P,()=>O.current);const Q=MO(M),[F,q]=D.useState(!1),[ee,$]=D.useState(!1);if(F)throw F;if(ee)throw ee;const I=D.useRef(null);ep(()=>{const W=O.current;L.width>0&&L.height>0&&W&&(I.current||(I.current=SZ(W)),I.current.configure({gl:s,events:o,shadows:c,linear:d,flat:h,legacy:p,orthographic:m,frameloop:v,dpr:_,performance:x,raycaster:g,camera:A,scene:S,size:L,onPointerMissed:(...z)=>Q.current==null?void 0:Q.current(...z),onCreated:z=>{z.events.connect==null||z.events.connect(a?sZ(a)?a.current:a:G.current),l&&z.setEvents({compute:(K,ue)=>{const ve=K[l+"X"],Ae=K[l+"Y"];ue.pointer.set(ve/ue.size.width*2-1,-(Ae/ue.size.height)*2+1),ue.raycaster.setFromCamera(ue.pointer,ue.camera)}}),T==null||T(z)}}),I.current.render(U.jsx(B,{children:U.jsx(EO,{set:$,children:U.jsx(D.Suspense,{fallback:U.jsx(oZ,{set:q}),children:e??null})})})))}),D.useEffect(()=>{const W=O.current;if(W)return()=>NO(W)},[]);const V=a?"none":"auto";return U.jsx("div",{ref:G,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:V,...r},...C,children:U.jsx("div",{ref:R,style:{width:"100%",height:"100%"},children:U.jsx("canvas",{ref:O,style:{display:"block"},children:t})})})}),zZ=D.forwardRef(function(e,t){return U.jsx(UO,{children:U.jsx(UZ,{...e,ref:t})})});function nS(){return nS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},nS.apply(null,arguments)}const HZ=parseInt(Hh.replace(/\D+/g,""));function xP(n,e){if(e===qN)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===P0||e===cM){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(t)if(e===P0)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var GZ=Object.defineProperty,VZ=(n,e,t)=>e in n?GZ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,WZ=(n,e,t)=>(VZ(n,e+"",t),t);class jZ{constructor(){WZ(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}var XZ=Object.defineProperty,JZ=(n,e,t)=>e in n?XZ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,st=(n,e,t)=>(JZ(n,typeof e!="symbol"?e+"":e,t),t);const mg=new uc,_P=new ho,KZ=Math.cos(70*(Math.PI/180)),AP=(n,e)=>(n%e+e)%e;let YZ=class extends jZ{constructor(e,t){super(),st(this,"object"),st(this,"domElement"),st(this,"enabled",!0),st(this,"target",new H),st(this,"minDistance",0),st(this,"maxDistance",1/0),st(this,"minZoom",0),st(this,"maxZoom",1/0),st(this,"minPolarAngle",0),st(this,"maxPolarAngle",Math.PI),st(this,"minAzimuthAngle",-1/0),st(this,"maxAzimuthAngle",1/0),st(this,"enableDamping",!1),st(this,"dampingFactor",.05),st(this,"enableZoom",!0),st(this,"zoomSpeed",1),st(this,"enableRotate",!0),st(this,"rotateSpeed",1),st(this,"enablePan",!0),st(this,"panSpeed",1),st(this,"screenSpacePanning",!0),st(this,"keyPanSpeed",7),st(this,"zoomToCursor",!1),st(this,"autoRotate",!1),st(this,"autoRotateSpeed",2),st(this,"reverseOrbit",!1),st(this,"reverseHorizontalOrbit",!1),st(this,"reverseVerticalOrbit",!1),st(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),st(this,"mouseButtons",{LEFT:_l.ROTATE,MIDDLE:_l.DOLLY,RIGHT:_l.PAN}),st(this,"touches",{ONE:Al.ROTATE,TWO:Al.DOLLY_PAN}),st(this,"target0"),st(this,"position0"),st(this,"zoom0"),st(this,"_domElementKeyEvents",null),st(this,"getPolarAngle"),st(this,"getAzimuthalAngle"),st(this,"setPolarAngle"),st(this,"setAzimuthalAngle"),st(this,"getDistance"),st(this,"getZoomScale"),st(this,"listenToKeyEvents"),st(this,"stopListenToKeyEvents"),st(this,"saveState"),st(this,"reset"),st(this,"update"),st(this,"connect"),st(this,"dispose"),st(this,"dollyIn"),st(this,"dollyOut"),st(this,"getScale"),st(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=Y=>{let he=AP(Y,2*Math.PI),Me=d.phi;Me<0&&(Me+=2*Math.PI),he<0&&(he+=2*Math.PI);let we=Math.abs(he-Me);2*Math.PI-we<we&&(he<Me?he+=2*Math.PI:Me+=2*Math.PI),h.phi=he-Me,i.update()},this.setAzimuthalAngle=Y=>{let he=AP(Y,2*Math.PI),Me=d.theta;Me<0&&(Me+=2*Math.PI),he<0&&(he+=2*Math.PI);let we=Math.abs(he-Me);2*Math.PI-we<we&&(he<Me?he+=2*Math.PI:Me+=2*Math.PI),h.theta=he-Me,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=Y=>{Y.addEventListener("keydown",Ce),this._domElementKeyEvents=Y},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ce),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const Y=new H,he=new H(0,1,0),Me=new $n().setFromUnitVectors(e.up,he),we=Me.clone().invert(),it=new H,Z=new $n,Ne=2*Math.PI;return function(){const me=i.object.position;Me.setFromUnitVectors(e.up,he),we.copy(Me).invert(),Y.copy(me).sub(i.target),Y.applyQuaternion(Me),d.setFromVector3(Y),i.autoRotate&&l===a.NONE&&F(G()),i.enableDamping?(d.theta+=h.theta*i.dampingFactor,d.phi+=h.phi*i.dampingFactor):(d.theta+=h.theta,d.phi+=h.phi);let Ee=i.minAzimuthAngle,$e=i.maxAzimuthAngle;isFinite(Ee)&&isFinite($e)&&(Ee<-Math.PI?Ee+=Ne:Ee>Math.PI&&(Ee-=Ne),$e<-Math.PI?$e+=Ne:$e>Math.PI&&($e-=Ne),Ee<=$e?d.theta=Math.max(Ee,Math.min($e,d.theta)):d.theta=d.theta>(Ee+$e)/2?Math.max(Ee,d.theta):Math.min($e,d.theta)),d.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,d.phi)),d.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(m,i.dampingFactor):i.target.add(m),i.zoomToCursor&&R||i.object.isOrthographicCamera?d.radius=ue(d.radius):d.radius=ue(d.radius*p),Y.setFromSpherical(d),Y.applyQuaternion(we),me.copy(i.target).add(Y),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(h.theta*=1-i.dampingFactor,h.phi*=1-i.dampingFactor,m.multiplyScalar(1-i.dampingFactor)):(h.set(0,0,0),m.set(0,0,0));let Mt=!1;if(i.zoomToCursor&&R){let Vt=null;if(i.object instanceof wn&&i.object.isPerspectiveCamera){const Mn=Y.length();Vt=ue(Mn*p);const Ft=Mn-Vt;i.object.position.addScaledVector(P,Ft),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Mn=new H(B.x,B.y,0);Mn.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix(),Mt=!0;const Ft=new H(B.x,B.y,0);Ft.unproject(i.object),i.object.position.sub(Ft).add(Mn),i.object.updateMatrixWorld(),Vt=Y.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;Vt!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(Vt).add(i.object.position):(mg.origin.copy(i.object.position),mg.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(mg.direction))<KZ?e.lookAt(i.target):(_P.setFromNormalAndCoplanarPoint(i.object.up,i.target),mg.intersectPlane(_P,i.target))))}else i.object instanceof Mo&&i.object.isOrthographicCamera&&(Mt=p!==1,Mt&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix()));return p=1,R=!1,Mt||it.distanceToSquared(i.object.position)>c||8*(1-Z.dot(i.object.quaternion))>c?(i.dispatchEvent(r),it.copy(i.object.position),Z.copy(i.object.quaternion),Mt=!1,!0):!1}})(),this.connect=Y=>{i.domElement=Y,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Ue),i.domElement.addEventListener("pointerdown",Kt),i.domElement.addEventListener("pointercancel",N),i.domElement.addEventListener("wheel",Se)},this.dispose=()=>{var Y,he,Me,we,it,Z;i.domElement&&(i.domElement.style.touchAction="auto"),(Y=i.domElement)==null||Y.removeEventListener("contextmenu",Ue),(he=i.domElement)==null||he.removeEventListener("pointerdown",Kt),(Me=i.domElement)==null||Me.removeEventListener("pointercancel",N),(we=i.domElement)==null||we.removeEventListener("wheel",Se),(it=i.domElement)==null||it.ownerDocument.removeEventListener("pointermove",X),(Z=i.domElement)==null||Z.ownerDocument.removeEventListener("pointerup",N),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",Ce)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,d=new $A,h=new $A;let p=1;const m=new H,v=new ge,_=new ge,x=new ge,g=new ge,A=new ge,S=new ge,M=new ge,T=new ge,C=new ge,P=new H,B=new ge;let R=!1;const L=[],O={};function G(){return 2*Math.PI/60/60*i.autoRotateSpeed}function Q(){return Math.pow(.95,i.zoomSpeed)}function F(Y){i.reverseOrbit||i.reverseHorizontalOrbit?h.theta+=Y:h.theta-=Y}function q(Y){i.reverseOrbit||i.reverseVerticalOrbit?h.phi+=Y:h.phi-=Y}const ee=(()=>{const Y=new H;return function(Me,we){Y.setFromMatrixColumn(we,0),Y.multiplyScalar(-Me),m.add(Y)}})(),$=(()=>{const Y=new H;return function(Me,we){i.screenSpacePanning===!0?Y.setFromMatrixColumn(we,1):(Y.setFromMatrixColumn(we,0),Y.crossVectors(i.object.up,Y)),Y.multiplyScalar(Me),m.add(Y)}})(),I=(()=>{const Y=new H;return function(Me,we){const it=i.domElement;if(it&&i.object instanceof wn&&i.object.isPerspectiveCamera){const Z=i.object.position;Y.copy(Z).sub(i.target);let Ne=Y.length();Ne*=Math.tan(i.object.fov/2*Math.PI/180),ee(2*Me*Ne/it.clientHeight,i.object.matrix),$(2*we*Ne/it.clientHeight,i.object.matrix)}else it&&i.object instanceof Mo&&i.object.isOrthographicCamera?(ee(Me*(i.object.right-i.object.left)/i.object.zoom/it.clientWidth,i.object.matrix),$(we*(i.object.top-i.object.bottom)/i.object.zoom/it.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function V(Y){i.object instanceof wn&&i.object.isPerspectiveCamera||i.object instanceof Mo&&i.object.isOrthographicCamera?p=Y:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function W(Y){V(p/Y)}function z(Y){V(p*Y)}function K(Y){if(!i.zoomToCursor||!i.domElement)return;R=!0;const he=i.domElement.getBoundingClientRect(),Me=Y.clientX-he.left,we=Y.clientY-he.top,it=he.width,Z=he.height;B.x=Me/it*2-1,B.y=-(we/Z)*2+1,P.set(B.x,B.y,1).unproject(i.object).sub(i.object.position).normalize()}function ue(Y){return Math.max(i.minDistance,Math.min(i.maxDistance,Y))}function ve(Y){v.set(Y.clientX,Y.clientY)}function Ae(Y){K(Y),M.set(Y.clientX,Y.clientY)}function be(Y){g.set(Y.clientX,Y.clientY)}function Be(Y){_.set(Y.clientX,Y.clientY),x.subVectors(_,v).multiplyScalar(i.rotateSpeed);const he=i.domElement;he&&(F(2*Math.PI*x.x/he.clientHeight),q(2*Math.PI*x.y/he.clientHeight)),v.copy(_),i.update()}function Oe(Y){T.set(Y.clientX,Y.clientY),C.subVectors(T,M),C.y>0?W(Q()):C.y<0&&z(Q()),M.copy(T),i.update()}function Je(Y){A.set(Y.clientX,Y.clientY),S.subVectors(A,g).multiplyScalar(i.panSpeed),I(S.x,S.y),g.copy(A),i.update()}function ot(Y){K(Y),Y.deltaY<0?z(Q()):Y.deltaY>0&&W(Q()),i.update()}function He(Y){let he=!1;switch(Y.code){case i.keys.UP:I(0,i.keyPanSpeed),he=!0;break;case i.keys.BOTTOM:I(0,-i.keyPanSpeed),he=!0;break;case i.keys.LEFT:I(i.keyPanSpeed,0),he=!0;break;case i.keys.RIGHT:I(-i.keyPanSpeed,0),he=!0;break}he&&(Y.preventDefault(),i.update())}function J(){if(L.length==1)v.set(L[0].pageX,L[0].pageY);else{const Y=.5*(L[0].pageX+L[1].pageX),he=.5*(L[0].pageY+L[1].pageY);v.set(Y,he)}}function pe(){if(L.length==1)g.set(L[0].pageX,L[0].pageY);else{const Y=.5*(L[0].pageX+L[1].pageX),he=.5*(L[0].pageY+L[1].pageY);g.set(Y,he)}}function re(){const Y=L[0].pageX-L[1].pageX,he=L[0].pageY-L[1].pageY,Me=Math.sqrt(Y*Y+he*he);M.set(0,Me)}function _e(){i.enableZoom&&re(),i.enablePan&&pe()}function ye(){i.enableZoom&&re(),i.enableRotate&&J()}function Ye(Y){if(L.length==1)_.set(Y.pageX,Y.pageY);else{const Me=Dt(Y),we=.5*(Y.pageX+Me.x),it=.5*(Y.pageY+Me.y);_.set(we,it)}x.subVectors(_,v).multiplyScalar(i.rotateSpeed);const he=i.domElement;he&&(F(2*Math.PI*x.x/he.clientHeight),q(2*Math.PI*x.y/he.clientHeight)),v.copy(_)}function ke(Y){if(L.length==1)A.set(Y.pageX,Y.pageY);else{const he=Dt(Y),Me=.5*(Y.pageX+he.x),we=.5*(Y.pageY+he.y);A.set(Me,we)}S.subVectors(A,g).multiplyScalar(i.panSpeed),I(S.x,S.y),g.copy(A)}function We(Y){const he=Dt(Y),Me=Y.pageX-he.x,we=Y.pageY-he.y,it=Math.sqrt(Me*Me+we*we);T.set(0,it),C.set(0,Math.pow(T.y/M.y,i.zoomSpeed)),W(C.y),M.copy(T)}function at(Y){i.enableZoom&&We(Y),i.enablePan&&ke(Y)}function wt(Y){i.enableZoom&&We(Y),i.enableRotate&&Ye(Y)}function Kt(Y){var he,Me;i.enabled!==!1&&(L.length===0&&((he=i.domElement)==null||he.ownerDocument.addEventListener("pointermove",X),(Me=i.domElement)==null||Me.ownerDocument.addEventListener("pointerup",N)),ut(Y),Y.pointerType==="touch"?qe(Y):oe(Y))}function X(Y){i.enabled!==!1&&(Y.pointerType==="touch"?Ie(Y):Re(Y))}function N(Y){var he,Me,we;It(Y),L.length===0&&((he=i.domElement)==null||he.releasePointerCapture(Y.pointerId),(Me=i.domElement)==null||Me.ownerDocument.removeEventListener("pointermove",X),(we=i.domElement)==null||we.ownerDocument.removeEventListener("pointerup",N)),i.dispatchEvent(o),l=a.NONE}function oe(Y){let he;switch(Y.button){case 0:he=i.mouseButtons.LEFT;break;case 1:he=i.mouseButtons.MIDDLE;break;case 2:he=i.mouseButtons.RIGHT;break;default:he=-1}switch(he){case _l.DOLLY:if(i.enableZoom===!1)return;Ae(Y),l=a.DOLLY;break;case _l.ROTATE:if(Y.ctrlKey||Y.metaKey||Y.shiftKey){if(i.enablePan===!1)return;be(Y),l=a.PAN}else{if(i.enableRotate===!1)return;ve(Y),l=a.ROTATE}break;case _l.PAN:if(Y.ctrlKey||Y.metaKey||Y.shiftKey){if(i.enableRotate===!1)return;ve(Y),l=a.ROTATE}else{if(i.enablePan===!1)return;be(Y),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Re(Y){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;Be(Y);break;case a.DOLLY:if(i.enableZoom===!1)return;Oe(Y);break;case a.PAN:if(i.enablePan===!1)return;Je(Y);break}}function Se(Y){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(Y.preventDefault(),i.dispatchEvent(s),ot(Y),i.dispatchEvent(o))}function Ce(Y){i.enabled===!1||i.enablePan===!1||He(Y)}function qe(Y){switch(Pe(Y),L.length){case 1:switch(i.touches.ONE){case Al.ROTATE:if(i.enableRotate===!1)return;J(),l=a.TOUCH_ROTATE;break;case Al.PAN:if(i.enablePan===!1)return;pe(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case Al.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;_e(),l=a.TOUCH_DOLLY_PAN;break;case Al.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;ye(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Ie(Y){switch(Pe(Y),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;Ye(Y),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;ke(Y),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;at(Y),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;wt(Y),i.update();break;default:l=a.NONE}}function Ue(Y){i.enabled!==!1&&Y.preventDefault()}function ut(Y){L.push(Y)}function It(Y){delete O[Y.pointerId];for(let he=0;he<L.length;he++)if(L[he].pointerId==Y.pointerId){L.splice(he,1);return}}function Pe(Y){let he=O[Y.pointerId];he===void 0&&(he=new ge,O[Y.pointerId]=he),he.set(Y.pageX,Y.pageY)}function Dt(Y){const he=Y.pointerId===L[0].pointerId?L[1]:L[0];return O[he.pointerId]}this.dollyIn=(Y=Q())=>{z(Y),i.update()},this.dollyOut=(Y=Q())=>{W(Y),i.update()},this.getScale=()=>p,this.setScale=Y=>{V(Y),i.update()},this.getZoomScale=()=>Q(),t!==void 0&&this.connect(t),this.update()}};function N0(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,i=n.length;t<i;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const Dl="srgb",Eo="srgb-linear",SP=3001,QZ=3e3;class JM extends Mi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new t$(t)}),this.register(function(t){return new n$(t)}),this.register(function(t){return new d$(t)}),this.register(function(t){return new f$(t)}),this.register(function(t){return new h$(t)}),this.register(function(t){return new r$(t)}),this.register(function(t){return new s$(t)}),this.register(function(t){return new o$(t)}),this.register(function(t){return new a$(t)}),this.register(function(t){return new e$(t)}),this.register(function(t){return new l$(t)}),this.register(function(t){return new i$(t)}),this.register(function(t){return new u$(t)}),this.register(function(t){return new c$(t)}),this.register(function(t){return new ZZ(t)}),this.register(function(t){return new p$(t)}),this.register(function(t){return new m$(t)})}load(e,t,i,r){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const c=La.extractUrlBase(e);o=La.resolveURL(c,this.path)}else o=La.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new vr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(d){t(d),s.manager.itemEnd(e)},a)}catch(d){a(d)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(N0(new Uint8Array(e.slice(0,4)))===zO){try{o[Pt.KHR_BINARY_GLTF]=new g$(e)}catch(d){r&&r(d);return}s=JSON.parse(o[Pt.KHR_BINARY_GLTF].content)}else s=JSON.parse(N0(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new R$(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const d=this.pluginCallbacks[c](l);d.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[d.name]=d,o[d.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const d=s.extensionsUsed[c],h=s.extensionsRequired||[];switch(d){case Pt.KHR_MATERIALS_UNLIT:o[d]=new $Z;break;case Pt.KHR_DRACO_MESH_COMPRESSION:o[d]=new v$(s,this.dracoLoader);break;case Pt.KHR_TEXTURE_TRANSFORM:o[d]=new y$;break;case Pt.KHR_MESH_QUANTIZATION:o[d]=new x$;break;default:h.indexOf(d)>=0&&a[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function qZ(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Pt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class ZZ{constructor(e){this.parser=e,this.name=Pt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const d=new ze(16777215);l.color!==void 0&&d.setRGB(l.color[0],l.color[1],l.color[2],Eo);const h=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new UM(d),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new kM(d),c.distance=h;break;case"spot":c=new OM(d),c.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,uo(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class $Z{constructor(){this.name=Pt.KHR_MATERIALS_UNLIT}getMaterialType(){return dr}extendParams(e,t,i){const r=[];e.color=new ze(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],Eo),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,Dl))}return Promise.all(r)}}class e${constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class t${constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Vr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new ge(a,a)}return Promise.all(s)}}class n${constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Vr}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class i${constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Vr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class r${constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Vr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new ze(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],Eo)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,Dl)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class s${constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Vr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class o${constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Vr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new ze().setRGB(a[0],a[1],a[2],Eo),Promise.all(s)}}class a${constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Vr}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class l${constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Vr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new ze().setRGB(a[0],a[1],a[2],Eo),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,Dl)),Promise.all(s)}}class c${constructor(e){this.parser=e,this.name=Pt.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Vr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(i.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(s)}}class u${constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Vr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(i.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class d${constructor(e){this.parser=e,this.name=Pt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class f${constructor(e){this.parser=e,this.name=Pt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class h${constructor(e){this.parser=e,this.name=Pt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class p${constructor(e){this.name=Pt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,c=r.byteLength||0,d=r.count,h=r.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(d,h,p,r.mode,r.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(d*h);return o.decodeGltfBuffer(new Uint8Array(m),d,h,p,r.mode,r.filter),m})})}else return null}}class m${constructor(e){this.name=Pt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const c of r.primitives)if(c.mode!==Dr.TRIANGLES&&c.mode!==Dr.TRIANGLE_STRIP&&c.mode!==Dr.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(d=>(l[c]=d,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const d=c.pop(),h=d.isGroup?d.children:[d],p=c[0].count,m=[];for(const v of h){const _=new ht,x=new H,g=new $n,A=new H(1,1,1),S=new wM(v.geometry,v.material,p);for(let M=0;M<p;M++)l.TRANSLATION&&x.fromBufferAttribute(l.TRANSLATION,M),l.ROTATION&&g.fromBufferAttribute(l.ROTATION,M),l.SCALE&&A.fromBufferAttribute(l.SCALE,M),S.setMatrixAt(M,_.compose(x,g,A));for(const M in l)if(M==="_COLOR_0"){const T=l[M];S.instanceColor=new nc(T.array,T.itemSize,T.normalized)}else M!=="TRANSLATION"&&M!=="ROTATION"&&M!=="SCALE"&&v.geometry.setAttribute(M,l[M]);Bt.prototype.copy.call(S,v),this.parser.assignFinalMaterial(S),m.push(S)}return d.isGroup?(d.clear(),d.add(...m),d):m[0]}))}}const zO="glTF",pf=12,wP={JSON:1313821514,BIN:5130562};class g${constructor(e){this.name=Pt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,pf);if(this.header={magic:N0(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==zO)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-pf,r=new DataView(e,pf);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===wP.JSON){const l=new Uint8Array(e,pf+s,o);this.content=N0(l)}else if(a===wP.BIN){const l=pf+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class v${constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Pt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const d in o){const h=iS[d]||d.toLowerCase();a[h]=o[d]}for(const d in e.attributes){const h=iS[d]||d.toLowerCase();if(o[d]!==void 0){const p=i.accessors[e.attributes[d]],m=Nu[p.componentType];c[h]=m.name,l[h]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(d){return new Promise(function(h,p){r.decodeDracoFile(d,function(m){for(const v in m.attributes){const _=m.attributes[v],x=l[v];x!==void 0&&(_.normalized=x)}h(m)},a,c,Eo,p)})})}}class y${constructor(){this.name=Pt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class x${constructor(){this.name=Pt.KHR_MESH_QUANTIZATION}}class HO extends Ad{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,d=r-t,h=(i-t)/d,p=h*h,m=p*h,v=e*c,_=v-c,x=-2*m+3*p,g=m-p,A=1-x,S=g-p+h;for(let M=0;M!==a;M++){const T=o[_+M+a],C=o[_+M+l]*d,P=o[v+M+a],B=o[v+M]*d;s[M]=A*T+S*C+x*P+g*B}return s}}const _$=new $n;class A$ extends HO{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return _$.fromArray(s).normalize().toArray(s),s}}const Dr={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Nu={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},MP={9728:An,9729:cn,9984:mh,9985:Sv,9986:Bu,9987:Ws},EP={33071:si,33648:rd,10497:za},H1={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},iS={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...HZ>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},na={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},S$={CUBICSPLINE:void 0,LINEAR:tc,STEP:od},G1={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function w$(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new $h({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Vs})),n.DefaultMaterial}function ml(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function uo(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function M$(n,e,t){let i=!1,r=!1,s=!1;for(let c=0,d=e.length;c<d;c++){const h=e[c];if(h.POSITION!==void 0&&(i=!0),h.NORMAL!==void 0&&(r=!0),h.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,d=e.length;c<d;c++){const h=e[c];if(i){const p=h.POSITION!==void 0?t.getDependency("accessor",h.POSITION):n.attributes.position;o.push(p)}if(r){const p=h.NORMAL!==void 0?t.getDependency("accessor",h.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=h.COLOR_0!==void 0?t.getDependency("accessor",h.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const d=c[0],h=c[1],p=c[2];return i&&(n.morphAttributes.position=d),r&&(n.morphAttributes.normal=h),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function E$(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function T$(n){let e;const t=n.extensions&&n.extensions[Pt.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+V1(t.attributes):e=n.indices+":"+V1(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+V1(n.targets[i]);return e}function V1(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function rS(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function C$(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const b$=new ht;class R${constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new qZ,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new tO(this.options.manager):this.textureLoader=new cO(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new vr(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};return ml(s,a,r),uo(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,d]of o.children.entries())s(d,a.children[c])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Pt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(La.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=H1[r.type],a=Nu[r.componentType],l=r.normalized===!0,c=new a(r.count*o);return Promise.resolve(new Ht(c,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=H1[r.type],c=Nu[r.componentType],d=c.BYTES_PER_ELEMENT,h=d*l,p=r.byteOffset||0,m=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,v=r.normalized===!0;let _,x;if(m&&m!==h){const g=Math.floor(p/m),A="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+g+":"+r.count;let S=t.cache.get(A);S||(_=new c(a,g*m,r.count*m/d),S=new Kh(_,m/d),t.cache.add(A,S)),x=new Ha(S,l,p%m/d,v)}else a===null?_=new c(r.count*l):_=new c(a,p,r.count*l),x=new Ht(_,l,v);if(r.sparse!==void 0){const g=H1.SCALAR,A=Nu[r.sparse.indices.componentType],S=r.sparse.indices.byteOffset||0,M=r.sparse.values.byteOffset||0,T=new A(o[1],S,r.sparse.count*g),C=new c(o[2],M,r.sparse.count*l);a!==null&&(x=new Ht(x.array.slice(),x.itemSize,x.normalized));for(let P=0,B=T.length;P<B;P++){const R=T[P];if(x.setX(R,C[P*l]),l>=2&&x.setY(R,C[P*l+1]),l>=3&&x.setZ(R,C[P*l+2]),l>=4&&x.setW(R,C[P*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return x})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,i).then(function(d){d.flipY=!1,d.name=o.name||a.name||"",d.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(d.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return d.magFilter=MP[p.magFilter]||cn,d.minFilter=MP[p.minFilter]||Ws,d.wrapS=EP[p.wrapS]||za,d.wrapT=EP[p.wrapT]||za,r.associations.set(d,{textures:e}),d}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(h){c=!0;const p=new Blob([h],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(l).then(function(h){return new Promise(function(p,m){let v=p;t.isImageBitmapLoader===!0&&(v=function(_){const x=new hn(_);x.needsUpdate=!0,p(x)}),t.load(La.resolveURL(h,s.path),v,void 0,m)})}).then(function(h){return c===!0&&a.revokeObjectURL(l),uo(h,o),h.userData.mimeType=o.mimeType||C$(o.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),h});return this.sourceCache[e]=d,d}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),s.extensions[Pt.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[Pt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Pt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&(typeof r=="number"&&(r=r===SP?Dl:Eo),"colorSpace"in o?o.colorSpace=r:o.encoding=r===Dl?SP:QZ),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Bv,Un.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new wi,Un.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return $h}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Pt.KHR_MATERIALS_UNLIT]){const h=r[Pt.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),c.push(h.extendParams(a,s,t))}else{const h=s.pbrMetallicRoughness||{};if(a.color=new ze(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const p=h.baseColorFactor;a.color.setRGB(p[0],p[1],p[2],Eo),a.opacity=p[3]}h.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",h.baseColorTexture,Dl)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=rs);const d=s.alphaMode||G1.OPAQUE;if(d===G1.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,d===G1.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==dr&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new ge(1,1),s.normalTexture.scale!==void 0)){const h=s.normalTexture.scale;a.normalScale.set(h,h)}if(s.occlusionTexture!==void 0&&o!==dr&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==dr){const h=s.emissiveFactor;a.emissive=new ze().setRGB(h[0],h[1],h[2],Eo)}return s.emissiveTexture!==void 0&&o!==dr&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,Dl)),Promise.all(c).then(function(){const h=new o(a);return s.name&&(h.name=s.name),uo(h,s),t.associations.set(h,{materials:e}),s.extensions&&ml(r,h,s),h})}createUniqueName(e){const t=Nt.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[Pt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return TP(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],d=T$(c),h=r[d];if(h)o.push(h.promise);else{let p;c.extensions&&c.extensions[Pt.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=TP(new St,c,t),r[d]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const d=o[l].material===void 0?w$(this.cache):this.getDependency("material",o[l].material);a.push(d)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),d=l[l.length-1],h=[];for(let m=0,v=d.length;m<v;m++){const _=d[m],x=o[m];let g;const A=c[m];if(x.mode===Dr.TRIANGLES||x.mode===Dr.TRIANGLE_STRIP||x.mode===Dr.TRIANGLE_FAN||x.mode===void 0)g=s.isSkinnedMesh===!0?new SM(_,A):new qn(_,A),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),x.mode===Dr.TRIANGLE_STRIP?g.geometry=xP(g.geometry,cM):x.mode===Dr.TRIANGLE_FAN&&(g.geometry=xP(g.geometry,P0));else if(x.mode===Dr.LINES)g=new hs(_,A);else if(x.mode===Dr.LINE_STRIP)g=new Do(_,A);else if(x.mode===Dr.LINE_LOOP)g=new MM(_,A);else if(x.mode===Dr.POINTS)g=new EM(_,A);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);Object.keys(g.geometry.morphAttributes).length>0&&E$(g,s),g.name=t.createUniqueName(s.name||"mesh_"+e),uo(g,s),x.extensions&&ml(r,g,x),t.assignFinalMaterial(g),h.push(g)}for(let m=0,v=h.length;m<v;m++)t.associations.set(h[m],{meshes:e,primitives:m});if(h.length===1)return s.extensions&&ml(r,h[0],s),h[0];const p=new xo;s.extensions&&ml(r,p,s),t.associations.set(p,{meshes:e});for(let m=0,v=h.length;m<v;m++)p.add(h[m]);return p})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new wn(uF.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new Mo(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),uo(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let c=0,d=o.length;c<d;c++){const h=o[c];if(h){a.push(h);const p=new ht;s!==null&&p.fromArray(s.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new Yh(a,l)})}loadAnimation(e){const t=this.json,i=this,r=t.animations[e],s=r.name?r.name:"animation_"+e,o=[],a=[],l=[],c=[],d=[];for(let h=0,p=r.channels.length;h<p;h++){const m=r.channels[h],v=r.samplers[m.sampler],_=m.target,x=_.node,g=r.parameters!==void 0?r.parameters[v.input]:v.input,A=r.parameters!==void 0?r.parameters[v.output]:v.output;_.node!==void 0&&(o.push(this.getDependency("node",x)),a.push(this.getDependency("accessor",g)),l.push(this.getDependency("accessor",A)),c.push(v),d.push(_))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(d)]).then(function(h){const p=h[0],m=h[1],v=h[2],_=h[3],x=h[4],g=[];for(let A=0,S=p.length;A<S;A++){const M=p[A],T=m[A],C=v[A],P=_[A],B=x[A];if(M===void 0)continue;M.updateMatrix&&M.updateMatrix();const R=i._createAnimationTracks(M,T,C,P,B);if(R)for(let L=0;L<R.length;L++)g.push(R[L])}return new cd(s,void 0,g)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let c=0,d=a.length;c<d;c++)o.push(i.getDependency("node",a[c]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const d=c[0],h=c[1],p=c[2];p!==null&&d.traverse(function(m){m.isSkinnedMesh&&m.bind(p,b$)});for(let m=0,v=h.length;m<v;m++)d.add(h[m]);return d})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let d;if(s.isBone===!0?d=new Lv:c.length>1?d=new xo:c.length===1?d=c[0]:d=new Bt,d!==c[0])for(let h=0,p=c.length;h<p;h++)d.add(c[h]);if(s.name&&(d.userData.name=s.name,d.name=o),uo(d,s),s.extensions&&ml(i,d,s),s.matrix!==void 0){const h=new ht;h.fromArray(s.matrix),d.applyMatrix4(h)}else s.translation!==void 0&&d.position.fromArray(s.translation),s.rotation!==void 0&&d.quaternion.fromArray(s.rotation),s.scale!==void 0&&d.scale.fromArray(s.scale);return r.associations.has(d)||r.associations.set(d,{}),r.associations.get(d).nodes=e,d}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new xo;i.name&&(s.name=r.createUniqueName(i.name)),uo(s,i),i.extensions&&ml(t,s,i);const o=i.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let d=0,h=l.length;d<h;d++)s.add(l[d]);const c=d=>{const h=new Map;for(const[p,m]of r.associations)(p instanceof Un||p instanceof hn)&&h.set(p,m);return d.traverse(p=>{const m=r.associations.get(p);m!=null&&h.set(p,m)}),h};return r.associations=c(s),s})}_createAnimationTracks(e,t,i,r,s){const o=[],a=e.name?e.name:e.uuid,l=[];na[s.path]===na.weights?e.traverse(function(p){p.morphTargetInfluences&&l.push(p.name?p.name:p.uuid)}):l.push(a);let c;switch(na[s.path]){case na.weights:c=rc;break;case na.rotation:c=Ga;break;case na.position:case na.scale:c=sc;break;default:switch(i.itemSize){case 1:c=rc;break;case 2:case 3:default:c=sc;break}break}const d=r.interpolation!==void 0?S$[r.interpolation]:tc,h=this._getArrayFromAccessor(i);for(let p=0,m=l.length;p<m;p++){const v=new c(l[p]+"."+na[s.path],t.array,h,d);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(v),o.push(v)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=rS(t.constructor),r=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s++)r[s]=t[s]*i;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const r=this instanceof Ga?A$:HO;return new r(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function P$(n,e,t){const i=e.attributes,r=new fs;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(r.set(new H(l[0],l[1],l[2]),new H(c[0],c[1],c[2])),a.normalized){const d=rS(Nu[a.componentType]);r.min.multiplyScalar(d),r.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new H,l=new H;for(let c=0,d=s.length;c<d;c++){const h=s[c];if(h.POSITION!==void 0){const p=t.json.accessors[h.POSITION],m=p.min,v=p.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),p.normalized){const _=rS(Nu[p.componentType]);l.multiplyScalar(_)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new Gr;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function TP(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=iS[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return uo(n,e),P$(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?M$(n,e.targets,t):n})}const W1=new WeakMap;class L$ extends Mi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new vr(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const i=JSON.stringify(t);if(W1.has(e)){const l=W1.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((c,d)=>{r._callbacks[s]={resolve:c,reject:d},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),W1.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new St;e.index&&t.setIndex(new Ht(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new Ht(o,a))}return t}_loadLibrary(e,t){const i=new vr(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=B$.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function B$(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(d){n.onModuleLoaded=function(h){d({draco:h})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(d=>{const h=d.draco,p=new h.Decoder,m=new h.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const v=t(h,p,m,c),_=v.attributes.map(x=>x.array.buffer);v.index&&_.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},_)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{h.destroy(m),h.destroy(p)}});break}};function t(o,a,l,c){const d=c.attributeIDs,h=c.attributeTypes;let p,m;const v=a.GetEncodedGeometryType(l);if(v===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(v===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const _={index:null,attributes:[]};for(const x in d){const g=self[h[x]];let A,S;if(c.useUniqueIDs)S=d[x],A=a.GetAttributeByUniqueId(p,S);else{if(S=a.GetAttributeId(p,o[d[x]]),S===-1)continue;A=a.GetAttribute(p,S)}_.attributes.push(r(o,a,p,x,g,A))}return v===o.TRIANGULAR_MESH&&(_.index=i(o,a,p)),o.destroy(p),_}function i(o,a,l){const d=l.num_faces()*3,h=d*4,p=o._malloc(h);a.GetTrianglesUInt32Array(l,h,p);const m=new Uint32Array(o.HEAPF32.buffer,p,d).slice();return o._free(p),{array:m,itemSize:1}}function r(o,a,l,c,d,h){const p=h.num_components(),v=l.num_points()*p,_=v*d.BYTES_PER_ELEMENT,x=s(o,d),g=o._malloc(_);a.GetAttributeDataArrayForAllPoints(l,h,x,_,g);const A=new d(o.HEAPF32.buffer,g,v).slice();return o._free(g),{name:c,array:A,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let gg;const j1=()=>{if(gg)return gg;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(h=>{s=h.instance,s.exports.__wasm_call_ctors()});function a(h){const p=new Uint8Array(h.length);for(let v=0;v<h.length;++v){const _=h.charCodeAt(v);p[v]=_>96?_-71:_>64?_-65:_>47?_+4:_>46?63:62}let m=0;for(let v=0;v<h.length;++v)p[m++]=p[v]<60?i[p[v]]:(p[v]-60)*64+p[++v];return p.buffer.slice(0,m)}function l(h,p,m,v,_,x){const g=s.exports.sbrk,A=m+3&-4,S=g(A*v),M=g(_.length),T=new Uint8Array(s.exports.memory.buffer);T.set(_,M);const C=h(S,m,v,M,_.length);if(C===0&&x&&x(S,A,v),p.set(T.subarray(S,S+m*v)),g(S-g(0)),C!==0)throw new Error(`Malformed buffer data: ${C}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},d={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return gg={ready:o,supported:!0,decodeVertexBuffer(h,p,m,v,_){l(s.exports.meshopt_decodeVertexBuffer,h,p,m,v,s.exports[c[_]])},decodeIndexBuffer(h,p,m,v){l(s.exports.meshopt_decodeIndexBuffer,h,p,m,v)},decodeIndexSequence(h,p,m,v){l(s.exports.meshopt_decodeIndexSequence,h,p,m,v)},decodeGltfBuffer(h,p,m,v,_,x){l(s.exports[d[_]],h,p,m,v,s.exports[c[x]])}},gg};let vg=null,GO="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function VO(n=!0,e=!0,t){return i=>{t&&t(i),n&&(vg||(vg=new L$),vg.setDecoderPath(typeof n=="string"?n:GO),i.setDRACOLoader(vg)),e&&i.setMeshoptDecoder(typeof j1=="function"?j1():j1)}}const Sd=(n,e,t,i)=>tp(JM,n,VO(e,t,i));Sd.preload=(n,e,t,i)=>tp.preload(JM,n,VO(e,t,i));Sd.clear=n=>tp.clear(JM,n);Sd.setDecoderPath=n=>{GO=n};const I$=D.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},d)=>{const h=ta(C=>C.invalidate),p=ta(C=>C.camera),m=ta(C=>C.gl),v=ta(C=>C.events),_=ta(C=>C.setEvents),x=ta(C=>C.set),g=ta(C=>C.get),A=ta(C=>C.performance),S=e||p,M=i||v.connected||m.domElement,T=D.useMemo(()=>new YZ(S),[S]);return IO(()=>{T.enabled&&T.update()},-1),D.useEffect(()=>(s&&T.connect(s===!0?M:s),T.connect(M),()=>void T.dispose()),[s,M,t,T,h]),D.useEffect(()=>{const C=R=>{h(),t&&A.regress(),o&&o(R)},P=R=>{a&&a(R)},B=R=>{l&&l(R)};return T.addEventListener("change",C),T.addEventListener("start",P),T.addEventListener("end",B),()=>{T.removeEventListener("start",P),T.removeEventListener("end",B),T.removeEventListener("change",C)}},[o,a,l,T,h,_]),D.useEffect(()=>{if(n){const C=g().controls;return x({controls:T}),()=>x({controls:C})}},[n,T]),D.createElement("primitive",nS({ref:d,object:T,enableDamping:r},c))});function D$(n,e){const t=D.useRef(),[i]=D.useState(()=>e?e instanceof Bt?{current:e}:e:t),[r]=D.useState(()=>new hO(void 0));D.useLayoutEffect(()=>{e&&(i.current=e instanceof Bt?e:e.current),r._root=i.current});const s=D.useRef({}),o=D.useMemo(()=>{const a={};return n.forEach(l=>Object.defineProperty(a,l.name,{enumerable:!0,get(){if(i.current)return s.current[l.name]||(s.current[l.name]=r.clipAction(l,i.current))},configurable:!0})),{ref:i,clips:n,actions:a,names:n.map(l=>l.name),mixer:r}},[n]);return IO((a,l)=>r.update(l)),D.useEffect(()=>{const a=i.current;return()=>{s.current={},r.stopAllAction(),Object.values(o.actions).forEach(l=>{a&&r.uncacheAction(l,a)})}},[n]),o}function N$(){const{scene:n,animations:e}=Sd("/models/obot.glb"),{actions:t}=D$(e,n);return D.useEffect(()=>{t&&Object.values(t).forEach(i=>{i&&(i.reset(),i.play(),i.setLoop(aM,1/0),i.timeScale=1)})},[t]),n.traverse(i=>{i.isMesh&&(i.castShadow=!0,i.receiveShadow=!0)}),U.jsx("primitive",{object:n,scale:9,position:[0,-1,0],rotation:[0,Math.PI/4,0]})}Sd.preload("/models/obot.glb");function F$(){return U.jsx(zZ,{shadows:!0,camera:{fov:45,position:[9,-3,10]},className:"rounded-xl w-full h-full",children:U.jsxs(D.Suspense,{fallback:null,children:[U.jsx(I$,{enableZoom:!1,autoRotate:!0,autoRotateSpeed:.75}),U.jsx(N$,{}),U.jsx("directionalLight",{position:[5,5,5],intensity:3,castShadow:!0,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024}),U.jsx("ambientLight",{intensity:.4})]})})}function O$({text:n,speed:e=40,onComplete:t}){const[i,r]=D.useState(""),[s,o]=D.useState(!1),a=D.useRef(!1);return D.useEffect(()=>{if(a.current)return;let l=0;const c=setInterval(()=>{r(n.slice(0,l)),l++,l>n.length&&(clearInterval(c),o(!0),a.current=!0,t&&t())},e);return()=>clearInterval(c)},[]),U.jsxs("p",{className:"text-md md:text-xl text-muted-foreground max-w-2xl mx-auto mb-6 leading-relaxed whitespace-pre-line",children:[i,!s&&U.jsx("span",{className:"animate-pulse",children:"|"})]})}function k$(){const n=D.useRef(null),[e,t]=D.useState(!1);D.useEffect(()=>{const s=va.getInstance(),o=new IntersectionObserver(a=>{a.forEach(l=>{l.isIntersecting&&s.lock("hero",6800)})},{threshold:.5});return n.current&&o.observe(n.current),()=>o.disconnect()},[]);const i=()=>{t(!0)},r=s=>{const o=document.querySelector(s);if(!o)return;const a=window.lenis;if(a){const l=o.getBoundingClientRect().top+window.pageYOffset;a.scrollTo(l,{duration:1.2})}else o.scrollIntoView({behavior:"smooth",block:"start"})};return U.jsxs("section",{ref:n,id:"home",className:"relative min-h-screen flex flex-col items-center bg-black justify-start scroll-mt-20",children:[U.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-background to-primary/5 -z-10"}),U.jsx("div",{className:"w-full max-w-7xl h-80 md:h-96 mt-4 md:mt-16",children:U.jsx(F$,{})}),U.jsxs(Qn.div,{className:"mt-2 flex items-center gap-2 text-xs text-white/60 select-none",initial:{opacity:0,y:-4},animate:{opacity:1,y:0},transition:{delay:1.2,duration:.6},children:[U.jsx(Qn.span,{animate:{opacity:[.4,1,.4]},transition:{repeat:1/0,duration:2},children:"Drag to rotate drone"}),U.jsx(Qn.div,{className:"flex items-center",animate:{x:[-6,6,-6]},transition:{repeat:1/0,duration:1.6,ease:"easeInOut"},children:U.jsx(vH,{className:"h-3 w-3"})})]}),U.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 py-6 md:py-12 text-center",children:[U.jsxs(Qn.div,{className:"mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},children:[U.jsx("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-bold text-white mb-4",children:"Mohit Kumar Dey"}),U.jsx("p",{className:"text-xl md:text-2xl lg:text-3xl text-cyan-400 font-semibold",children:"AI + Full Stack Developer"})]}),U.jsx("div",{className:"h-[60px] md:h-[80px] flex items-start justify-center",children:U.jsx(O$,{text:`Building scalable systems and 
 delivering exceptional software solutions.`,speed:100,onComplete:i})}),U.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-6 items-center",children:[U.jsx($l,{size:"lg",className:`w-auto min-w-[160px] inline-flex items-center justify-center gap-2
              bg-cyan-400/70 hover:bg-cyan-400/80
              backdrop-blur-md border border-cyan-300/30
              shadow-[0_0_20px_rgba(34,211,238,0.25)]
              hover:shadow-[0_0_30px_rgba(34,211,238,0.45)]
              transition-all duration-300
              ${e?"hero-button-hire":"opacity-0"}
            `,onClick:()=>r("#about"),children:"About Me"}),U.jsxs($l,{size:"lg",variant:"outline",className:`w-auto min-w-[160px] inline-flex items-center justify-center gap-2
              bg-pink-400/70 hover:bg-pink-400/80
              backdrop-blur-md border border-pink-300/30
              shadow-[0_0_20px_rgba(236,72,153,0.25)]
              hover:shadow-[0_0_30px_rgba(236,72,153,0.45)]
              transition-all duration-300
              ${e?"hero-button-projects":"opacity-0"}
            `,onClick:()=>r("#projects"),children:["Projects",U.jsx(SH,{className:"h-5 w-5"})]})]})]})]})}var WO={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(Hk,function(){return function(t){function i(s){if(r[s])return r[s].exports;var o=r[s]={exports:{},id:s,loaded:!1};return t[s].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}var r={};return i.m=t,i.c=r,i.p="dist/",i(0)}([function(t,i,r){function s(F){return F&&F.__esModule?F:{default:F}}var o=Object.assign||function(F){for(var q=1;q<arguments.length;q++){var ee=arguments[q];for(var $ in ee)Object.prototype.hasOwnProperty.call(ee,$)&&(F[$]=ee[$])}return F},a=r(1),l=(s(a),r(6)),c=s(l),d=r(7),h=s(d),p=r(8),m=s(p),v=r(9),_=s(v),x=r(10),g=s(x),A=r(11),S=s(A),M=r(14),T=s(M),C=[],P=!1,B={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},R=function(){var F=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(F&&(P=!0),P)return C=(0,S.default)(C,B),(0,g.default)(C,B.once),C},L=function(){C=(0,T.default)(),R()},O=function(){C.forEach(function(F,q){F.node.removeAttribute("data-aos"),F.node.removeAttribute("data-aos-easing"),F.node.removeAttribute("data-aos-duration"),F.node.removeAttribute("data-aos-delay")})},G=function(F){return F===!0||F==="mobile"&&_.default.mobile()||F==="phone"&&_.default.phone()||F==="tablet"&&_.default.tablet()||typeof F=="function"&&F()===!0},Q=function(F){B=o(B,F),C=(0,T.default)();var q=document.all&&!window.atob;return G(B.disable)||q?O():(B.disableMutationObserver||m.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),B.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",B.easing),document.querySelector("body").setAttribute("data-aos-duration",B.duration),document.querySelector("body").setAttribute("data-aos-delay",B.delay),B.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?R(!0):B.startEvent==="load"?window.addEventListener(B.startEvent,function(){R(!0)}):document.addEventListener(B.startEvent,function(){R(!0)}),window.addEventListener("resize",(0,h.default)(R,B.debounceDelay,!0)),window.addEventListener("orientationchange",(0,h.default)(R,B.debounceDelay,!0)),window.addEventListener("scroll",(0,c.default)(function(){(0,g.default)(C,B.once)},B.throttleDelay)),B.disableMutationObserver||m.default.ready("[data-aos]",L),C)};t.exports={init:Q,refresh:R,refreshHard:L}},function(t,i){},,,,,function(t,i){(function(r){function s(G,Q,F){function q(re){var _e=ve,ye=Ae;return ve=Ae=void 0,ot=re,Be=G.apply(ye,_e)}function ee(re){return ot=re,Oe=setTimeout(V,Q),He?q(re):Be}function $(re){var _e=re-Je,ye=re-ot,Ye=Q-_e;return J?L(Ye,be-ye):Ye}function I(re){var _e=re-Je,ye=re-ot;return Je===void 0||_e>=Q||_e<0||J&&ye>=be}function V(){var re=O();return I(re)?W(re):void(Oe=setTimeout(V,$(re)))}function W(re){return Oe=void 0,pe&&ve?q(re):(ve=Ae=void 0,Be)}function z(){Oe!==void 0&&clearTimeout(Oe),ot=0,ve=Je=Ae=Oe=void 0}function K(){return Oe===void 0?Be:W(O())}function ue(){var re=O(),_e=I(re);if(ve=arguments,Ae=this,Je=re,_e){if(Oe===void 0)return ee(Je);if(J)return Oe=setTimeout(V,Q),q(Je)}return Oe===void 0&&(Oe=setTimeout(V,Q)),Be}var ve,Ae,be,Be,Oe,Je,ot=0,He=!1,J=!1,pe=!0;if(typeof G!="function")throw new TypeError(p);return Q=d(Q)||0,a(F)&&(He=!!F.leading,J="maxWait"in F,be=J?R(d(F.maxWait)||0,Q):be,pe="trailing"in F?!!F.trailing:pe),ue.cancel=z,ue.flush=K,ue}function o(G,Q,F){var q=!0,ee=!0;if(typeof G!="function")throw new TypeError(p);return a(F)&&(q="leading"in F?!!F.leading:q,ee="trailing"in F?!!F.trailing:ee),s(G,Q,{leading:q,maxWait:Q,trailing:ee})}function a(G){var Q=typeof G>"u"?"undefined":h(G);return!!G&&(Q=="object"||Q=="function")}function l(G){return!!G&&(typeof G>"u"?"undefined":h(G))=="object"}function c(G){return(typeof G>"u"?"undefined":h(G))=="symbol"||l(G)&&B.call(G)==v}function d(G){if(typeof G=="number")return G;if(c(G))return m;if(a(G)){var Q=typeof G.valueOf=="function"?G.valueOf():G;G=a(Q)?Q+"":Q}if(typeof G!="string")return G===0?G:+G;G=G.replace(_,"");var F=g.test(G);return F||A.test(G)?S(G.slice(2),F?2:8):x.test(G)?m:+G}var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},p="Expected a function",m=NaN,v="[object Symbol]",_=/^\s+|\s+$/g,x=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,A=/^0o[0-7]+$/i,S=parseInt,M=(typeof r>"u"?"undefined":h(r))=="object"&&r&&r.Object===Object&&r,T=(typeof self>"u"?"undefined":h(self))=="object"&&self&&self.Object===Object&&self,C=M||T||Function("return this")(),P=Object.prototype,B=P.toString,R=Math.max,L=Math.min,O=function(){return C.Date.now()};t.exports=o}).call(i,function(){return this}())},function(t,i){(function(r){function s(O,G,Q){function F(pe){var re=ue,_e=ve;return ue=ve=void 0,Je=pe,be=O.apply(_e,re)}function q(pe){return Je=pe,Be=setTimeout(I,G),ot?F(pe):be}function ee(pe){var re=pe-Oe,_e=pe-Je,ye=G-re;return He?R(ye,Ae-_e):ye}function $(pe){var re=pe-Oe,_e=pe-Je;return Oe===void 0||re>=G||re<0||He&&_e>=Ae}function I(){var pe=L();return $(pe)?V(pe):void(Be=setTimeout(I,ee(pe)))}function V(pe){return Be=void 0,J&&ue?F(pe):(ue=ve=void 0,be)}function W(){Be!==void 0&&clearTimeout(Be),Je=0,ue=Oe=ve=Be=void 0}function z(){return Be===void 0?be:V(L())}function K(){var pe=L(),re=$(pe);if(ue=arguments,ve=this,Oe=pe,re){if(Be===void 0)return q(Oe);if(He)return Be=setTimeout(I,G),F(Oe)}return Be===void 0&&(Be=setTimeout(I,G)),be}var ue,ve,Ae,be,Be,Oe,Je=0,ot=!1,He=!1,J=!0;if(typeof O!="function")throw new TypeError(h);return G=c(G)||0,o(Q)&&(ot=!!Q.leading,He="maxWait"in Q,Ae=He?B(c(Q.maxWait)||0,G):Ae,J="trailing"in Q?!!Q.trailing:J),K.cancel=W,K.flush=z,K}function o(O){var G=typeof O>"u"?"undefined":d(O);return!!O&&(G=="object"||G=="function")}function a(O){return!!O&&(typeof O>"u"?"undefined":d(O))=="object"}function l(O){return(typeof O>"u"?"undefined":d(O))=="symbol"||a(O)&&P.call(O)==m}function c(O){if(typeof O=="number")return O;if(l(O))return p;if(o(O)){var G=typeof O.valueOf=="function"?O.valueOf():O;O=o(G)?G+"":G}if(typeof O!="string")return O===0?O:+O;O=O.replace(v,"");var Q=x.test(O);return Q||g.test(O)?A(O.slice(2),Q?2:8):_.test(O)?p:+O}var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},h="Expected a function",p=NaN,m="[object Symbol]",v=/^\s+|\s+$/g,_=/^[-+]0x[0-9a-f]+$/i,x=/^0b[01]+$/i,g=/^0o[0-7]+$/i,A=parseInt,S=(typeof r>"u"?"undefined":d(r))=="object"&&r&&r.Object===Object&&r,M=(typeof self>"u"?"undefined":d(self))=="object"&&self&&self.Object===Object&&self,T=S||M||Function("return this")(),C=Object.prototype,P=C.toString,B=Math.max,R=Math.min,L=function(){return T.Date.now()};t.exports=s}).call(i,function(){return this}())},function(t,i){function r(d){var h=void 0,p=void 0;for(h=0;h<d.length;h+=1)if(p=d[h],p.dataset&&p.dataset.aos||p.children&&r(p.children))return!0;return!1}function s(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function o(){return!!s()}function a(d,h){var p=window.document,m=s(),v=new m(l);c=h,v.observe(p.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function l(d){d&&d.forEach(function(h){var p=Array.prototype.slice.call(h.addedNodes),m=Array.prototype.slice.call(h.removedNodes),v=p.concat(m);if(r(v))return c()})}Object.defineProperty(i,"__esModule",{value:!0});var c=function(){};i.default={isSupported:o,ready:a}},function(t,i){function r(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function s(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function p(m,v){for(var _=0;_<v.length;_++){var x=v[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,v,_){return v&&p(m.prototype,v),_&&p(m,_),m}}(),a=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,c=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,d=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,h=function(){function p(){r(this,p)}return o(p,[{key:"phone",value:function(){var m=s();return!(!a.test(m)&&!l.test(m.substr(0,4)))}},{key:"mobile",value:function(){var m=s();return!(!c.test(m)&&!d.test(m.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),p}();i.default=new h},function(t,i){Object.defineProperty(i,"__esModule",{value:!0});var r=function(o,a,l){var c=o.node.getAttribute("data-aos-once");a>o.position?o.node.classList.add("aos-animate"):typeof c<"u"&&(c==="false"||!l&&c!=="true")&&o.node.classList.remove("aos-animate")},s=function(o,a){var l=window.pageYOffset,c=window.innerHeight;o.forEach(function(d,h){r(d,c+l,a)})};i.default=s},function(t,i,r){function s(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(i,"__esModule",{value:!0});var o=r(12),a=s(o),l=function(c,d){return c.forEach(function(h,p){h.node.classList.add("aos-init"),h.position=(0,a.default)(h.node,d.offset)}),c};i.default=l},function(t,i,r){function s(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(i,"__esModule",{value:!0});var o=r(13),a=s(o),l=function(c,d){var h=0,p=0,m=window.innerHeight,v={offset:c.getAttribute("data-aos-offset"),anchor:c.getAttribute("data-aos-anchor"),anchorPlacement:c.getAttribute("data-aos-anchor-placement")};switch(v.offset&&!isNaN(v.offset)&&(p=parseInt(v.offset)),v.anchor&&document.querySelectorAll(v.anchor)&&(c=document.querySelectorAll(v.anchor)[0]),h=(0,a.default)(c).top,v.anchorPlacement){case"top-bottom":break;case"center-bottom":h+=c.offsetHeight/2;break;case"bottom-bottom":h+=c.offsetHeight;break;case"top-center":h+=m/2;break;case"bottom-center":h+=m/2+c.offsetHeight;break;case"center-center":h+=m/2+c.offsetHeight/2;break;case"top-top":h+=m;break;case"bottom-top":h+=c.offsetHeight+m;break;case"center-top":h+=c.offsetHeight/2+m}return v.anchorPlacement||v.offset||isNaN(d)||(p=d),h+p};i.default=l},function(t,i){Object.defineProperty(i,"__esModule",{value:!0});var r=function(s){for(var o=0,a=0;s&&!isNaN(s.offsetLeft)&&!isNaN(s.offsetTop);)o+=s.offsetLeft-(s.tagName!="BODY"?s.scrollLeft:0),a+=s.offsetTop-(s.tagName!="BODY"?s.scrollTop:0),s=s.offsetParent;return{top:a,left:o}};i.default=r},function(t,i){Object.defineProperty(i,"__esModule",{value:!0});var r=function(s){return s=s||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(s,function(o){return{node:o}})};i.default=r}])})})(WO);var U$=WO.exports;const z$=k0(U$);function H$(){return D.useEffect(()=>{z$.init({duration:900,easing:"ease-out-cubic",once:!0,offset:100});const n=document.querySelector('[id="about"]');if(!n)return;const e=new IntersectionObserver(t=>{t.forEach(i=>{i.isIntersecting&&va.getInstance().lock("about",1200)})},{threshold:.5});return e.observe(n),()=>e.disconnect()},[]),U.jsxs("section",{id:"about",className:"relative py-16 md:py-24 lg:py-32 scroll-mt-20 overflow-hidden",children:[U.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('/images/kelechi.png')",backgroundAttachment:"fixed"}}),U.jsx("div",{className:"absolute inset-0 bg-black/30 -z-1"}),U.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-6 md:px-8",children:[U.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-center mb-16 text-white","data-aos":"fade-up","data-aos-delay":150,children:"About Me"}),U.jsxs("div",{className:"max-w-3xl mx-auto space-y-6 text-base md:text-lg text-gray-200 leading-relaxed",children:[U.jsx("p",{"data-aos":"fade-up","data-aos-delay":250,children:"I am a Software Development Engineer focused on building AI-powered, scalable software solutions that solve real-world business problems. I specialize in full-stack development, combining robust backend systems with modern web technologies to deliver reliable, high-performance applications."}),U.jsx("p",{"data-aos":"fade-up","data-aos-delay":350,children:"My expertise includes AI integration, intelligent automation, and backend architecture, where I design systems that streamline workflows, enhance decision-making, and improve operational efficiency. I apply strong software engineering best practices to ensure clean, maintainable, and production-ready code."}),U.jsx("p",{"data-aos":"fade-up","data-aos-delay":450,children:"I enjoy working on complex technical challenges, from designing scalable system architectures and optimizing performance to implementing AI-driven features and automated workflows. I thrive in collaborative environments and bring a detail-oriented, outcome-focused approach to every project, with an emphasis on building solutions that are both technically sound and business-effective."})]})]})]})}const G$="/videos/city.mp4",V$=[{icon:yH,title:"Custom Full-Stack Application Development",description:"Design and build secure, scalable web applications from scratch covering frontend, backend, APIs, and databases tailored to business needs and built using modern engineering best practices."},{icon:bH,title:"AI-Powered Features & Intelligent Systems",description:"Integrate AI into products, including LLM-based chatbots, RAG systems, recommendation engines, and intelligent decision workflows that enhance user experience and automate insights."},{icon:AH,title:"Business Process Automation & Integrations",description:"Automate repetitive workflows and connect tools like CRMs, databases, payment gateways, email, and WhatsApp using APIs, queues, and schedulers to improve efficiency and reduce manual work."},{icon:_H,title:"Backend Architecture & Performance Optimization",description:"Design or improve backend systems for scalability, reliability, and speedcovering system architecture, database optimization, async processing, and production-grade deployment readiness."}],W$={hidden:{opacity:0,y:32},visible:{opacity:1,y:0}};function j$(){const[n,e]=D.useState(null);return U.jsxs("section",{className:"relative py-32 overflow-hidden",children:[U.jsx(X$,{}),U.jsxs("div",{className:"relative z-10 max-w-3xl mx-auto px-6",children:[U.jsx("h2",{className:"text-center text-4xl font-bold mb-12 text-white drop-shadow",children:"Services"}),U.jsx("div",{className:"flex flex-col gap-6",children:V$.map((t,i)=>{const r=n===t.title;return U.jsx(J$,{service:t,index:i,isActive:r,onToggle:()=>e(s=>s===t.title?null:t.title)},t.title)})})]})]})}function X$(){return U.jsxs("div",{className:"absolute inset-0 z-0",children:[U.jsx("video",{className:"absolute inset-0 w-full h-full object-cover",src:G$,autoPlay:!0,muted:!0,loop:!0,playsInline:!0}),U.jsx("div",{className:"absolute inset-0 bg-black/50"})]})}function J$({service:n,isActive:e,onToggle:t,index:i}){const r=n.icon;return U.jsxs(Qn.article,{variants:W$,initial:"hidden",whileInView:"visible",viewport:{once:!0},transition:{duration:.45,delay:i*.08},onClick:t,className:`
        relative mx-auto w-full max-w-xl
        rounded-3xl cursor-pointer overflow-hidden

        bg-white/10
        backdrop-blur-xl backdrop-saturate-150
        border border-white/20
        shadow-[0_20px_60px_rgba(0,0,0,0.35)]
      `,children:[U.jsx("div",{"aria-hidden":!0,className:`
          absolute inset-0 rounded-3xl
          bg-gradient-to-b
          from-white/25 via-transparent to-transparent
          pointer-events-none
        `}),U.jsxs("div",{className:"relative text-white",children:[U.jsxs("header",{className:"flex items-center gap-5 px-8 py-6",children:[U.jsx(r,{className:"w-8 h-8 text-white/90 shrink-0"}),U.jsx("h3",{className:"text-3xl font-semibold drop-shadow",children:n.title})]}),U.jsx(Qn.div,{initial:!1,animate:{maxHeight:e?260:0,opacity:e?1:0},transition:{maxHeight:{duration:.35,ease:[.4,0,.2,1]},opacity:{duration:.2}},className:"overflow-hidden px-8",children:U.jsx("p",{className:"pb-6 text-white/80 leading-relaxed",children:n.description})})]})]})}var jO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},CP=Bi.createContext&&Bi.createContext(jO),K$=["attr","size","title"];function Y$(n,e){if(n==null)return{};var t=Q$(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function Q$(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function F0(){return F0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},F0.apply(this,arguments)}function bP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function O0(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(t),!0).forEach(function(i){q$(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bP(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function q$(n,e,t){return e=Z$(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Z$(n){var e=$$(n,"string");return typeof e=="symbol"?e:e+""}function $$(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function XO(n){return n&&n.map((e,t)=>Bi.createElement(e.tag,O0({key:t},e.attr),XO(e.child)))}function Ei(n){return e=>Bi.createElement(eee,F0({attr:O0({},n.attr)},e),XO(n.child))}function eee(n){var e=t=>{var{attr:i,size:r,title:s}=n,o=Y$(n,K$),a=r||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),Bi.createElement("svg",F0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,o,{className:l,style:O0(O0({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Bi.createElement("title",null,s),n.children)};return CP!==void 0?Bi.createElement(CP.Consumer,null,t=>e(t)):e(jO)}function tee(n){return Ei({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M24 18.588a1.529 1.529 0 01-1.895-.72l-3.45-4.771-.5-.667-4.003 5.444a1.466 1.466 0 01-1.802.708l5.158-6.92-4.798-6.251a1.595 1.595 0 011.9.666l3.576 4.83 3.596-4.81a1.435 1.435 0 011.788-.668L21.708 7.9l-2.522 3.283a.666.666 0 000 .994l4.804 6.412zM.002 11.576l.42-2.075c1.154-4.103 5.858-5.81 9.094-3.27 1.895 1.489 2.368 3.597 2.275 5.973H1.116C.943 16.447 4.005 19.009 7.92 17.7a4.078 4.078 0 002.582-2.876c.207-.666.548-.78 1.174-.588a5.417 5.417 0 01-2.589 3.957 6.272 6.272 0 01-7.306-.933 6.575 6.575 0 01-1.64-3.858c0-.235-.08-.455-.134-.666A88.33 88.33 0 010 11.577zm1.127-.286h9.654c-.06-3.076-2.001-5.258-4.59-5.278-2.882-.04-4.944 2.094-5.071 5.264z"},child:[]}]})(n)}function nee(n){return Ei({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 .0387C5.3729.0384.0003 5.3931 0 11.9988c-.001 6.6066 5.372 11.9628 12 11.9625 6.628.0003 12.001-5.3559 12-11.9625-.0003-6.6057-5.3729-11.9604-12-11.96m-.829 5.4153h7.55l-7.5805 5.3284h5.1828L5.279 18.5436q2.9466-6.5444 5.892-13.0896"},child:[]}]})(n)}function iee(n){return Ei({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M15.852 8.981h-4.588V0h4.588c2.476 0 4.49 2.014 4.49 4.49s-2.014 4.491-4.49 4.491zM12.735 7.51h3.117c1.665 0 3.019-1.355 3.019-3.019s-1.355-3.019-3.019-3.019h-3.117V7.51zm0 1.471H8.148c-2.476 0-4.49-2.014-4.49-4.49S5.672 0 8.148 0h4.588v8.981zm-4.587-7.51c-1.665 0-3.019 1.355-3.019 3.019s1.354 3.02 3.019 3.02h3.117V1.471H8.148zm4.587 15.019H8.148c-2.476 0-4.49-2.014-4.49-4.49s2.014-4.49 4.49-4.49h4.588v8.98zM8.148 8.981c-1.665 0-3.019 1.355-3.019 3.019s1.355 3.019 3.019 3.019h3.117V8.981H8.148zM8.172 24c-2.489 0-4.515-2.014-4.515-4.49s2.014-4.49 4.49-4.49h4.588v4.441c0 2.503-2.047 4.539-4.563 4.539zm-.024-7.51a3.023 3.023 0 0 0-3.019 3.019c0 1.665 1.365 3.019 3.044 3.019 1.705 0 3.093-1.376 3.093-3.068v-2.97H8.148zm7.704 0h-.098c-2.476 0-4.49-2.014-4.49-4.49s2.014-4.49 4.49-4.49h.098c2.476 0 4.49 2.014 4.49 4.49s-2.014 4.49-4.49 4.49zm-.097-7.509c-1.665 0-3.019 1.355-3.019 3.019s1.355 3.019 3.019 3.019h.098c1.665 0 3.019-1.355 3.019-3.019s-1.355-3.019-3.019-3.019h-.098z"},child:[]}]})(n)}function ree(n){return Ei({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.546 10.93L13.067.452c-.604-.603-1.582-.603-2.188 0L8.708 2.627l2.76 2.76c.645-.215 1.379-.07 1.889.441.516.515.658 1.258.438 1.9l2.658 2.66c.645-.223 1.387-.078 1.9.435.721.72.721 1.884 0 2.604-.719.719-1.881.719-2.6 0-.539-.541-.674-1.337-.404-1.996L12.86 8.955v6.525c.176.086.342.203.488.348.713.721.713 1.883 0 2.6-.719.721-1.889.721-2.609 0-.719-.719-.719-1.879 0-2.598.182-.18.387-.316.605-.406V8.835c-.217-.091-.424-.222-.6-.401-.545-.545-.676-1.342-.396-2.009L7.636 3.7.45 10.881c-.6.605-.6 1.584 0 2.189l10.48 10.477c.604.604 1.582.604 2.186 0l10.43-10.43c.605-.603.605-1.582 0-2.187"},child:[]}]})(n)}function see(n){return Ei({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"},child:[]}]})(n)}function oee(n){return Ei({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.5 0h21l-1.91 21.563L11.977 24l-8.564-2.438L1.5 0zm7.031 9.75l-.232-2.718 10.059.003.23-2.622L5.412 4.41l.698 8.01h9.126l-.326 3.426-2.91.804-2.955-.81-.188-2.11H6.248l.33 4.171L12 19.351l5.379-1.443.744-8.157H8.531z"},child:[]}]})(n)}function RP(n){return Ei({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z"},child:[]}]})(n)}function aee(n){return Ei({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.193 9.555c-1.264-5.58-4.252-7.414-4.573-8.115-.28-.394-.53-.954-.735-1.44-.036.495-.055.685-.523 1.184-.723.566-4.438 3.682-4.74 10.02-.282 5.912 4.27 9.435 4.888 9.884l.07.05A73.49 73.49 0 0111.91 24h.481c.114-1.032.284-2.056.51-3.07.417-.296.604-.463.85-.693a11.342 11.342 0 003.639-8.464c.01-.814-.103-1.662-.197-2.218zm-5.336 8.195s0-8.291.275-8.29c.213 0 .49 10.695.49 10.695-.381-.045-.765-1.76-.765-2.405z"},child:[]}]})(n)}function lee(n){return Ei({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.665 21.978C16.758 23.255 14.465 24 12 24 5.377 24 0 18.623 0 12S5.377 0 12 0s12 5.377 12 12c0 3.583-1.574 6.801-4.067 9.001L9.219 7.2H7.2v9.596h1.615V9.251l9.85 12.727Zm-3.332-8.533 1.6 2.061V7.2h-1.6v6.245Z"},child:[]}]})(n)}function cee(n){return Ei({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.998,24c-0.321,0-0.641-0.084-0.922-0.247l-2.936-1.737c-0.438-0.245-0.224-0.332-0.08-0.383 c0.585-0.203,0.703-0.25,1.328-0.604c0.065-0.037,0.151-0.023,0.218,0.017l2.256,1.339c0.082,0.045,0.197,0.045,0.272,0l8.795-5.076 c0.082-0.047,0.134-0.141,0.134-0.238V6.921c0-0.099-0.053-0.192-0.137-0.242l-8.791-5.072c-0.081-0.047-0.189-0.047-0.271,0 L3.075,6.68C2.99,6.729,2.936,6.825,2.936,6.921v10.15c0,0.097,0.054,0.189,0.139,0.235l2.409,1.392 c1.307,0.654,2.108-0.116,2.108-0.89V7.787c0-0.142,0.114-0.253,0.256-0.253h1.115c0.139,0,0.255,0.112,0.255,0.253v10.021 c0,1.745-0.95,2.745-2.604,2.745c-0.508,0-0.909,0-2.026-0.551L2.28,18.675c-0.57-0.329-0.922-0.945-0.922-1.604V6.921 c0-0.659,0.353-1.275,0.922-1.603l8.795-5.082c0.557-0.315,1.296-0.315,1.848,0l8.794,5.082c0.57,0.329,0.924,0.944,0.924,1.603 v10.15c0,0.659-0.354,1.273-0.924,1.604l-8.794,5.078C12.643,23.916,12.324,24,11.998,24z M19.099,13.993 c0-1.9-1.284-2.406-3.987-2.763c-2.731-0.361-3.009-0.548-3.009-1.187c0-0.528,0.235-1.233,2.258-1.233 c1.807,0,2.473,0.389,2.747,1.607c0.024,0.115,0.129,0.199,0.247,0.199h1.141c0.071,0,0.138-0.031,0.186-0.081 c0.048-0.054,0.074-0.123,0.067-0.196c-0.177-2.098-1.571-3.076-4.388-3.076c-2.508,0-4.004,1.058-4.004,2.833 c0,1.925,1.488,2.457,3.895,2.695c2.88,0.282,3.103,0.703,3.103,1.269c0,0.983-0.789,1.402-2.642,1.402 c-2.327,0-2.839-0.584-3.011-1.742c-0.02-0.124-0.126-0.215-0.253-0.215h-1.137c-0.141,0-0.254,0.112-0.254,0.253 c0,1.482,0.806,3.248,4.655,3.248C17.501,17.007,19.099,15.91,19.099,13.993z"},child:[]}]})(n)}function uee(n){return Ei({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"},child:[]}]})(n)}function dee(n){return Ei({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.23 12.004a2.236 2.236 0 0 1-2.235 2.236 2.236 2.236 0 0 1-2.236-2.236 2.236 2.236 0 0 1 2.235-2.236 2.236 2.236 0 0 1 2.236 2.236zm2.648-10.69c-1.346 0-3.107.96-4.888 2.622-1.78-1.653-3.542-2.602-4.887-2.602-.41 0-.783.093-1.106.278-1.375.793-1.683 3.264-.973 6.365C1.98 8.917 0 10.42 0 12.004c0 1.59 1.99 3.097 5.043 4.03-.704 3.113-.39 5.588.988 6.38.32.187.69.275 1.102.275 1.345 0 3.107-.96 4.888-2.624 1.78 1.654 3.542 2.603 4.887 2.603.41 0 .783-.09 1.106-.275 1.374-.792 1.683-3.263.973-6.365C22.02 15.096 24 13.59 24 12.004c0-1.59-1.99-3.097-5.043-4.032.704-3.11.39-5.587-.988-6.38-.318-.184-.688-.277-1.092-.278zm-.005 1.09v.006c.225 0 .406.044.558.127.666.382.955 1.835.73 3.704-.054.46-.142.945-.25 1.44-.96-.236-2.006-.417-3.107-.534-.66-.905-1.345-1.727-2.035-2.447 1.592-1.48 3.087-2.292 4.105-2.295zm-9.77.02c1.012 0 2.514.808 4.11 2.28-.686.72-1.37 1.537-2.02 2.442-1.107.117-2.154.298-3.113.538-.112-.49-.195-.964-.254-1.42-.23-1.868.054-3.32.714-3.707.19-.09.4-.127.563-.132zm4.882 3.05c.455.468.91.992 1.36 1.564-.44-.02-.89-.034-1.345-.034-.46 0-.915.01-1.36.034.44-.572.895-1.096 1.345-1.565zM12 8.1c.74 0 1.477.034 2.202.093.406.582.802 1.203 1.183 1.86.372.64.71 1.29 1.018 1.946-.308.655-.646 1.31-1.013 1.95-.38.66-.773 1.288-1.18 1.87-.728.063-1.466.098-2.21.098-.74 0-1.477-.035-2.202-.093-.406-.582-.802-1.204-1.183-1.86-.372-.64-.71-1.29-1.018-1.946.303-.657.646-1.313 1.013-1.954.38-.66.773-1.286 1.18-1.868.728-.064 1.466-.098 2.21-.098zm-3.635.254c-.24.377-.48.763-.704 1.16-.225.39-.435.782-.635 1.174-.265-.656-.49-1.31-.676-1.947.64-.15 1.315-.283 2.015-.386zm7.26 0c.695.103 1.365.23 2.006.387-.18.632-.405 1.282-.66 1.933-.2-.39-.41-.783-.64-1.174-.225-.392-.465-.774-.705-1.146zm3.063.675c.484.15.944.317 1.375.498 1.732.74 2.852 1.708 2.852 2.476-.005.768-1.125 1.74-2.857 2.475-.42.18-.88.342-1.355.493-.28-.958-.646-1.956-1.1-2.98.45-1.017.81-2.01 1.085-2.964zm-13.395.004c.278.96.645 1.957 1.1 2.98-.45 1.017-.812 2.01-1.086 2.964-.484-.15-.944-.318-1.37-.5-1.732-.737-2.852-1.706-2.852-2.474 0-.768 1.12-1.742 2.852-2.476.42-.18.88-.342 1.356-.494zm11.678 4.28c.265.657.49 1.312.676 1.948-.64.157-1.316.29-2.016.39.24-.375.48-.762.705-1.158.225-.39.435-.788.636-1.18zm-9.945.02c.2.392.41.783.64 1.175.23.39.465.772.705 1.143-.695-.102-1.365-.23-2.006-.386.18-.63.406-1.282.66-1.933zM17.92 16.32c.112.493.2.968.254 1.423.23 1.868-.054 3.32-.714 3.708-.147.09-.338.128-.563.128-1.012 0-2.514-.807-4.11-2.28.686-.72 1.37-1.536 2.02-2.44 1.107-.118 2.154-.3 3.113-.54zm-11.83.01c.96.234 2.006.415 3.107.532.66.905 1.345 1.727 2.035 2.446-1.595 1.483-3.092 2.295-4.11 2.295-.22-.005-.406-.05-.553-.132-.666-.38-.955-1.834-.73-3.703.054-.46.142-.944.25-1.438zm4.56.64c.44.02.89.034 1.345.034.46 0 .915-.01 1.36-.034-.44.572-.895 1.095-1.345 1.565-.455-.47-.91-.993-1.36-1.565z"},child:[]}]})(n)}function fee(n){return Ei({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.001,4.8c-3.2,0-5.2,1.6-6,4.8c1.2-1.6,2.6-2.2,4.2-1.8c0.913,0.228,1.565,0.89,2.288,1.624 C13.666,10.618,15.027,12,18.001,12c3.2,0,5.2-1.6,6-4.8c-1.2,1.6-2.6,2.2-4.2,1.8c-0.913-0.228-1.565-0.89-2.288-1.624 C16.337,6.182,14.976,4.8,12.001,4.8z M6.001,12c-3.2,0-5.2,1.6-6,4.8c1.2-1.6,2.6-2.2,4.2-1.8c0.913,0.228,1.565,0.89,2.288,1.624 c1.177,1.194,2.538,2.576,5.512,2.576c3.2,0,5.2-1.6,6-4.8c-1.2,1.6-2.6,2.2-4.2,1.8c-0.913-0.228-1.565-0.89-2.288-1.624 C10.337,13.382,8.976,12,6.001,12z"},child:[]}]})(n)}function hee(n){return Ei({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M.38 0a.268.268 0 0 0-.256.332l2.894 11.716a.268.268 0 0 0 .01.04l2.89 11.708a.268.268 0 0 0 .447.128L23.802 7.15a.268.268 0 0 0-.112-.45l-5.784-1.667a.268.268 0 0 0-.123-.035L6.38 1.715a.268.268 0 0 0-.144-.04L.456.01A.268.268 0 0 0 .38 0zm.374.654L5.71 2.08 1.99 5.664zM6.61 2.34l4.864 1.4-3.65 3.515zm-.522.12l1.217 4.926-4.877-1.4zm6.28 1.538l4.878 1.404-3.662 3.53zm-.52.13l1.208 4.9-4.853-1.392zm6.3 1.534l4.947 1.424-3.715 3.574zm-.524.12l1.215 4.926-4.876-1.398zm-15.432.696l4.964 1.424-3.726 3.586zM8.047 8.15l4.877 1.4-3.66 3.527zm-.518.137l1.236 5.017-4.963-1.432zm6.274 1.535l4.965 1.425-3.73 3.586zm-.52.127l1.235 5.012-4.958-1.43zm-9.63 2.438l4.873 1.406-3.656 3.523zm5.854 1.687l4.863 1.403-3.648 3.51zm-.54.04l1.214 4.927-4.875-1.4zm-3.896 4.02l5.037 1.442-3.782 3.638z"},child:[]}]})(n)}function pee(n){return Ei({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.125 0C.502 0 0 .502 0 1.125v21.75C0 23.498.502 24 1.125 24h21.75c.623 0 1.125-.502 1.125-1.125V1.125C24 .502 23.498 0 22.875 0zm17.363 9.75c.612 0 1.154.037 1.627.111a6.38 6.38 0 0 1 1.306.34v2.458a3.95 3.95 0 0 0-.643-.361 5.093 5.093 0 0 0-.717-.26 5.453 5.453 0 0 0-1.426-.2c-.3 0-.573.028-.819.086a2.1 2.1 0 0 0-.623.242c-.17.104-.3.229-.393.374a.888.888 0 0 0-.14.49c0 .196.053.373.156.529.104.156.252.304.443.444s.423.276.696.41c.273.135.582.274.926.416.47.197.892.407 1.266.628.374.222.695.473.963.753.268.279.472.598.614.957.142.359.214.776.214 1.253 0 .657-.125 1.21-.373 1.656a3.033 3.033 0 0 1-1.012 1.085 4.38 4.38 0 0 1-1.487.596c-.566.12-1.163.18-1.79.18a9.916 9.916 0 0 1-1.84-.164 5.544 5.544 0 0 1-1.512-.493v-2.63a5.033 5.033 0 0 0 3.237 1.2c.333 0 .624-.03.872-.09.249-.06.456-.144.623-.25.166-.108.29-.234.373-.38a1.023 1.023 0 0 0-.074-1.089 2.12 2.12 0 0 0-.537-.5 5.597 5.597 0 0 0-.807-.444 27.72 27.72 0 0 0-1.007-.436c-.918-.383-1.602-.852-2.053-1.405-.45-.553-.676-1.222-.676-2.005 0-.614.123-1.141.369-1.582.246-.441.58-.804 1.004-1.089a4.494 4.494 0 0 1 1.47-.629 7.536 7.536 0 0 1 1.77-.201zm-15.113.188h9.563v2.166H9.506v9.646H6.789v-9.646H3.375z"},child:[]}]})(n)}function mee(n){return Ei({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m8.286 10.578.512-8.657a.306.306 0 0 1 .247-.282L17.377.006a.306.306 0 0 1 .353.385l-1.558 5.403a.306.306 0 0 0 .352.385l2.388-.46a.306.306 0 0 1 .332.438l-6.79 13.55-.123.19a.294.294 0 0 1-.252.14c-.177 0-.35-.152-.305-.369l1.095-5.301a.306.306 0 0 0-.388-.355l-1.433.435a.306.306 0 0 1-.389-.354l.69-3.375a.306.306 0 0 0-.37-.36l-2.32.536a.306.306 0 0 1-.374-.316zm14.976-7.926L17.284 3.74l-.544 1.887 2.077-.4a.8.8 0 0 1 .84.369.8.8 0 0 1 .034.783L12.9 19.93l-.013.025-.015.023-.122.19a.801.801 0 0 1-.672.37.826.826 0 0 1-.634-.302.8.8 0 0 1-.16-.67l1.029-4.981-1.12.34a.81.81 0 0 1-.86-.262.802.802 0 0 1-.165-.67l.63-3.08-2.027.468a.808.808 0 0 1-.768-.233.81.81 0 0 1-.217-.6l.389-6.57-7.44-1.33a.612.612 0 0 0-.64.906L11.58 23.691a.612.612 0 0 0 1.066-.004l11.26-20.135a.612.612 0 0 0-.644-.9z"},child:[]}]})(n)}const eu=[{name:"HTML",icon:oee,color:"#E34F26",description:["HyperText Markup Language: the standard language to structure web content.","Organizes pages with semantic elements for clarity and accessibility.","Essential for SEO, ensuring search engines understand your content.","Forms the backbone of responsive and well-structured interfaces.","I use HTML to create maintainable, semantic code that supports all frontend layouts."]},{name:"Tailwind CSS",icon:fee,color:"#06B6D4",description:["Utility-first CSS framework that allows for rapid styling without leaving HTML.","Eliminates bulky CSS files and reduces styling conflicts.","Supports responsive design and consistent UI across all components.","Speeds up prototyping while keeping the design scalable.","I use Tailwind to build modern, consistent, and visually appealing interfaces efficiently."]},{name:"JavaScript",icon:RP,color:"#F7DF1E",description:["The core programming language of the web for interactive functionality.","Enables dynamic content, animations, and real-time UI updates.","Bridges frontend interfaces with backend data seamlessly.","Powers rich user experiences with responsive interactivity.","I use JavaScript to build intuitive, dynamic apps that react to user behavior in real-time."]},{name:"TypeScript",icon:pee,color:"#3178C6",description:["Superset of JavaScript that adds strong typing and error checking.","Reduces runtime bugs and improves maintainability of large projects.","Enhances developer productivity by enabling better IDE support.","Makes complex applications easier to scale and maintain.","I use TypeScript to build reliable, robust apps while preventing common coding mistakes."]},{name:"React",icon:dee,color:"#61DAFB",description:["Component-based library for building reusable and maintainable UI elements.","Virtual DOM ensures fast rendering and smooth UI updates.","Ideal for building interactive dashboards and complex interfaces.","Allows for modular, testable, and scalable web applications.","I use React to deliver fast, responsive, and dynamic user experiences tailored to client needs."]},{name:"Next.js",icon:lee,color:"#000000",description:["React framework supporting SSR (Server-Side Rendering) and SSG (Static Site Generation).","Optimizes apps for SEO, speed, and performance out of the box.","Built-in routing, API handling, and image optimization simplify development.","Perfect for production-grade, high-performance web apps.","I use Next.js to deliver fast, scalable, and SEO-friendly applications efficiently."]},{name:"Python",icon:uee,color:"#3776AB",description:["High-level, versatile programming language used for automation, AI, and backend services.","Simplifies complex tasks like data processing and workflow automation.","Supports a vast ecosystem of libraries for machine learning and web development.","Reduces manual labor through scripts and automated routines.","I use Python to streamline backend workflows and implement intelligent, automated solutions."]},{name:"FastAPI",icon:nee,color:"#009688",description:["Modern Python framework for building high-performance APIs.","Auto-generates interactive API documentation for easier integration.","Supports asynchronous code for faster processing and scalability.","Ideal for dashboards, microservices, and internal tools.","I leverage FastAPI to deliver robust, secure, and scalable backend services quickly."]},{name:"Vite",icon:mee,color:"#646CFF",description:["Next-generation frontend build tool with lightning-fast development server.","Supports instant Hot Module Replacement (HMR) for rapid iteration.","Modern bundler that replaces slower legacy tools.","Works seamlessly with React, Vue, and TypeScript projects.","I use Vite to speed up development and ensure a smooth, efficient frontend workflow."]},{name:"Three.js",icon:hee,color:"#000000",description:["JavaScript library for creating 3D graphics directly in the browser.","Enables interactive scenes, product viewers, and animations.","Transforms standard web pages into immersive visual experiences.","Perfect for showcasing complex data or products in a compelling way.","I use Three.js to craft visually stunning, interactive experiences for users."]},{name:"Git",icon:ree,color:"#F05032",description:["Version control system to track code changes and collaborate with teams.","Maintains a clean history of project evolution and prevents data loss.","Supports branching and merging for safe experimentation.","Essential for team projects and collaborative development.","I use Git to ensure code integrity, team collaboration, and smooth deployment pipelines."]},{name:"GitHub",icon:see,color:"#181717",github:"https://github.com/deymohit02",description:["Web-based platform for version control and collaborative software development.","Hosts Git repositories, enabling team collaboration and project management.","Supports branching, pull requests, and code review workflows.","Integrates with CI/CD pipelines, issue tracking, and project boards.","I use GitHub to manage code, collaborate with teams, and maintain reliable, versioned projects."]},{name:"Figma",icon:iee,color:"#F24E1E",description:["UI/UX design tool for prototyping web and mobile applications.","Supports real-time collaboration with clients and team members.","Allows creation of visually consistent and user-friendly interfaces.","Generates designs that can be directly translated into code.","I use Figma to design intuitive and pixel-perfect interfaces before implementation."]},{name:"API Integrations",icon:RP,color:"#8B5CF6",description:["Connects applications to third-party services like payments, auth, and CRMs.","Automates workflows and ensures seamless data exchange.","Eliminates manual processes, reducing errors and increasing efficiency.","Enables building more powerful, feature-rich applications.","I implement API integrations to extend app functionality and improve user experience."]},{name:"Node.js",icon:cee,color:"#339933",description:["JavaScript runtime for building server-side applications.","Supports real-time apps like chats, dashboards, and notifications.","Enables building lightweight, scalable APIs and microservices.","Perfect for event-driven and asynchronous backend processes.","I use Node.js to deliver high-performance, scalable server solutions."]},{name:"Express.js",icon:tee,color:"#000000",description:["Minimal Node.js framework for building APIs and web servers.","Flexible routing and middleware allow custom backend logic.","Ideal for RESTful APIs, authentication, and custom services.","Reduces boilerplate code and accelerates server development.","I leverage Express.js to build efficient, maintainable, and flexible backends."]},{name:"MongoDB",icon:aee,color:"#47A248",description:["NoSQL database for handling unstructured and flexible data.","Supports scalable, document-based storage for modern apps.","Handles dynamic schemas, ideal for rapidly evolving projects.","Provides fast querying and aggregation for analytics and dashboards.","I use MongoDB to store and retrieve data efficiently while allowing application flexibility."]}],X1=180,gee=24,vee=100;function yee(){const[n,e]=D.useState(null);return U.jsxs("section",{id:"skills",className:"relative py-24 overflow-hidden bg-background",children:[U.jsxs("div",{className:"max-w-7xl mx-auto px-6 md:px-8",children:[U.jsx("h2",{className:"text-center text-4xl font-bold mb-12",children:"Skills"}),U.jsx(xee,{onSelect:e})]}),U.jsx($w,{children:n&&U.jsxs(U.Fragment,{children:[U.jsx(Aee,{onClose:()=>e(null)}),U.jsx(_ee,{skill:n,onClose:()=>e(null)})]})})]})}function xee({onSelect:n}){const e=!!h7(),t=D.useRef(null),[i,r]=D.useState(0),[s,o]=D.useState(X1),[a,l]=D.useState(!1);return D.useEffect(()=>{const c=()=>{const d=window.innerWidth;let h=1;d<640?h=.8:d<768?h=.9:d<1024?h=1:h=Math.min(d/1280,1.2);const p=X1*h;o(p),r((p+gee)*eu.length)};return c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),i===0?U.jsx("div",{className:"relative overflow-hidden w-full",children:U.jsx("div",{className:"flex gap-6",children:eu.map((c,d)=>U.jsx(PP,{skill:c,layoutId:`skill-${c.name}-${d}`,onClick:()=>n(c),shouldReduceMotion:e,cardWidth:X1},`${c.name}-${d}`))})}):U.jsx("div",{className:"relative overflow-hidden w-full",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:U.jsx(Qn.div,{ref:t,className:"flex gap-6 will-change-transform",animate:e||a?{}:{x:[0,-i]},transition:{repeat:1/0,repeatType:"loop",ease:"linear",duration:i/vee},style:{width:"max-content"},children:[...eu,...eu,...eu].map((c,d)=>U.jsx(PP,{skill:c,layoutId:`skill-${c.name}-${d%eu.length}`,onClick:()=>n(c),shouldReduceMotion:e,cardWidth:s},`${c.name}-${d}`))})})}function PP({skill:n,onClick:e,layoutId:t,shouldReduceMotion:i,cardWidth:r}){const s=n.icon;return U.jsxs(Qn.button,{layoutId:t,onClick:e,className:"flex-shrink-0 h-[120px] rounded-xl border border-card-border bg-card flex flex-col items-center justify-center gap-3 focus:outline-none",style:{color:n.color,width:r},whileHover:i?{}:{scale:1.05},transition:{type:"spring",stiffness:300,damping:25},children:[U.jsx(s,{className:"w-10 h-10"}),U.jsx("span",{className:"font-medium text-sm text-foreground",children:n.name})]})}function _ee({skill:n,onClose:e}){const t=n.icon;return D.useEffect(()=>{const i=r=>r.key==="Escape"&&e();return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[e]),U.jsx(Qn.div,{layoutId:`skill-${n.name}`,className:"fixed inset-0 z-50 flex items-center justify-center pointer-events-none",children:U.jsxs(Qn.div,{className:"pointer-events-auto w-[90vw] max-w-xl rounded-2xl bg-card p-8 shadow-2xl relative",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.25,ease:"easeOut"},children:[U.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-1 rounded hover:bg-black/10","aria-label":"Close",children:U.jsx(lv,{})}),U.jsxs("div",{className:"flex items-center gap-3 mb-6",style:{color:n.color},children:[U.jsx(t,{className:"w-12 h-12"}),U.jsx("h3",{className:"text-2xl font-bold",children:n.name})]}),U.jsx("ul",{className:"space-y-2 text-muted-foreground",children:n.description.map((i,r)=>U.jsxs("li",{children:[" ",i]},r))}),n.github&&U.jsx("a",{href:n.github,target:"_blank",rel:"noopener noreferrer",className:"mt-4 inline-block text-primary hover:underline",children:"GitHub Repo"})]})})}function Aee({onClose:n}){return U.jsx(Qn.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n})}const KM=D.forwardRef(({className:n,...e},t)=>U.jsx("div",{ref:t,className:Zi("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",n),...e}));KM.displayName="Card";const See=D.forwardRef(({className:n,...e},t)=>U.jsx("div",{ref:t,className:Zi("flex flex-col space-y-1.5 p-6",n),...e}));See.displayName="CardHeader";const wee=D.forwardRef(({className:n,...e},t)=>U.jsx("div",{ref:t,className:Zi("text-2xl font-semibold leading-none tracking-tight",n),...e}));wee.displayName="CardTitle";const Mee=D.forwardRef(({className:n,...e},t)=>U.jsx("div",{ref:t,className:Zi("text-sm text-muted-foreground",n),...e}));Mee.displayName="CardDescription";const JO=D.forwardRef(({className:n,...e},t)=>U.jsx("div",{ref:t,className:Zi("p-6 pt-0",n),...e}));JO.displayName="CardContent";const Eee=D.forwardRef(({className:n,...e},t)=>U.jsx("div",{ref:t,className:Zi("flex items-center p-6 pt-0",n),...e}));Eee.displayName="CardFooter";const Tee="/assets/SME_Operations_Tool_Dashboard_e5c8c72c-BhiBpqP5.png",Cee="/assets/File_Management_Automation_Interface_af0f96bf-C5rXNDCl.png",bee="/assets/Handyman_Marketplace_App_UI_f8879244-CrWdwgJU.png",LP=[{title:"SMETools",description:"A suite of tools used to automate daily SME operations and data workflows.",image:Tee,fullDescription:"A comprehensive operations management platform designed specifically for small and medium enterprises. This tool streamlines daily business operations by automating data workflows, generating reports, and providing real-time insights into business metrics.",technologies:["React","TypeScript","Node.js","PostgreSQL","Tailwind CSS"],features:["Automated data workflow processing","Real-time dashboard analytics","Custom report generation","User role management","Integration with third-party APIs","Mobile-responsive design"],challenges:"The main challenge was creating a flexible system that could adapt to different business workflows while maintaining performance with large datasets. Solved by implementing efficient data caching strategies and modular architecture."},{title:"File Management Automation Script",description:"Python-based automation that reduced hours of manual work to minutes.",image:Cee,fullDescription:"An intelligent file management system that automates the organization, processing, and archival of files. The script uses Python to monitor directories, classify files based on content and metadata, and execute automated workflows.",technologies:["Python","FastAPI","Pandas","SQLite","Celery"],features:["Automatic file classification and tagging","Scheduled file processing tasks","Duplicate detection and removal","Batch file operations","Email notifications for completed tasks","Comprehensive logging system"],challenges:"Handling large volumes of files efficiently while ensuring data integrity was critical. Implemented multi-threaded processing and checksum verification to ensure reliability and speed."},{title:"Local Pro Services Hub",description:"A clean, fast service marketplace built with modern UI components.",image:bee,fullDescription:"A two-sided marketplace platform connecting homeowners with skilled handyman and service professionals. Features include service booking, real-time availability, and review systems.",technologies:["React","Next.js","Form Handling","GitHub","Framer Motion"],features:["Service provider profiles and portfolios","Real-time booking system","Rating and review system","Geolocation-based service matching","Push notifications for bookings"],challenges:"Creating a seamless booking experience while handling real-time availability updates was complex. Implemented optimistic UI updates and WebSocket connections for instant synchronization."}];function Ree(){const[n,e]=D.useState(null);return U.jsxs("section",{id:"projects",className:"py-16 md:py-24 lg:py-32 bg-gradient-to-b from-primary/5 to-background scroll-mt-20",children:[U.jsxs("div",{className:"max-w-7xl mx-auto px-6 md:px-8",children:[U.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-center mb-16",children:"Projects"}),U.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:LP.map((t,i)=>U.jsx(Qn.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.5,delay:i*.1},children:U.jsxs(KM,{onClick:()=>e(i),className:"relative h-36 cursor-pointer overflow-hidden rounded-xl shadow-lg hover:shadow-2xl hover:scale-105 transition-transform duration-300",children:[U.jsx("div",{className:"absolute inset-0 bg-cover bg-center filter brightness-75",style:{backgroundImage:`url(${t.image})`}}),U.jsxs("div",{className:"relative z-10 p-4 flex flex-col justify-end h-full text-white",children:[U.jsx("h3",{className:"text-lg font-semibold",children:t.title}),U.jsx("p",{className:"text-sm opacity-90",children:t.description})]})]})},i))})]}),U.jsx($w,{children:n!==null&&U.jsx(Pee,{project:LP[n],onClose:()=>e(null)})})]})}function Pee({project:n,onClose:e}){const t=D.useRef(null);return D.useEffect(()=>{const i=document.body.style.cssText;return document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%",()=>{document.body.style.cssText=i}},[]),D.useEffect(()=>{const i=r=>{r.key==="Escape"&&e()};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[e]),D.useEffect(()=>{const i=r=>{if(!t.current)return;const{scrollTop:s,scrollHeight:o,clientHeight:a}=t.current,l=r.touches[0].clientY>r.touches[0].clientY,c=s===0,d=s+a>=o;(c&&l||d&&!l)&&r.preventDefault()};return document.addEventListener("touchmove",i,{passive:!1}),()=>document.removeEventListener("touchmove",i)},[]),U.jsx(Qn.div,{className:"fixed inset-0 z-[9999] bg-black/40 backdrop-blur-sm flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,children:U.jsxs(Qn.div,{ref:t,className:"relative w-full max-w-4xl h-[80vh] bg-card border border-card-border rounded-2xl shadow-xl flex flex-col overflow-y-auto",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.3,ease:"easeOut"},onClick:i=>i.stopPropagation(),children:[U.jsxs("div",{className:"relative h-1/3 w-full flex-shrink-0",children:[U.jsx("img",{src:n.image,alt:n.title,className:"w-full h-full object-cover",loading:"lazy"}),U.jsx($l,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 bg-background/80 backdrop-blur-sm rounded-full",onClick:e,"aria-label":"Close",children:U.jsx(lv,{className:"h-6 w-6"})})]}),U.jsxs("div",{className:"p-6 flex-1 space-y-4",children:[U.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:n.title}),U.jsx("p",{className:"text-muted-foreground",children:n.fullDescription}),U.jsxs("div",{children:[U.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Technologies Used"}),U.jsx("div",{className:"flex flex-wrap gap-2",children:n.technologies.map((i,r)=>U.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium",children:i},r))})]}),U.jsxs("div",{children:[U.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Key Features"}),U.jsx("ul",{className:"grid md:grid-cols-2 gap-2",children:n.features.map((i,r)=>U.jsxs("li",{className:"flex items-start gap-2",children:[U.jsx("span",{className:"text-primary mt-1",children:""}),U.jsx("span",{className:"text-muted-foreground",children:i})]},r))})]}),U.jsxs("div",{children:[U.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Challenges & Solutions"}),U.jsx("p",{className:"text-muted-foreground leading-relaxed",children:n.challenges})]})]})]})})}const Lee="https://wa.me/917002765156";function Bee(){return U.jsx("section",{id:"contact",className:"relative py-16 md:py-24 lg:py-32 bg-gradient-to-br from-primary/10 via-cyan-400/10 to-primary/10 scroll-mt-20 overflow-hidden",children:U.jsxs("div",{className:"max-w-7xl mx-auto px-6 md:px-8 relative z-10",children:[U.jsxs("div",{className:"text-center space-y-4 md:space-y-6 lg:space-y-8",children:[U.jsxs(Qn.h2,{className:"text-3xl md:text-4xl lg:text-5xl font-bold leading-tight",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.6,ease:[.4,0,.2,1]},children:["Ready to build something ",U.jsx("br",{}),U.jsx("span",{className:"text-cyan-500",children:"fast, "}),U.jsx("span",{className:"text-yellow-400",children:"modern, "}),"and ",U.jsx("span",{className:"text-pink-500",children:"efficient?"})]}),U.jsx(Qn.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.6,delay:.4,ease:[.4,0,.2,1]},children:U.jsx($l,{asChild:!0,size:"lg",className:`
                text-base group mt-6
                bg-yellow-500 hover:bg-yellow-300
                text-black
              `,"data-testid":"button-whatsapp",children:U.jsxs("a",{href:Lee,target:"_blank",rel:"noopener noreferrer",children:[U.jsx(CH,{className:"mr-2 h-5 w-5"}),"WhatsApp Me"]})})})]}),U.jsx("div",{className:"absolute inset-0 flex justify-between items-center pointer-events-none"})]})})}const Iee=[{icon:wH,href:"https://github.com/deymohit02",label:"GitHub"},{icon:MH,href:"https://www.linkedin.com/in/mohit-kumar-dey-8b1633291/",label:"LinkedIn"},{icon:RH,href:"https://x.com/flash_base_ETH",label:"Twitter"},{icon:EH,href:"mailto:deymohit5@gmail.com",label:"Email"}];function Dee(){return U.jsx("footer",{className:"bg-background border-t border-border py-12",children:U.jsx("div",{className:"max-w-7xl mx-auto px-6 md:px-8",children:U.jsxs("div",{className:"flex flex-col items-center gap-8",children:[U.jsx("div",{className:"flex gap-4",children:Iee.map((n,e)=>U.jsx($l,{variant:"ghost",size:"icon",className:"rounded-full w-12 h-12",asChild:!0,"data-testid":`button-social-${n.label.toLowerCase()}`,children:U.jsx("a",{href:n.href,target:"_blank",rel:"noopener noreferrer","aria-label":n.label,children:U.jsx(n.icon,{className:"h-5 w-5"})})},e))}),U.jsx("div",{className:"text-center text-sm text-muted-foreground",children:U.jsxs("p",{children:[" ",new Date().getFullYear(),"  Mohit Kumar Dey  AI + Full Stack Developer  All rights reserved."]})})]})})})}function Nee(){return U.jsxs(jG,{children:[U.jsx(p7,{}),U.jsx(k$,{}),U.jsx(H$,{}),U.jsx(j$,{}),U.jsx(yee,{}),U.jsx(Ree,{}),U.jsx(Bee,{}),U.jsx(Dee,{})]})}function Fee(){return U.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:U.jsx(KM,{className:"w-full max-w-md mx-4",children:U.jsxs(JO,{className:"pt-6",children:[U.jsxs("div",{className:"flex mb-4 gap-2",children:[U.jsx(xH,{className:"h-8 w-8 text-red-500"}),U.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),U.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Oee(){return U.jsxs(W5,{children:[U.jsx(HC,{path:"/",component:Nee}),U.jsx(HC,{component:Fee})]})}function kee(){return U.jsx(pz,{client:vz,children:U.jsx(UG,{defaultTheme:"dark",children:U.jsxs(OG,{children:[U.jsx(d8,{}),U.jsx(Oee,{})]})})})}Sd.preload("/models/obot.glb");ZL(document.getElementById("root")).render(U.jsx(kee,{}));
